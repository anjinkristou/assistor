(this.webpackJsonpassistor=this.webpackJsonpassistor||[]).push([[0],{779:function(e,t){},841:function(e,t,a){"use strict";a.r(t);var n=a(983),c=a(0),r=a.n(c),s=a(33),i=a.n(s),o=a(7),l=a(334),j=a(986),d=a(982),b=a(989),u=a(396),O=a(185),x=a(18),m=a.n(x),p=a(34),h=a(61),f=a.n(h),g=a(278),v="credentials";function y(e){localStorage.setItem(v,JSON.stringify(e))}function w(){var e=localStorage.getItem(v);return null===e?null:JSON.parse(e)}var k=function(e){var t=new Date,a=Object(g.a)(e);return a&&a.exp&&1e3*a.exp>t.getTime()},_="/auth",C=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w()){e.next=3;break}return e.abrupt("return");case 3:return a=null===t||void 0===t?void 0:t.refresh_token,n={headers:{Authorization:"Bearer ".concat(a)}},e.next=7,f.a.post("".concat(_,"/refresh"),void 0,n);case 7:c=e.sent,r=c.data.access_token,y(Object(o.a)(Object(o.a)({},t),{},{access_token:r}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,c,r,s,i,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.prev=1,e.next=4,f.a.post("".concat(_,"/login"),{username:a,password:n});case 4:return c=e.sent,r=c.data,s=r.access_token,i=r.refresh_token,o=Object(g.a)(s),y({access_token:s,refresh_token:i,permissions:o.permissions}),e.abrupt("return",Promise.resolve());case 11:return e.prev=11,e.t0=e.catch(1),l=e.t0.response,e.abrupt("return",Promise.reject({message:l.data.msg,status:l.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(_,"/logout"));case 2:return localStorage.removeItem(v),e.abrupt("return",Promise.resolve("/login"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.first_name,n=t.last_name,c=t.email,r=t.username,s=t.password,e.prev=1,e.next=4,f.a.post("".concat(_,"/register"),{first_name:a,last_name:n,email:c,username:r,password:s});case 4:e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data.msg,status:i.status}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,c,r,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=w(),a=null===t||void 0===t?void 0:t.access_token,n={headers:{Authorization:"Bearer ".concat(a)}},e.next=6,f.a.get("".concat(_,"/user"),n);case 6:return c=e.sent,r=c.data,s=r.id,i=r.fullName,o=r.avatar,e.abrupt("return",Promise.resolve({id:s,fullName:i,avatar:o}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(a=t.status)&&403!==a&&422!==a){e.next=9;break}e.prev=2,C(),e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(2),e.abrupt("return",Promise.reject());case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(t){return e.apply(this,arguments)}}(),I={login:S,checkError:D,checkAuth:function(){var e=w(),t=null===e||void 0===e?void 0:e.access_token;return t&&k(t)?Promise.resolve():Promise.reject()},logout:N,getIdentity:T,getPermissions:function(){return Promise.resolve()},register:P},L=function(){var e=w(),t=null===e||void 0===e?void 0:e.access_token;t&&!k(t)&&C()},A=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=7,f.a.get("/".concat(t,"/list"),r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=7,f.a.get("/".concat(t,"/item"),r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=7,f.a.get("/".concat(t,"/items"),r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=7,f.a.get("/".concat(t,"/refs"),r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)}},e.next=7,f.a.post("/".concat(t,"/item"),a,r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)}},e.next=7,f.a.put("/".concat(t,"/item"),a,r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)}},e.next=7,f.a.put("/".concat(t,"/items"),a,r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=7,f.a.delete("/".concat(t,"/item"),r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=7,f.a.delete("/".concat(t,"/items"),r);case 7:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 11:return e.prev=11,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,c,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,a=w(),n=null===a||void 0===a?void 0:a.access_token,c={headers:{Authorization:"Bearer ".concat(n)},params:{id:t}},e.next=7,f.a.get("/linkedin/company/fetch",c);case 7:return r=e.sent,e.abrupt("return",Promise.resolve(r.data));case 11:return e.prev=11,e.t0=e.catch(1),s=e.t0.response,e.abrupt("return",Promise.reject({message:s.data,status:s.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,t=w(),a=null===t||void 0===t?void 0:t.access_token,n={headers:{Authorization:"Bearer ".concat(a)}},e.next=7,f.a.get("/linkedin/login",n);case 7:return c=e.sent,e.abrupt("return",Promise.resolve(c.data));case 11:return e.prev=11,e.t0=e.catch(1),r=e.t0.response,e.abrupt("return",Promise.reject({message:r.data,status:r.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,c,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,a=w(),n=null===a||void 0===a?void 0:a.access_token,c={headers:{Authorization:"Bearer ".concat(n)}},r={pin:t},e.next=8,f.a.post("/linkedin/login/verify",r,c);case 8:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 12:return e.prev=12,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),U={getList:A,getOne:F,getMany:W,getManyReference:B,create:z,update:E,updateMany:R,delete:M,deleteMany:V,fetchLinkedinCompany:H,loginLinkedin:G,verifyLoginLinkedin:q},J=a(44),K=a(297),Z=a(389),$=a(570),Q=a(50),X=a(502),Y=a.n(X),ee=a(49),te=a(15),ae=a(490),ne=a.n(ae),ce=a(1),re=Object(ee.a)((function(e){var t;return{root:(t={display:"flex"},Object(te.a)(t,e.breakpoints.down("xs"),{display:"none"}),Object(te.a)(t,"alignItems","center"),Object(te.a)(t,"gap",e.spacing(1)),t),logoIcon:{color:e.palette.secondary.light},logoText:{color:e.palette.primary.light}}})),se=function(){var e=re();return Object(ce.jsxs)("div",{className:e.root,children:[Object(ce.jsx)(ne.a,{className:e.logoIcon}),Object(ce.jsx)(Q.a,{variant:"h6",className:e.logoText,children:"Assistor"})]})},ie=a(16),oe=a(125),le=a(924),je=a(397),de=a(242),be=a(579),ue=a(212),Oe=a(399),xe=a(497),me=a.n(xe),pe=a(923),he=a(846),fe=a(493),ge=a(342),ve=a(107),ye=a.n(ve),we=a(498),ke=a.n(we),_e=a(294),Ce=a.n(_e),Se=a(990),Ne=Object(ee.a)((function(e){return{}})),Pe={vertical:"bottom",horizontal:"right"},Te={vertical:"top",horizontal:"right"},De=function(e){Ne();var t=Object(pe.a)(),a=Object(he.a)().identity,n=Object(c.useState)(null),r=Object(ie.a)(n,2),s=r[0],i=r[1],l=Date.now(),j=Object(fe.a)("tasks",{page:1,perPage:1e3},{field:"due_date",order:"ASC"},{status_dif:"done",sales_id:a&&(null===a||void 0===a?void 0:a.id)}),d=j.data,b=j.ids,u=(j.loaded,Boolean(s)),O=b.length>0;return Object(ce.jsxs)("div",Object(o.a)(Object(o.a)({},e),{},{children:[Object(ce.jsx)(oe.a,{"aria-owns":u?"notification-menu":"","aria-haspopup":!0,color:"inherit",onClick:function(e){return i(e.currentTarget)},children:Object(ce.jsx)(le.a,{badgeContent:b.length,color:"error",children:O?Object(ce.jsx)(me.a,{}):Object(ce.jsx)(ke.a,{})})}),O&&Object(ce.jsx)(je.a,{id:"notification-menu",disableScrollLock:!0,anchorEl:s,anchorOrigin:Pe,transformOrigin:Te,getContentAnchorEl:null,open:u,onClose:function(){return i(null)},children:b.map((function(e){var a=d[e],n=a.due_date<(new Date).toISOString();return Object(ce.jsxs)(de.a,{onClick:function(){return function(e){i(null),t("/tasks/".concat(e,"/show"))}(e)},children:[Object(ce.jsx)(be.a,{children:Object(ce.jsx)(ue.a,{style:n?{backgroundColor:ge.a[400]}:void 0,children:n?Object(ce.jsx)(Ce.a,{}):Object(ce.jsx)(ye.a,{})})}),Object(ce.jsx)(Oe.a,{primary:Object(ce.jsx)(ce.Fragment,{children:a.text}),secondary:Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(Q.a,{variant:"body2",color:"textSecondary",children:["due in"," ",Object(Se.a)(new Date(a.due_date),l)]})})})]})}))})]}))},Ie=a(592),Le=a(1007),Ae=a(25),Fe=a(179),We=a.n(Fe),Be=Object(ee.a)((function(e){return Object(Le.a)({search:Object(te.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ae.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ae.a)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(te.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})})})),ze=function(){var e=Be();return Object(ce.jsxs)("div",{className:e.search,children:[Object(ce.jsx)("div",{className:e.searchIcon,children:Object(ce.jsx)(We.a,{})}),Object(ce.jsx)(Ie.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]})},Ee=a(48),Re=a(271),Me=a(485),Ve=a(400),He=a(500),Ge=a.n(He),qe=["onClick"],Ue=Object(ee.a)((function(e){return{menuItem:{color:e.palette.text.secondary},icon:{minWidth:e.spacing(5)}}})),Je=Object(c.forwardRef)((function(e,t){var a=e.onClick,n=(Object(Ee.a)(e,qe),Object(Re.a)()),c=Object(Me.a)(),r=Ue();return Object(ce.jsxs)(de.a,{ref:t,className:r.menuItem,onClick:function(e){c("en"===n?"ja":"en"),a&&a(e)},children:[Object(ce.jsx)(Ve.a,{className:r.icon,children:Object(ce.jsx)(Ge.a,{})}),"Switch Language"]})})),Ke=Je,Ze=a(291),$e=a(145),Qe=a(848),Xe=a(849),Ye=a(850),et=a(851),tt=a(210),at=a(855),nt=a(345),ct=function(e){var t=e.open,a=e.onClose,n=Object($e.a)(),r=Object(Ze.a)(),s=Object(c.useState)(""),i=Object(ie.a)(s,2),o=i[0],l=i[1],j=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.verifyLoginLinkedin(o);case 3:r("Linkedin login successfull","info"),a(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.message,r("Linkedin login failed","warning");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)(Qe.a,{onClose:a,open:t,fullWidth:!0,maxWidth:"sm",children:[Object(ce.jsx)(Xe.a,{children:"Pin verification"}),Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(et.a,{children:"Check your email and insert the pin number in the field below."}),Object(ce.jsx)(tt.a,{autoFocus:!0,margin:"dense",id:"pin",label:"Pin",type:"string",fullWidth:!0,value:o,onChange:function(e){return l(e.target.value)}})]}),Object(ce.jsxs)(at.a,{children:[Object(ce.jsx)(nt.a,{onClick:j,color:"primary",autoFocus:!0,children:"Submit"}),Object(ce.jsx)(nt.a,{onClick:a,color:"secondary",children:"Cancel"})]})]})},rt=a(296),st=a.n(rt),it=["onClick"],ot=Object(ee.a)((function(e){return{menuItem:{color:e.palette.text.secondary},icon:{minWidth:e.spacing(5)}}})),lt=Object(c.forwardRef)((function(e,t){var a=e.onClick,n=(Object(Ee.a)(e,it),Object(Re.a)(),Object(Me.a)(),Object(Ze.a)()),c=ot(),s=Object($e.a)(),i=r.a.useState(!1),o=Object(ie.a)(i,2),l=o[0],j=o[1],d=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.loginLinkedin();case 3:n("Linkedin login successfull","info"),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.message,n("Linkedin login failed","warning"),j(!0);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(de.a,{ref:t,className:c.menuItem,onClick:function(e){d(),a&&a(e)},children:[Object(ce.jsx)(Ve.a,{className:c.icon,children:Object(ce.jsx)(st.a,{})}),"LinkedIn Login"]}),Object(ce.jsx)(ct,{open:l,onClose:function(){return j(!1)}})]})})),jt=lt,dt=Object(ee.a)({title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}),bt=Object(c.forwardRef)((function(e,t){Object(J.a)();return Object(ce.jsx)(K.a,{ref:t,to:"/configuration",primaryText:"Configuration",leftIcon:Object(ce.jsx)(Y.a,{}),onClick:e.onClick,sidebarIsOpen:!0})})),ut=function(e){return Object(ce.jsxs)(Z.a,Object(o.a)(Object(o.a)({},e),{},{children:[Object(ce.jsx)(bt,{}),Object(ce.jsx)(jt,{}),Object(ce.jsx)(Ke,{})]}))},Ot=function(e){var t=dt();return Object(ce.jsxs)($.a,Object(o.a)(Object(o.a)({},e),{},{elevation:1,userMenu:Object(ce.jsx)(ut,{}),children:[Object(ce.jsx)(Q.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),Object(ce.jsx)(se,{}),Object(ce.jsx)("span",{className:t.spacer}),Object(ce.jsx)(ze,{}),Object(ce.jsx)(De,{})]}))},xt=a(12),mt=a(996),pt=a(181),ht=a.n(pt),ft=a(553),gt=a(401),vt=a(927),yt=a(398),wt=a(157),kt=a.n(wt),_t=Object(ee.a)((function(e){return{icon:{minWidth:e.spacing(5)},sidebarIsOpen:{"& a":{transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms",paddingLeft:e.spacing(4)}},sidebarIsClosed:{"& a":{transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms",paddingLeft:e.spacing(2)}}}})),Ct=function(e){var t=e.handleToggle,a=e.isOpen,n=e.name,r=e.icon,s=e.children,i=e.dense,o=Object(J.a)(),l=_t(),j=Object(xt.f)((function(e){return e.admin.ui.sidebarOpen})),d=Object(ce.jsxs)(de.a,{dense:i,button:!0,onClick:t,children:[Object(ce.jsx)(Ve.a,{className:l.icon,children:a?Object(ce.jsx)(kt.a,{}):r}),Object(ce.jsx)(Q.a,{variant:"inherit",color:"textSecondary",children:o(n)})]});return Object(ce.jsxs)(c.Fragment,{children:[j||a?d:Object(ce.jsx)(gt.a,{title:o(n),placement:"right",children:d}),Object(ce.jsx)(vt.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(ce.jsx)(yt.a,{dense:i,component:"div",disablePadding:!0,className:j?l.sidebarIsOpen:l.sidebarIsClosed,children:s})})]})},St=a(934),Nt=a(571),Pt=a(186),Tt=a(1012),Dt=a(1011),It=a(1010),Lt=a(591),At=a(241),Ft=a(585),Wt=a(860),Bt=a(997),zt=a(594),Et=a(180),Rt=a.n(Et),Mt=a(303),Vt=a.n(Mt),Ht=a(148),Gt=a(574),qt=a(929),Ut=a(23),Jt=["Factory Automation","Logistics Automation","Warehouse Automation","Consulting & Development"].map((function(e){return{id:e,name:e}})),Kt=a(108),Zt=a.n(Kt),$t=a(4),Qt=Object(ee.a)((function(e){return{avatar:{width:60,height:60,backgroundColor:"aliceblue",color:e.palette.secondary.main},img:{objectFit:"contain"},small:{width:20,height:20},large:{width:40,height:40}}})),Xt=function(e){var t=e.record,a=e.size,n=void 0===a?"large":a,c=Qt();return t?t.logo?Object(ce.jsx)(ue.a,{src:""+t.logo,alt:t.name,className:c.avatar,imgProps:{className:Object($t.a)(c.img,c[n])}}):Object(ce.jsx)(ue.a,{alt:t.name,className:c.avatar,children:Object(ce.jsx)(Zt.a,{})}):null},Yt=a(928),ea=Object(ee.a)((function(e){return{image:{width:function(e){return e.width}}}})),ta={medium:42,small:20},aa=function(e){var t=e.record,a=e.source,n=void 0===a?"url":a,c=e.title,r=void 0===c?"nicename":c,s=e.size,i=ea({width:ta[void 0===s?"medium":s]});return t?Object(ce.jsx)(Yt.a,{record:t,source:n,title:r,classes:i}):null},na=Object(ee.a)((function(e){return{paper:{height:200,width:194,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"1em",position:"relative"},identity:{display:"flex",flexDirection:"column",alignItems:"center"},name:{textAlign:"center",marginTop:e.spacing(1)},stats:{display:"flex",justifyContent:"space-around",width:"100%"},singleStat:{display:"flex",alignItems:"center"},statIcon:{marginRight:e.spacing(1)},checkbox:{position:"absolute",top:0,right:0},identifier:{position:"absolute",top:e.spacing(1),lrft:0}}})),ca=function(e){var t=e.record,a=na(),n=Object(c.useState)(1),r=Object(ie.a)(n,2),s=r[0],i=r[1],o=Object(Ft.a)(),l=(o.data,o.ids,o.loaded,o.onToggleItem),j=o.selectedIds;return Object(ce.jsx)(Wt.a,{component:Ut.a,to:Object(Ht.a)("/companies",t.id,"show"),underline:"none",onMouseEnter:function(){return i(3)},onMouseLeave:function(){return i(1)},children:Object(ce.jsxs)(At.a,{className:a.paper,elevation:s,children:[Object(ce.jsx)(Bt.a,{edge:"start",checked:j.includes(t.id),tabIndex:-1,disableRipple:!0,className:a.checkbox,onClick:function(e){e.stopPropagation(),l(t.id)}}),Object(ce.jsx)(Q.a,{variant:"body2",color:"textSecondary",className:a.identifier,children:"#".concat(t.id)}),Object(ce.jsxs)("div",{className:a.identity,children:[Object(ce.jsx)(Xt,{record:t}),Object(ce.jsxs)("div",{className:a.name,children:[Object(ce.jsxs)(Lt.a,{display:"flex",alignItems:"center",children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:t.name}),Object(ce.jsx)(Gt.a,{record:t,source:"country_id",reference:"countries",link:!1,children:Object(ce.jsx)(aa,{size:"small"})})]}),t.relation&&Object(ce.jsx)(zt.a,{label:t.relation,variant:"outlined",size:"small"}),Object(ce.jsx)(qt.a,{color:"textSecondary",source:"sector",choices:Jt,record:t})]})]}),Object(ce.jsxs)("div",{className:a.stats,children:[Object(ce.jsxs)("div",{className:a.singleStat,children:[Object(ce.jsx)(Rt.a,{color:"disabled",className:a.statIcon}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_contacts}),Object(ce.jsx)(Q.a,{variant:"caption",color:"textSecondary",children:t.nb_contacts>1?"contacts":"contact"})]})]}),Object(ce.jsxs)("div",{className:a.singleStat,children:[Object(ce.jsx)(Vt.a,{color:"disabled",className:a.statIcon}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_notes}),Object(ce.jsx)(Q.a,{variant:"caption",color:"textSecondary",children:t.nb_notes>1?"notes":"note"})]})]})]})]})})},ra=Object(ee.a)((function(e){return{gridList:{display:"flex",flexWrap:"wrap",width:"100%",gap:"5px"},paper:{height:200,width:194,display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[200]}}})),sa=function(){var e,t,a=ra();return Object(ce.jsx)(Lt.a,{className:a.gridList,children:(e=15,t=function(e){return Object(ce.jsx)(At.a,{className:a.paper},e)},Array.from({length:e},(function(e,a){return t(a)})))})},ia=function(){var e=Object(Ft.a)(),t=e.ids,a=e.data,n=ra();return t&&a?Object(ce.jsx)(Lt.a,{className:n.gridList,children:t.map((function(e){return Object(ce.jsx)(ca,{record:a[e]},e)}))}):null},oa=function(){return Object(Ft.a)().loaded?Object(ce.jsx)(ia,{}):Object(ce.jsx)(sa,{})},la=a(931),ja=a(932),da=a(933),ba=a(512),ua=a.n(ba),Oa=a(184),xa=a.n(Oa),ma=a(308),pa=a.n(ma),ha=a(513),fa=a.n(ha),ga=["Distributor","End-customer","Prospect","Competitor"].map((function(e){return{id:e,name:e}})),va=function(e){var t=e.record;return Object(ce.jsx)(ce.Fragment,{children:t&&Object(ce.jsx)(zt.a,{label:t.name,size:"small",style:{backgroundColor:t.color,border:0,cursor:"pointer"}})})},ya=a(930),wa=a(222),ka=a.n(wa),_a=Object(ee.a)((function(e){return{root:{order:-1,display:"flex",flexDirection:"column"},sideBig:Object(te.a)({width:250,minWidth:250,marginLeft:e.spacing(2)},e.breakpoints.down("xs"),{display:"none"}),sideSmall:Object(te.a)({},e.breakpoints.up("sm"),{display:"none"}),container:{order:-1,marginLeft:e.spacing(1),marginRight:e.spacing(1),minWidth:"13em"},drawerContent:{marginTop:e.spacing(2),marginLeft:e.spacing(1),marginRight:e.spacing(1),maxWidth:e.spacing(32)}}})),Ca=function(e){var t=e.children,a=_a(),n=Object(c.useState)(!1),r=Object(ie.a)(n,2),s=r[0],i=r[1],o=c.Children.map(t,(function(e){return c.isValidElement(e)?c.cloneElement(e,{}):e}));return Object(ce.jsxs)("div",{className:a.root,children:[Object(ce.jsx)("div",{className:a.sideBig,children:o}),Object(ce.jsx)("div",{className:a.sideSmall,children:Object(ce.jsx)(oe.a,{onClick:function(){return i(!0)},color:"secondary",children:Object(ce.jsx)(ka.a,{})})}),Object(ce.jsx)(ya.a,{anchor:"left",open:s,onClose:function(){return i(!1)},children:Object(ce.jsx)("div",{className:a.drawerContent,children:o})})]})},Sa=Object(ee.a)((function(e){return{container:{minWidth:"13em"},countryList:{maxHeight:e.spacing(20),overflow:"auto"},tagList:{maxHeight:e.spacing(20),overflow:"auto"}}})),Na=function(){var e=Sa(),t=Object(he.a)().identity,a=Object(fe.a)("tags",{page:1,perPage:500},{field:"name",order:"ASC"}),n=a.data,c=a.ids,r=Object(fe.a)("countries",{page:1,perPage:500},{field:"name",order:"ASC"}),s=r.data,i=r.ids;return Object(ce.jsxs)(Ca,{children:[Object(ce.jsx)(la.a,{}),Object(ce.jsx)(ja.a,{label:"Relation",icon:Object(ce.jsx)(Zt.a,{}),children:ga.map((function(e){return Object(ce.jsx)(da.a,{label:e.name,value:{relation:e.id}},e.id)}))}),Object(ce.jsx)(ja.a,{label:"Tags",icon:Object(ce.jsx)(pa.a,{}),children:Object(ce.jsx)("div",{className:e.tagList,children:c&&n&&c.map((function(e){return Object(ce.jsx)(da.a,{label:Object(ce.jsx)(va,{record:n[e]}),value:{tags:[e]}},e)}))})}),Object(ce.jsx)(ja.a,{label:"Sector",icon:Object(ce.jsx)(ua.a,{}),children:Jt.map((function(e){return Object(ce.jsx)(da.a,{label:e.name,value:{sector:e.id}},e.id)}))}),Object(ce.jsx)(ja.a,{label:"Countries",icon:Object(ce.jsx)(fa.a,{}),children:Object(ce.jsx)("div",{className:e.countryList,children:i&&s&&i.map((function(e){return Object(ce.jsx)(da.a,{label:s[e].nicename,value:{country_id:e}},e)}))})}),Object(ce.jsx)(ja.a,{label:"Account manager",icon:Object(ce.jsx)(xa.a,{}),children:Object(ce.jsx)(da.a,{label:"Me",value:{sales_id:t&&t.id}})})]})},Pa=a(144),Ta=a(45),Da=a(517),Ia=a.n(Da),La=function(){var e=Object(Ft.a)(),t=e.ids,a=(e.data,e.onSelect);return Object(ce.jsx)(Ta.a,{onClick:function(e){e.stopPropagation(),a(t)},label:"Select All",children:Object(ce.jsx)(Ia.a,{})})},Aa=Object(ee.a)((function(e){return{toolbar:{},createButton:{marginLeft:e.spacing(2)}}})),Fa={parseConfig:{dynamicTyping:!0}},Wa=function(e){var t=Aa();return Object(ce.jsxs)(Pt.a,{className:t.toolbar,children:[Object(ce.jsx)(Tt.a,{fields:["id","name"]}),Object(ce.jsx)(La,{}),Object(ce.jsx)(Dt.a,{}),Object(ce.jsx)(Pa.a,Object(o.a)(Object(o.a)({},e),Fa)),Object(ce.jsx)(It.a,{basePath:"/companies",variant:"contained",label:"New Company",className:t.createButton})]})},Ba=a(993),za=a(1e3),Ea=a(304),Ra=a(307),Ma=a(947),Va=a(948),Ha=a(1001),Ga=a(994),qa=a(950),Ua=a(944),Ja=a(943),Ka=a(951),Za=[{id:1,name:"1 employee"},{id:10,name:"2-9 employees"},{id:50,name:"10-49 employees"},{id:250,name:"50-249 employees"},{id:500,name:"250 or more employees"}],$a=function(e){return Object(ce.jsx)(Ua.a,Object(o.a)(Object(o.a)({},e),{},{optionText:function(e){return e?e.country_iso?"".concat(e.name," (").concat(e.country_iso,")"):"".concat(e.name):""},allowEmpty:!0,resettable:!0}))},Qa=["formData"],Xa=Object(ee.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),Ya=function(e){var t=e.children;return Object(ce.jsx)(Ja.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Lt.a,{paddingTop:1,children:Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(Zt.a,{})})}),Object(ce.jsx)(Lt.a,{ml:2,flex:"1",maxWidth:796,children:t})]})})},en=function(){return Object(ce.jsx)(Lt.a,{mb:2,children:Object(ce.jsx)(Ka.a,{})})},tn=a(1005),an=a(960),nn=a(239),cn=a(1003),rn=a(74),sn=a(941),on=a(992),ln=a(961),jn=a(164),dn=a(402),bn=a(544),un=a.n(bn),On=a(311),xn=a.n(On),mn=function(e){var t=e.record;return Object(ce.jsxs)(ue.a,{src:t.avatar,children:[t.first_name.charAt(0),t.last_name.charAt(0)]})},pn=function(e){return"cold"===e?"#7dbde8":"warm"===e?"#e8cb7d":"hot"===e?"#e88b7d":"in-contract"===e?"#a4e87d":"#000"},hn=function(e){var t=e.status;return Object(ce.jsx)(Lt.a,{width:10,height:10,display:"inline-block",borderRadius:5,bgcolor:pn(t),component:"span"})},fn=a(534),gn=a(573),vn=a(535),yn=["record"],wn=function(e){var t=e.record,a=Object(Ee.a)(e,yn);return t?Object(ce.jsx)(fn.a,Object(o.a)(Object(o.a)({record:t},a),{},{style:{backgroundColor:t.color,border:0},component:"span"})):null},kn=Object(ee.a)({root:{display:"inline-block"}}),_n=function(e){var t=e.record,a=kn();return t?Object(ce.jsx)(gn.a,{record:t,basePath:"/contacts",resource:"contacts",source:"tags",reference:"tags",className:a.root,children:Object(ce.jsx)(vn.a,{linkType:!1,component:"span",children:Object(ce.jsx)(wn,{source:"name",variant:"outlined",size:"small"})})}):null},Cn=a(857),Sn=a(536),Nn=a.n(Sn),Pn=a(952),Tn=a(926),Dn=Object(ee.a)({image:{objectFit:"contain"}}),In={medium:42,small:20},Ln=function(e){var t=e.record,a=(e.source,e.size),n=void 0===a?"medium":a,r=Dn(),s=Object(c.useState)(!1),i=Object(ie.a)(s,2),o=i[0],l=i[1],j=Object(c.useState)(!1),d=Object(ie.a)(j,2),b=d[0],u=d[1],O=Object($e.a)(),x=Object(Pn.a)(),h=Object(ie.a)(x,2),f=h[0],g=(h[1].loading,Object(Tn.a)());if(!t)return null;if(!t.logo)return Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(Zt.a,{})});var v=function(){var e=Object(p.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,O.fetchLinkedinCompany(t.id);case 4:return a=e.sent,e.next=7,f("companies",t.id,{logo:a.data.logo_url},t);case 7:l(!1),g(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsx)(ce.Fragment,{children:o?b?Object(ce.jsx)(Cn.a,{}):Object(ce.jsx)(oe.a,{onClick:v,children:Object(ce.jsx)(Nn.a,{})}):Object(ce.jsx)("img",{src:""+t.logo,alt:t.name,title:t.name,width:In[n],height:In[n],className:r.image,onError:function(){return l(!0)}})})},An=a(540),Fn=a(958),Wn=a(36),Bn=a(867),zn=a(945),En=a(320),Rn=a.n(En),Mn=a(321),Vn=a.n(Mn),Hn=["#eddcd2","#fff1e6","#fde2e4","#fad2e1","#c5dedd","#dbe7e4","#f0efeb","#d6e2e9","#bcd4e6","#99c1de"],Gn=Object(ee.a)({root:{width:30,height:30,borderRadius:15,display:"inline-block",margin:8}}),qn=function(e){var t=e.color,a=e.handleClick,n=e.selected,c=Gn();return Object(ce.jsx)("button",{type:"button",className:c.root,style:{backgroundColor:t,border:n?"2px solid grey":"none"},onClick:a})},Un=function(e){var t=e.record,a=e.reference,n=Object(c.useState)(!1),r=Object(ie.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),l=Object(ie.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(Hn[0]),u=Object(ie.a)(b,2),O=u[0],x=u[1],m=Object(c.useState)(null),p=Object(ie.a)(m,2),h=p[0],f=p[1],g=Object(c.useState)(0),v=Object(ie.a)(g,2),y=v[0],w=v[1],k=Object(c.useState)(!1),_=Object(ie.a)(k,2),C=_[0],S=_[1],N=Object(fe.a)("tags",{page:1,perPage:10},{field:"name",order:"ASC"},{},{version:y}),P=N.data,T=N.ids,D=Object(Bn.a)("tags",t.tags,{enabled:t.tags&&t.tags.length>0}),I=D.data,L=(D.loaded,Object(Pn.a)()),A=Object(ie.a)(L,1)[0],F=Object(zn.a)(),W=Object(ie.a)(F,1)[0],B=T&&T.filter((function(e){return!t.tags.includes(e)})),z=function(e){var n=[].concat(Object(Wn.a)(t.tags),[e]);A(a,t.id,{tags:n},t),f(null)},E=function(){i(!0),f(null),S(!1)};return Object(ce.jsxs)(ce.Fragment,{children:[I.map((function(e){return Object(ce.jsx)(Lt.a,{mt:1,mb:1,children:Object(ce.jsx)(zt.a,{size:"small",variant:"outlined",onDelete:function(){return function(e){var n=t.tags.filter((function(t){return t!==e}));A(a,t.id,{tags:n},t)}(e.id)},label:e.name,style:{backgroundColor:e.color,border:0}})},e.id)})),Object(ce.jsx)(Lt.a,{mt:1,children:Object(ce.jsx)(zt.a,{icon:Object(ce.jsx)(Rn.a,{}),size:"small",variant:"outlined",onClick:function(e){f(e.currentTarget)},label:"Add tag",color:"primary"})}),Object(ce.jsxs)(je.a,{open:Boolean(h),onClose:function(){f(null)},anchorEl:h,children:[null===B||void 0===B?void 0:B.map((function(e){return Object(ce.jsx)(de.a,{onClick:function(){return z(e)},children:Object(ce.jsx)(zt.a,{size:"small",variant:"outlined",label:P&&P[e].name,style:{backgroundColor:P&&P[e].color,border:0},onClick:function(){return z(e)}})},e)})),Object(ce.jsx)(de.a,{onClick:E,children:Object(ce.jsx)(zt.a,{icon:Object(ce.jsx)(Vn.a,{}),size:"small",variant:"outlined",onClick:E,color:"primary",label:"Create new tag"})})]}),Object(ce.jsx)(Qe.a,{open:s,onClose:function(){return i(!1)},"aria-labelledby":"form-dialog-title",children:Object(ce.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S(!0),W("tags",{name:j,color:O},{onSuccess:function(e){var n=e.data;A(a,t.id,{tags:[].concat(Object(Wn.a)(t.tags),[n.id])},t,{onSuccess:function(){d(""),x(Hn[0]),i(!1),w((function(e){return e+1}))}})}})},children:[Object(ce.jsx)(Xe.a,{id:"form-dialog-title",children:"Create a new tag"}),Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(tt.a,{autoFocus:!0,label:"Tag name",fullWidth:!0,value:j,onChange:function(e){d(e.target.value)}}),Object(ce.jsx)(Lt.a,{display:"flex",flexWrap:"wrap",width:230,mt:2,children:Hn.map((function(e){return Object(ce.jsx)(qn,{color:e,selected:e===O,handleClick:function(){x(e)}},e)}))})]}),Object(ce.jsxs)(at.a,{children:[Object(ce.jsx)(nt.a,{onClick:function(){return i(!1)},color:"primary",children:"Cancel"}),Object(ce.jsx)(nt.a,{type:"submit",color:"primary",disabled:C,children:"Add tag"})]})]})})]})},Jn=a(953),Kn=a(954),Zn=a(231),$n=a.n(Zn),Qn=Object(ee.a)((function(e){return{root:{display:"flex",flexDirection:"column"},sideBig:Object(te.a)({width:250,minWidth:250,marginLeft:e.spacing(2)},e.breakpoints.down("xs"),{display:"none"}),sideSmall:Object(te.a)({},e.breakpoints.up("sm"),{display:"none"}),drawerContent:{marginTop:e.spacing(2),marginLeft:e.spacing(1),marginRight:e.spacing(1),maxWidth:e.spacing(32)}}})),Xn=function(e){var t=e.basePath,a=e.record,n=e.link,r=void 0===n?"edit":n,s=e.children,i=Qn(),o=Object(c.useState)(!1),l=Object(ie.a)(o,2),j=l[0],d=l[1];if(!a)return null;var b=c.Children.map(s,(function(e){return c.isValidElement(e)?c.cloneElement(e,{record:a}):e}));return Object(ce.jsxs)("div",{className:i.root,children:[Object(ce.jsx)(Lt.a,{textAlign:"center",mb:2,children:"edit"===r?Object(ce.jsx)(Jn.a,{basePath:t,record:a,label:"Edit"}):Object(ce.jsx)(Kn.a,{basePath:t,record:a,label:"Show"})}),Object(ce.jsx)("div",{className:i.sideBig,children:b}),Object(ce.jsx)("div",{className:i.sideSmall,children:Object(ce.jsx)(oe.a,{onClick:function(){return d(!0)},color:"secondary",children:Object(ce.jsx)($n.a,{})})}),Object(ce.jsx)(ya.a,{anchor:"right",open:j,onClose:function(){return d(!1)},children:Object(ce.jsx)("div",{className:i.drawerContent,children:b})})]})},Yn=a(1002),ec=a(925),tc=function(e){var t=e.record,a=e.reference,n=Object(c.useState)(!1),r=Object(ie.a)(n,2),s=(r[0],r[1],Object(c.useState)(null)),i=Object(ie.a)(s,2),o=i[0],l=i[1],j=Object(c.useState)(0),d=Object(ie.a)(j,2),b=(d[0],d[1],Object(Pn.a)()),u=Object(ie.a)(b,1)[0],O=Object(Tn.a)(),x=Object(Bn.a)("products",t.use_products,{enabled:t.use_products&&t.use_products.length>0}),m=x.data,p=x.loaded,h=function(){l(null)};return t?Object(ce.jsxs)(ce.Fragment,{children:[p&&m.map((function(e){return Object(ce.jsx)(Lt.a,{mt:1,children:Object(ce.jsx)(zt.a,{size:"small",variant:"outlined",onDelete:function(){return function(e){var n=t.use_products.filter((function(t){return t!==e}));u(a,t.id,{use_products:n},t)}(e.id)},label:e.model,style:{backgroundColor:"#d4d4d4",border:0}})},e.id)})),Object(ce.jsx)(Lt.a,{mt:1,children:Object(ce.jsx)(zt.a,{icon:Object(ce.jsx)(Rn.a,{}),size:"small",variant:"outlined",onClick:function(e){l(e.currentTarget)},label:"Add product",color:"primary"})}),Object(ce.jsx)(ec.a,{open:Boolean(o),anchorEl:o,onClose:h,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:Object(ce.jsx)(Yn.a,{basePath:"/companies",resource:a,id:t.id.toString(),onSuccess:function(e){O(),h()},children:Object(ce.jsx)(za.a,{children:Object(ce.jsx)(Ga.a,{source:"use_products",reference:"products",children:Object(ce.jsx)(qa.a,{optionText:"model"})})})})})]}):null},ac=a(586),nc=a(863),cc=Object(nc.a)((function(e){return{root:{}}})),rc=function(e){var t=e.record,a=cc(),n=Object($e.a)(),r=Object(c.useState)(!1),s=Object(ie.a)(r,2),i=s[0],l=s[1],j=Object(c.useState)(!1),d=Object(ie.a)(j,2),b=d[0],u=d[1],O=Object(c.useState)(!1),x=Object(ie.a)(O,2),h=x[0],f=x[1],g=Object(c.useState)(),v=Object(ie.a)(g,2),y=v[0],w=v[1],k=Object(c.useState)([]),_=Object(ie.a)(k,2),C=_[0],S=_[1],N=Object(Pn.a)(),P=Object(ie.a)(N,2),T=P[0],D=(P[1].loading,Object(Tn.a)());if(!t)return null;var I=function(){var e=Object(p.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),f(!1),e.prev=2,e.next=5,n.fetchLinkedinCompany(t.id);case 5:a=e.sent,w(a.data),f(!0),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:u(!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.map((function(e){return"name"===e?{field:e,value:null===y||void 0===y?void 0:y.title}:"logo"===e?{field:e,value:null===y||void 0===y?void 0:y.logo_url}:"website"===e?{field:e,value:null===y||void 0===y?void 0:y.website_url}:void 0})),e.next=3,T("companies",t.id,a.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(te.a)({},t.field,t.value))}),{}),t);case 3:l(!1),D();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){return l(!1)},F=function(e){return function(){var t=C.indexOf(e),a=Object(Wn.a)(C);-1===t?a.push(e):a.splice(t,1),S(a)}};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(oe.a,{onClick:function(){return l(!0)},size:"small",children:Object(ce.jsx)(st.a,{})}),Object(ce.jsxs)(Qe.a,{open:i,onClose:A,fullWidth:!0,maxWidth:"sm",children:[b&&Object(ce.jsx)(ac.a,{}),Object(ce.jsx)(Xe.a,{children:"Load properties from Linkedin Page"}),Object(ce.jsx)(Ye.a,{children:Object(ce.jsxs)(yt.a,{className:a.root,children:[Object(ce.jsx)(sc,{field:"name",checked:C,onToggle:F,title:"Title",value:null===y||void 0===y?void 0:y.title}),Object(ce.jsx)(sc,{field:"website",checked:C,onToggle:F,title:"Website",value:null===y||void 0===y?void 0:y.website_url}),Object(ce.jsx)(sc,{field:"logo",checked:C,onToggle:F,title:"Logo",value:null===y||void 0===y?void 0:y.logo_url})]})}),Object(ce.jsxs)(at.a,{children:[Object(ce.jsx)(nt.a,{onClick:L,disabled:!h||0===C.length,children:"Save"}),Object(ce.jsx)(nt.a,{onClick:I,disabled:b,children:"load"}),Object(ce.jsx)(nt.a,{onClick:A,children:"Cancel"})]})]})]})},sc=function(e){var t=e.field,a=e.checked,n=e.onToggle,c=e.title,r=e.value;return Object(ce.jsxs)(jn.a,{dense:!0,button:!0,onClick:n(t),children:[Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(Bt.a,{edge:"start",checked:-1!==a.indexOf(t),tabIndex:-1,disableRipple:!0})}),Object(ce.jsx)(Oe.a,{primary:r,secondary:c})]})},ic=["record","link"],oc=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;Object(Ee.a)(e,ic);return t?Object(ce.jsx)(Xn,{record:t,link:n,basePath:"/companies",children:Object(ce.jsx)(lc,{})}):null},lc=function(e){var t=e.record;return t?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Company info"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsxs)(Lt.a,{mt:2,children:["Website: ",Object(ce.jsx)(Wt.a,{href:t.website,target:"_blank",rel:"noreferrer",children:t.website}),Object(ce.jsx)("br",{}),t.linkedIn&&Object(ce.jsxs)(ce.Fragment,{children:["LinkedIn: ",Object(ce.jsx)(Wt.a,{href:t.linkedIn,target:"_blank",rel:"noreferrer",children:"LinkedIn"}),Object(ce.jsx)(rc,{record:t})]})]}),Object(ce.jsxs)(Lt.a,{mt:1,children:["Relation: ",Object(ce.jsx)(nn.a,{source:"relation",record:t})]}),t.distributor_id&&Object(ce.jsxs)(Lt.a,{mt:1,children:["Distributor: ",Object(ce.jsx)(Gt.a,{record:t,source:"distributor_id",reference:"companies",children:Object(ce.jsx)(nn.a,{source:"name",record:t})})]}),t.phone_number&&Object(ce.jsxs)(Lt.a,{mt:1,children:[Object(ce.jsx)(nn.a,{source:"phone_number",record:t})," ",Object(ce.jsx)(Q.a,{variant:"body2",color:"textSecondary",component:"span",children:"Main"})]}),Object(ce.jsxs)(Lt.a,{mt:1,mb:3,children:[Object(ce.jsx)(nn.a,{source:"address"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(nn.a,{source:"city"})," ",Object(ce.jsx)(nn.a,{source:"zipcode"})," ",Object(ce.jsx)(nn.a,{source:"stateAbbr"})]}),Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Background"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsxs)(Lt.a,{mt:3,children:[Object(ce.jsx)(Q.a,{variant:"body2",color:"textSecondary",component:"span",children:"Added on"})," ",Object(ce.jsx)(An.a,{source:"created_at",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Q.a,{component:"span",variant:"body2",color:"textSecondary",children:"Followed by"})," ",Object(ce.jsx)(Gt.a,{resource:"companies",source:"sales_id",reference:"sales",children:Object(ce.jsx)(Fn.a,{source:"last_name",render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]}),Object(ce.jsxs)(Lt.a,{mb:3,children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Tags"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(Un,{record:t,reference:"companies"})]}),Object(ce.jsxs)(Lt.a,{mb:3,children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Use Products"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(tc,{record:t,reference:"companies"})]})]}):null},jc=["opportunity","proposal-sent","in-negociation","won","lost","delayed"],dc={opportunity:"Opportunity","proposal-sent":"Proposal Sent","in-negociation":"In Negociation",won:"Won",lost:"Lost",delayed:"Delayed"},bc=jc.map((function(e){return{id:e,name:dc[e]}})),uc=a(238),Oc=a(984),xc=a(200),mc=Object(ee.a)({root:{width:150}}),pc=function(e){var t=e.status,a=e.setStatus,n=e.className,c=void 0===n?"":n,r=mc();return Object(ce.jsxs)(tt.a,{select:!0,value:t,onChange:function(e){a(e.target.value)},variant:"filled",label:!1,margin:"none",size:"small",className:Object($t.a)(c,r.root),children:[Object(ce.jsxs)(de.a,{value:"cold",children:["Cold ",Object(ce.jsx)(hn,{status:"cold"})]}),Object(ce.jsxs)(de.a,{value:"warm",children:["Warm ",Object(ce.jsx)(hn,{status:"warm"})]}),Object(ce.jsxs)(de.a,{value:"hot",children:["Hot ",Object(ce.jsx)(hn,{status:"hot"})]}),Object(ce.jsxs)(de.a,{value:"in-contract",children:["In Contract ",Object(ce.jsx)(hn,{status:"in-contract"})]})]})},hc=Object(ee.a)((function(e){return{root:{marginTop:e.spacing(4),marginBottom:e.spacing(1)},toolbar:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(1)},small:{marginRight:"1em","& .MuiFilledInput-input":{paddingTop:10}},buttonSwitcher:{marginBottom:e.spacing(1)},previewConatiner:{display:"flex"},previewRaw:{flex:1},previewMarkdown:{flex:1,marginLeft:e.spacing(1),paddingLeft:e.spacing(1),paddingRight:e.spacing(1),borderColor:e.palette.primary.main,display:function(e){return e.preview?"block":"none"}}}})),fc=function(e){var t=e.showStatus,a=e.reference,n=Object(c.useState)(!1),r=Object(ie.a)(n,2),s=r[0],i=r[1],o=hc({preview:s}),l=Object(rn.b)(),j=Object(uc.a)(),d=Object(c.useState)(""),b=Object(ie.a)(d,2),u=b[0],O=b[1],x=Object(c.useState)(l&&l.status),m=Object(ie.a)(x,2),p=m[0],h=m[1],f=Object(c.useState)(gc()),g=Object(ie.a)(f,2),v=g[0],y=g[1],w=Object(zn.a)(),k=Object(ie.a)(w,2),_=k[0],C=k[1].loading,S=Object(Pn.a)(),N=Object(ie.a)(S,1)[0],P=Object(Tn.a)(),T=Object(Ze.a)(),D=Object(he.a)().identity;if(!l||!D)return null;return Object(ce.jsx)("div",{className:o.root,children:Object(ce.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault();var c=(n={},Object(te.a)(n,vc[a],l.id),Object(te.a)(n,"sales_id",D.id),Object(te.a)(n,"date",v),Object(te.a)(n,"text",u),n);return t&&(c.status=p),N(a,l&&l.id,{last_seen:v,status:p},l),_(j,c,{onSuccess:function(){O(""),T("Note added successfully","info"),P()}}),!1},children:[Object(ce.jsx)("div",{className:o.buttonSwitcher,children:Object(ce.jsx)(nt.a,{variant:s?"contained":"outlined",color:"primary",onClick:function(){return i(!s)},children:"Markdown"})}),Object(ce.jsxs)("div",{className:o.previewConatiner,children:[Object(ce.jsx)("div",{className:o.previewRaw,children:Object(ce.jsx)(tt.a,{label:"Add a note",variant:"filled",size:"small",fullWidth:!0,multiline:!0,value:u,onChange:function(e){return O(e.target.value)}})}),Object(ce.jsx)(At.a,{className:o.previewMarkdown,children:Object(ce.jsx)(Oc.a,{children:u,remarkPlugins:[xc.a]})})]}),Object(ce.jsxs)("div",{className:o.toolbar,children:[Object(ce.jsx)("span",{children:u?Object(ce.jsxs)(ce.Fragment,{children:[t&&Object(ce.jsx)(pc,{status:p,setStatus:h,className:o.small}),Object(ce.jsx)(tt.a,{type:"datetime-local",variant:"filled",size:"small",value:v,onChange:function(e){y(e.target.value)},className:o.small})]}):null}),Object(ce.jsx)(nt.a,{type:"submit",variant:"contained",color:"primary",disabled:!u||C,children:"Add this note"})]})]})})},gc=function(){var e=new Date;return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,-8)},vc={contacts:"contact_id",deals:"deal_id",companies:"company_id",products:"product_id"},yc=a(946),wc=a(853),kc=a(97),_c=a.n(kc),Cc=Object(ee.a)((function(e){return{root:{marginBottom:e.spacing(2)},metadata:{marginBottom:e.spacing(1),color:e.palette.text.secondary},textarea:{paddingTop:16,paddingLeft:14,paddingRight:60,paddingBottom:14,lineHeight:1.3},buttons:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},cancel:{marginRight:e.spacing(1)},content:{backgroundColor:e.palette.grey[200],padding:"0 1em",borderRadius:10,display:"flex",alignItems:"stretch",marginBottom:e.spacing(1)},text:{flex:1},paragraph:{fontFamily:e.typography.fontFamily,fontSize:e.typography.body1.fontSize,lineHeight:1,marginTop:e.spacing(1),marginBottom:e.spacing(1)},toolbar:{marginLeft:e.spacing(2),visibility:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-around"}}})),Sc=function(e){var t=e.showStatus,a=e.note,n=(e.isLast,e.reference),r=Object(c.useState)(!1),s=Object(ie.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(!1),j=Object(ie.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(a.text),O=Object(ie.a)(u,2),x=O[0],m=O[1],p=Object(uc.a)(),h=Object(rn.b)(),f=Object(Ze.a)(),g=Cc(),v=Object(Pn.a)(),y=Object(ie.a)(v,2),w=y[0],k=y[1].loading,_=Object(yc.a)(p,a.id,a,{mutationMode:"undoable",onSuccess:function(){f("Note deleted","info",void 0,!0),w(n,h.id,{nb_notes:h.nb_notes-1},h)}}),C=Object(ie.a)(_,1)[0];return Object(ce.jsxs)("div",{className:g.root,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(ce.jsxs)("div",{className:g.metadata,children:[Object(ce.jsx)(Gt.a,{record:a,resource:"contactNotes",source:"sales_id",reference:"sales",basePath:"/contactNotes",children:Object(ce.jsx)(nn.a,{source:"first_name",variant:"body1"})})," ",Object(ce.jsxs)(Q.a,{component:"span",variant:"body1",children:["added a note on"," "]}),Object(ce.jsx)(An.a,{source:"date",record:a,variant:"body1",showTime:!0,locales:"en",options:{dateStyle:"full",timeStyle:"short"}})," ",t&&Object(ce.jsx)(hn,{status:a.status})]}),d?Object(ce.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(p,a.id,{text:x},a,{onSuccess:function(){b(!1),m(a.text),o(!1)}})},children:[Object(ce.jsx)(wc.a,{value:x,onChange:function(e){m(e.target.value)},fullWidth:!0,multiline:!0,className:g.textarea,autoFocus:!0}),Object(ce.jsxs)("div",{className:g.buttons,children:[Object(ce.jsx)(nt.a,{className:g.cancel,onClick:function(){b(!1),m(a.text),o(!1)},color:"primary",children:"Cancel"}),Object(ce.jsx)(nt.a,{type:"submit",color:"primary",variant:"contained",disabled:k,children:"Update Note"})]})]}):Object(ce.jsxs)("div",{className:g.content,onClick:function(){return o(!0)},children:[Object(ce.jsx)("div",{className:g.text,children:Object(ce.jsx)(Oc.a,{children:a.text,remarkPlugins:[xc.a]})}),Object(ce.jsxs)("div",{className:g.toolbar,style:{visibility:i?"visible":"hidden"},children:[Object(ce.jsx)(gt.a,{title:"Edit note",children:Object(ce.jsx)(oe.a,{size:"small",onClick:function(){b(!0)},children:Object(ce.jsx)(Vn.a,{})})}),Object(ce.jsx)(gt.a,{title:"Delete note",children:Object(ce.jsx)(oe.a,{size:"small",onClick:C,children:Object(ce.jsx)(_c.a,{})})})]})]})]})},Nc=Object(ee.a)({root:{marginTop:"0.5em"}}),Pc=function(e){var t=e.showStatus,a=e.reference,n=Nc(),c=Object(Ft.a)(),r=c.data,s=c.ids;return c.loaded?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(fc,{showStatus:t,reference:a}),Object(ce.jsx)("div",{className:n.root,children:s.map((function(e,n){return Object(ce.jsx)(Sc,{note:r[e],isLast:n===s.length-1,showStatus:t,reference:a},n)}))})]}):null},Tc=a(959),Dc=a(326),Ic=a.n(Dc),Lc=a(195),Ac=a.n(Lc),Fc=Object(ee.a)((function(e){return{avatar:{width:60,height:60,backgroundColor:"aliceblue",color:e.palette.secondary.main},img:{objectFit:"contain"},small:{width:20,height:20},large:{width:40,height:40}}})),Wc=function(e){var t=e.record,a=e.size,n=void 0===a?"large":a,c=Fc();return t?t.image?Object(ce.jsx)(ue.a,{src:""+t.image,alt:t.model,className:c.avatar,imgProps:{className:Object($t.a)(c.img,c[n])}}):Object(ce.jsx)(ue.a,{alt:t.model,className:c.avatar,children:Object(ce.jsx)(Ac.a,{})}):null},Bc=Object(ee.a)((function(e){return{paper:{height:200,width:194,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"1em",position:"relative"},identity:{display:"flex",flexDirection:"column",alignItems:"center"},name:{textAlign:"center",marginTop:e.spacing(1)},family:{textAlign:"center",marginTop:e.spacing(1)},stats:{display:"flex",justifyContent:"space-around",width:"100%"},singleStat:{display:"flex",alignItems:"center"},statIcon:{marginRight:e.spacing(1)},image:{width:28,height:28},checkbox:{position:"absolute",top:0,left:e.spacing(1)},hidden:{display:"none"}}})),zc=function(e){var t=e.record,a=Bc(),n=Object(c.useState)(1),r=Object(ie.a)(n,2),s=r[0],i=r[1],o=Object(Ft.a)(),l=(o.data,o.ids,o.loaded),j=o.onToggleItem,d=o.selectedIds;return Object(ce.jsx)(Wt.a,{component:Ut.a,to:Object(Ht.a)("/products",t.id,"show"),underline:"none",onMouseEnter:function(){return i(3)},onMouseLeave:function(){return i(1)},children:Object(ce.jsxs)(At.a,{className:a.paper,elevation:s,children:[Object(ce.jsx)(Bt.a,{edge:"start",checked:d.includes(t.id),tabIndex:-1,disableRipple:!0,className:ht()(a.checkbox,Object(te.a)({},a.hidden,!l)),onClick:function(e){e.stopPropagation(),j(t.id)}}),Object(ce.jsx)(Lt.a,{position:"absolute",top:10,right:10,children:Object(ce.jsx)(Gt.a,{record:t,source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(Ln,{})})}),Object(ce.jsxs)("div",{className:a.identity,children:[Object(ce.jsx)(Wc,{record:t}),Object(ce.jsx)("div",{className:a.name,children:Object(ce.jsx)(Lt.a,{display:"flex",alignItems:"center",children:Object(ce.jsx)(Q.a,{variant:"subtitle2",children:t.model})})}),Object(ce.jsx)("div",{className:a.family,children:Object(ce.jsxs)(Q.a,{variant:"body2",children:["in family"," ",Object(ce.jsx)(Gt.a,{record:t,source:"family_id",reference:"productFamilies",link:"show",children:Object(ce.jsx)(nn.a,{source:"name"})})]})})]}),Object(ce.jsxs)("div",{className:a.stats,children:[Object(ce.jsxs)("div",{className:a.singleStat,children:[Object(ce.jsx)(Rt.a,{color:"disabled",className:a.statIcon}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_notes}),Object(ce.jsx)(Q.a,{variant:"caption",color:"textSecondary",children:t.nb_notes>1?"notes":"note"})]})]}),Object(ce.jsxs)("div",{className:a.singleStat,children:[Object(ce.jsx)(Ic.a,{color:"disabled",className:a.statIcon}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_properties}),Object(ce.jsx)(Q.a,{variant:"caption",color:"textSecondary",children:t.nb_properties>1?"properties":"property"})]})]})]})]})})},Ec=Object(ee.a)((function(e){return{gridList:{display:"flex",flexWrap:"wrap",width:"100%",gap:"5px"},paper:{height:200,width:194,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:"1em",backgroundColor:e.palette.grey[200]}}})),Rc=function(){var e,t,a=Ec();return Object(ce.jsx)(Lt.a,{className:a.gridList,children:(e=15,t=function(e){return Object(ce.jsxs)(At.a,{className:a.paper,children:[Object(ce.jsx)(Tc.a,{variant:"circle",width:60,height:60,animation:"wave"}),Object(ce.jsx)(Tc.a,{variant:"text",animation:"wave",width:110}),Object(ce.jsx)(Tc.a,{variant:"text",animation:"wave",width:150}),Object(ce.jsx)(Tc.a,{variant:"rect",width:180,height:40})]},e)},Array.from({length:e},(function(e,a){return t(a)})))})},Mc=function(){var e=Object(Ft.a)(),t=e.ids,a=e.data,n=Ec();return t&&a?Object(ce.jsx)(Lt.a,{className:n.gridList,children:t.map((function(e){return Object(ce.jsx)(zc,{record:a[e]},e)}))}):null},Vc=function(){var e=Object(Ft.a)();e.loaded;return e.loading?Object(ce.jsx)(Rc,{}):Object(ce.jsx)(Mc,{})},Hc=["children","value","index"],Gc=function(){var e=Object(an.a)(),t=e.record,a=e.loaded,n=Object(c.useState)(0),r=Object(ie.a)(n,2),s=r[0],i=r[1];return a&&t?Object(ce.jsxs)(Lt.a,{mt:2,display:"flex",children:[Object(ce.jsx)(Lt.a,{flex:"1",children:Object(ce.jsx)(sn.a,{children:Object(ce.jsxs)(Ja.a,{children:[Object(ce.jsxs)(Lt.a,{display:"flex",mb:1,children:[Object(ce.jsx)(Ln,{record:t}),Object(ce.jsxs)(Lt.a,{ml:2,flex:"1",children:[Object(ce.jsxs)(Lt.a,{display:"flex",gridGap:4,children:[Object(ce.jsx)(Q.a,{variant:"h5",children:t.name}),t.relation&&Object(ce.jsx)(zt.a,{label:t.relation,variant:"outlined",size:"small"})]}),Object(ce.jsx)(Q.a,{variant:"body2",color:"textSecondary",children:"#".concat(t.id," - ")}),t.sector&&Object(ce.jsxs)(Q.a,{variant:"body2",children:[Object(ce.jsx)(nn.a,{source:"sector"}),","," ",Object(ce.jsx)(qt.a,{source:"size",choices:Za})]})]}),Object(ce.jsx)(Lt.a,{children:Object(ce.jsx)(Gt.a,{source:"country_id",reference:"countries",link:!1,children:Object(ce.jsx)(aa,{})})})]}),Object(ce.jsxs)(on.a,{value:s,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){i(t)},variant:"scrollable",scrollButtons:"auto",children:[Object(ce.jsx)(ln.a,{label:1===t.nb_notes?"1 Note":"".concat(t.nb_notes," Notes")}),Object(ce.jsx)(ln.a,{label:1===t.nb_contacts?"1 Contact":"".concat(t.nb_contacts," Contacts")}),Object(ce.jsx)(ln.a,{label:1===t.nb_deals?"1 Deal":"".concat(t.nb_deals," Deals")}),Object(ce.jsx)(ln.a,{label:1===t.nb_products?"1 Product":"".concat(t.nb_products," Products")})]}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(qc,{value:s,index:0,children:Object(ce.jsx)(cn.a,{reference:"companyNotes",target:"company_id",sort:{field:"date",order:"DESC"},children:Object(ce.jsx)(Pc,{reference:"companies"})})}),Object(ce.jsx)(qc,{value:s,index:1,children:Object(ce.jsx)(cn.a,{reference:"contacts",target:"company_id",sort:{field:"last_name",order:"ASC"},children:Object(ce.jsx)(Uc,{})})}),Object(ce.jsx)(qc,{value:s,index:2,children:Object(ce.jsx)(cn.a,{reference:"deals",target:"company_id",sort:{field:"name",order:"ASC"},children:Object(ce.jsx)(Zc,{})})}),Object(ce.jsxs)(qc,{value:s,index:3,children:[Object(ce.jsx)(Lt.a,{mt:1,children:Object(ce.jsx)(cn.a,{reference:"products",target:"company_id",label:"Products",pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[15,25,50,100]}),perPage:25,children:Object(ce.jsx)(Vc,{})})}),Object(ce.jsx)(Lt.a,{textAlign:"center",mt:1,children:Object(ce.jsx)(Kc,{record:t})})]})]})})}),Object(ce.jsx)(oc,{record:t})]}):null},qc=function(e){var t=e.children,a=e.value,n=e.index,c=Object(Ee.a)(e,Hc);return Object(ce.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:a!==n,id:"wrapped-tabpanel-".concat(n),"aria-labelledby":"wrapped-tab-".concat(n)},c),{},{children:t}))},Uc=function(){var e=Object(Ft.a)(),t=e.data,a=e.ids,n=e.loaded,c=Object(rn.b)(),r=Date.now();return n?Object(ce.jsxs)(Lt.a,{children:[Object(ce.jsx)(yt.a,{children:a.map((function(e){var a=t[e];return Object(ce.jsxs)(jn.a,{button:!0,component:Ut.a,to:"/contacts/".concat(e,"/show"),children:[Object(ce.jsx)(be.a,{children:Object(ce.jsx)(mn,{record:a})}),Object(ce.jsx)(Oe.a,{primary:"".concat(a.first_name," ").concat(a.last_name),secondary:Object(ce.jsxs)(ce.Fragment,{children:[a.title," ","- ".concat(a.nb_notes," notes "),Object(ce.jsx)(_n,{record:a})]})}),Object(ce.jsx)(dn.a,{children:Object(ce.jsxs)(Q.a,{variant:"body2",color:"textSecondary",children:["last activity"," ",Object(Se.a)(new Date(a.last_seen),r)," ","ago ",Object(ce.jsx)(hn,{status:a.status})]})})]},e)}))}),Object(ce.jsx)(Lt.a,{textAlign:"center",mt:1,children:Object(ce.jsx)(Jc,{record:c})})]}):null},Jc=function(e){var t=e.record;return Object(ce.jsx)(nt.a,{component:Ut.a,to:{pathname:"/contacts/create",state:{record:{company_id:t.id}}},color:"primary",variant:"contained",size:"small",startIcon:Object(ce.jsx)(un.a,{}),children:"Add contact"})},Kc=function(e){var t=e.record;return Object(ce.jsx)(nt.a,{component:Ut.a,to:{pathname:"/products/create",state:{record:{company_id:t.id}}},color:"primary",variant:"contained",size:"small",startIcon:Object(ce.jsx)(xn.a,{}),children:"Add product"})},Zc=function(){var e=Object(Ft.a)(),t=e.data,a=e.ids,n=e.loaded,c=Date.now();return n?Object(ce.jsx)(Lt.a,{children:Object(ce.jsx)(yt.a,{children:a.map((function(e){var a=t[e];return Object(ce.jsxs)(jn.a,{button:!0,component:Ut.a,to:"/deals/".concat(e,"/show"),children:[Object(ce.jsx)(Oe.a,{primary:a.name,secondary:Object(ce.jsxs)(ce.Fragment,{children:[dc[a.stage],","," ",a.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),", ",a.type]})}),Object(ce.jsx)(dn.a,{children:Object(ce.jsxs)(Q.a,{variant:"body2",color:"textSecondary",component:"span",children:["last activity"," ",Object(Se.a)(new Date(a.updated_at),c)," ","ago"," "]})})]},e)}))})}):null},$c=["formData"],Qc=Object(ee.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),Xc=function(e){var t=Object(rn.b)(e);return Object(ce.jsx)(Ja.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Ln,{record:t}),Object(ce.jsx)(Lt.a,{ml:2,flex:"1",maxWidth:796,children:e.children})]})})},Yc=function(){return Object(ce.jsx)(Lt.a,{mb:2,children:Object(ce.jsx)(Ka.a,{})})},er={list:function(e){var t=Object(he.a)().identity;return t?Object(ce.jsx)(St.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ce.jsx)(Wa,{}),aside:Object(ce.jsx)(Na,{}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[15,25,50,100,1e3]}),perPage:25,sort:{field:"name",order:"ASC"},component:"div",children:Object(ce.jsx)(oa,{})})):null},create:function(e){var t=Xa(),a=Object(he.a)().identity;if(!a)return null;return Object(ce.jsx)(Ba.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ce.jsxs)(za.a,{component:Ya,initialValues:function(){return{sales_id:a&&(null===a||void 0===a?void 0:a.id)}},redirect:"show",children:[Object(ce.jsx)(Ea.a,{source:"name",validate:Object(Ra.c)(),fullWidth:!0}),Object(ce.jsx)(Ma.a,{source:"sector",choices:Jt,formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ma.a,{source:"size",choices:Za,formClassName:t.inline}),Object(ce.jsx)(Ma.a,{source:"relation",choices:ga,formClassName:t.inline}),Object(ce.jsx)(Va.a,{children:function(e){var t=e.formData;Object(Ee.a)(e,Qa);return"Distributor"!=t.relation&&Object(ce.jsx)(Ha.a,{source:"distributor_id",reference:"companies",filter:{relation:"Distributor"},children:Object(ce.jsx)($a,{})})}}),Object(ce.jsx)(Ga.a,{source:"use_products",reference:"products",children:Object(ce.jsx)(qa.a,{optionText:"model"})}),Object(ce.jsx)(en,{}),Object(ce.jsx)(Ea.a,{source:"address",fullWidth:!0,helperText:!1}),Object(ce.jsx)(Ea.a,{source:"city",formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ea.a,{source:"zipcode",formClassName:t.inline}),Object(ce.jsx)(Ea.a,{source:"stateAbbr",formClassName:t.inline}),Object(ce.jsx)(Ha.a,{source:"country_id",reference:"countries",children:Object(ce.jsx)(Ua.a,{optionText:"nicename"})}),Object(ce.jsx)(en,{}),Object(ce.jsx)(Ea.a,{source:"website",fullWidth:!0,helperText:!1}),Object(ce.jsx)(Ea.a,{source:"linkedIn",fullWidth:!0,helperText:!1}),Object(ce.jsx)(Ea.a,{source:"logo",fullWidth:!0}),Object(ce.jsx)(en,{}),Object(ce.jsx)(Ea.a,{source:"phone_number",formClassName:Object($t.a)(t.inline,"first-child"),helperText:!1}),Object(ce.jsx)(Ha.a,{source:"sales_id",reference:"sales",label:"Account manager",formClassName:t.inline,helperText:!1,children:Object(ce.jsx)(Ma.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},edit:function(e){var t=Qc();return Object(ce.jsx)(Yn.a,Object(o.a)(Object(o.a)({},e),{},{aside:Object(ce.jsx)(oc,{link:"show"}),actions:!1,children:Object(ce.jsxs)(za.a,{component:Xc,redirect:"show",children:[Object(ce.jsx)(Ea.a,{source:"name",validate:Object(Ra.c)(),fullWidth:!0}),Object(ce.jsx)(Ma.a,{source:"sector",choices:Jt,formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ma.a,{source:"size",choices:Za,formClassName:t.inline}),Object(ce.jsx)(Ma.a,{source:"relation",choices:ga,formClassName:t.inline}),Object(ce.jsx)(Va.a,{children:function(e){var t=e.formData;Object(Ee.a)(e,$c);return"Distributor"!=t.relation&&Object(ce.jsx)(Ha.a,{source:"distributor_id",reference:"companies",filter:{relation:"Distributor"},children:Object(ce.jsx)($a,{})})}}),Object(ce.jsx)(Ga.a,{source:"use_products",reference:"products",children:Object(ce.jsx)(qa.a,{optionText:"model"})}),Object(ce.jsx)(Yc,{}),Object(ce.jsx)(Ea.a,{source:"address",fullWidth:!0,helperText:!1}),Object(ce.jsx)(Ea.a,{source:"city",formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ea.a,{source:"zipcode",formClassName:t.inline}),Object(ce.jsx)(Ea.a,{source:"stateAbbr",formClassName:t.inline}),Object(ce.jsx)(Ha.a,{source:"country_id",reference:"countries",children:Object(ce.jsx)(Ua.a,{optionText:"nicename"})}),Object(ce.jsx)(Yc,{}),Object(ce.jsx)(Ea.a,{source:"website",fullWidth:!0,helperText:!1}),Object(ce.jsx)(Ea.a,{source:"linkedIn",fullWidth:!0,helperText:!1}),Object(ce.jsx)(Ea.a,{source:"logo",fullWidth:!0}),Object(ce.jsx)(Yc,{}),Object(ce.jsx)(Ea.a,{source:"phone_number",formClassName:Object($t.a)(t.inline,"first-child"),helperText:!1}),Object(ce.jsx)(Ha.a,{source:"sales_id",reference:"sales",label:"Account manager",formClassName:t.inline,helperText:!1,children:Object(ce.jsx)(Ma.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},show:function(e){return Object(ce.jsx)(tn.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ce.jsx)(Gc,{})}))},icon:Zt.a},tr=a(545),ar=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return t?Object(ce.jsx)(Xn,{record:t,link:n,basePath:"/contacts",children:Object(ce.jsx)(cr,{})}):null},nr=function(){var e=Object(Ft.a)(),t=e.data,a=e.ids;return e.loading||0===a.length?null:Object(ce.jsx)(yt.a,{children:a.map((function(e){var a=t[e];return Object(ce.jsx)(jn.a,{disableGutters:!0,children:Object(ce.jsxs)(Lt.a,{children:[Object(ce.jsx)(Q.a,{variant:"body2",children:a.text}),Object(ce.jsxs)(Q.a,{variant:"body2",color:"textSecondary",children:["due"," ",Object(ce.jsx)(An.a,{source:"due_date",record:a})]})]})},e)}))})},cr=function(e){var t=e.record;return t?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Personal info"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(Lt.a,{mt:2,children:Object(ce.jsx)(tr.a,{source:"email"})}),Object(ce.jsxs)(Lt.a,{mt:1,children:[Object(ce.jsx)(nn.a,{source:"phone_number1"})," ",Object(ce.jsx)(Q.a,{variant:"body2",color:"textSecondary",component:"span",children:"Work"})]}),Object(ce.jsxs)(Lt.a,{mb:1,children:[Object(ce.jsx)(nn.a,{source:"phone_number2"})," ",Object(ce.jsx)(Q.a,{variant:"body2",color:"textSecondary",component:"span",children:"Home"})]}),Object(ce.jsx)(Lt.a,{mb:3,children:Object(ce.jsx)(Q.a,{variant:"body2",children:"male"===t.gender?"He/Him":"She/Her"})}),Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Background"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(Lt.a,{mt:2,children:t&&t.background}),Object(ce.jsxs)(Lt.a,{mt:1,mb:3,children:[Object(ce.jsx)(Q.a,{component:"span",variant:"body2",color:"textSecondary",children:"Added on"})," ",Object(ce.jsx)(An.a,{source:"first_seen",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Q.a,{component:"span",variant:"body2",color:"textSecondary",children:"Last seen on"})," ",Object(ce.jsx)(An.a,{source:"last_seen",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Q.a,{component:"span",variant:"body2",color:"textSecondary",children:"Followed by"})," ",Object(ce.jsx)(Gt.a,{resource:"contacts",source:"sales_id",reference:"sales",children:Object(ce.jsx)(Fn.a,{source:"last_name",render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]}),Object(ce.jsxs)(Lt.a,{mb:3,children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Tags"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(Un,{record:t,reference:"contacts"})]}),Object(ce.jsxs)(Lt.a,{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Tasks"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(cn.a,{resource:"contacts",target:"contact_id",reference:"tasks",children:Object(ce.jsx)(nr,{})})]})]}):null},rr=function(){var e=Object(an.a)(),t=e.record;return e.loaded&&t?Object(ce.jsxs)(Lt.a,{mt:2,display:"flex",children:[Object(ce.jsx)(Lt.a,{flex:"1",children:Object(ce.jsx)(sn.a,{children:Object(ce.jsxs)(Ja.a,{children:[Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(mn,{record:t}),Object(ce.jsxs)(Lt.a,{ml:2,flex:"1",children:[Object(ce.jsxs)(Q.a,{variant:"h5",children:[t.first_name," ",t.last_name]}),Object(ce.jsxs)(Q.a,{variant:"body2",children:["#".concat(t.id," - "),t.title," at"," ",Object(ce.jsx)(Gt.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(nn.a,{source:"name"})})]})]}),Object(ce.jsx)(Lt.a,{children:Object(ce.jsx)(Gt.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(Ln,{})})})]}),Object(ce.jsx)(cn.a,{target:"contact_id",reference:"contactNotes",sort:{field:"date",order:"DESC"},children:Object(ce.jsx)(Pc,{showStatus:!0,reference:"contacts"})})]})})}),Object(ce.jsx)(ar,{record:t})]}):null},sr=a(546),ir=a(328),or=a.n(ir),lr=a(329),jr=a.n(lr),dr=a(962),br=a(963),ur=a(964),Or=a(1013),xr=Object(ee.a)((function(e){return{container:Object(te.a)({order:-1,marginLeft:e.spacing(1),marginRight:e.spacing(1),minWidth:"13em"},e.breakpoints.down("xs"),{display:"none"})}})),mr=function(){xr();var e=Object(he.a)().identity,t=Object(fe.a)("tags",{page:1,perPage:10},{field:"name",order:"ASC"}),a=t.data,n=t.ids;return Object(ce.jsxs)(Ca,{children:[Object(ce.jsx)(la.a,{}),Object(ce.jsxs)(ja.a,{label:"Last seen",icon:Object(ce.jsx)(or.a,{}),children:[Object(ce.jsx)(da.a,{label:"Today",value:{last_seen_gte:Object(dr.a)().toISOString(),last_seen_lte:void 0}}),Object(ce.jsx)(da.a,{label:"This week",value:{last_seen_gte:Object(br.a)(new Date).toISOString(),last_seen_lte:void 0}}),Object(ce.jsx)(da.a,{label:"Before this week",value:{last_seen_gte:void 0,last_seen_lte:Object(br.a)(new Date).toISOString()}}),Object(ce.jsx)(da.a,{label:"Before this month",value:{last_seen_gte:void 0,last_seen_lte:Object(ur.a)(new Date).toISOString()}}),Object(ce.jsx)(da.a,{label:"Before last month",value:{last_seen_gte:void 0,last_seen_lte:Object(Or.a)(Object(ur.a)(new Date),1).toISOString()}})]}),Object(ce.jsxs)(ja.a,{label:"Status",icon:Object(ce.jsx)(jr.a,{}),children:[Object(ce.jsx)(da.a,{label:Object(ce.jsxs)(ce.Fragment,{children:["Cold ",Object(ce.jsx)(hn,{status:"cold"})]}),value:{status:"cold"}}),Object(ce.jsx)(da.a,{label:Object(ce.jsxs)(ce.Fragment,{children:["Warm ",Object(ce.jsx)(hn,{status:"warm"})]}),value:{status:"warm"}}),Object(ce.jsx)(da.a,{label:Object(ce.jsxs)(ce.Fragment,{children:["Hot ",Object(ce.jsx)(hn,{status:"hot"})]}),value:{status:"hot"}}),Object(ce.jsx)(da.a,{label:Object(ce.jsxs)(ce.Fragment,{children:["In contract ",Object(ce.jsx)(hn,{status:"in-contract"})]}),value:{status:"in-contract"}})]}),Object(ce.jsx)(ja.a,{label:"Tags",icon:Object(ce.jsx)(pa.a,{}),children:n&&a&&n.map((function(e){return Object(ce.jsx)(da.a,{label:Object(ce.jsx)(va,{record:a[e]}),value:{tags:[e]}},e)}))}),Object(ce.jsx)(ja.a,{label:"Account manager",icon:Object(ce.jsx)(xa.a,{}),children:Object(ce.jsx)(da.a,{label:"Me",value:{sales_id:e&&e.id}})})]})},pr=function(){var e=Object(Ft.a)(),t=e.data,a=e.ids,n=e.loaded,c=e.onToggleItem,r=e.selectedIds,s=Date.now();return!1===n?Object(ce.jsx)(sr.a,{hasLeftAvatarOrIcon:!0,hasSecondaryText:!0}):Object(ce.jsx)(yt.a,{children:a.map((function(e){var a=t[e];return Object(ce.jsxs)(jn.a,{button:!0,component:Ut.a,to:"/contacts/".concat(e,"/show"),children:[Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(Bt.a,{edge:"start",checked:r.includes(e),tabIndex:-1,disableRipple:!0,onClick:function(t){t.stopPropagation(),c(e)}})}),Object(ce.jsx)(be.a,{children:Object(ce.jsx)(mn,{record:a})}),Object(ce.jsx)(Oe.a,{primary:"".concat(a.first_name," ").concat(a.last_name),secondary:Object(ce.jsxs)(ce.Fragment,{children:["#".concat(a.id," - "),a.title," at"," ",Object(ce.jsx)(Gt.a,{record:a,source:"company_id",reference:"companies",basePath:"/companies",link:!1,children:Object(ce.jsx)(nn.a,{source:"name"})})," ",!!a.nb_notes&&"- ".concat(a.nb_notes," notes "),Object(ce.jsx)(_n,{record:a})]})}),Object(ce.jsx)(dn.a,{children:Object(ce.jsxs)(Q.a,{variant:"body2",color:"textSecondary",children:["last activity"," ",Object(Se.a)(new Date(a.last_seen),s)," ","ago ",Object(ce.jsx)(hn,{status:a.status})]})})]},e)}))})},hr=Object(ee.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),fr=function(e){var t=hr();return Object(ce.jsxs)(Pt.a,{children:[Object(ce.jsx)(Tt.a,{fields:["id","last_name","first_name","last_seen"]}),Object(ce.jsx)(Dt.a,{}),Object(ce.jsx)(Pa.a,Object(o.a)({},e)),Object(ce.jsx)(It.a,{basePath:"/contacts",variant:"contained",label:"New Contact",className:t.createButton})]})},gr=a(957),vr=a(991),yr=a(1004),wr=a(339),kr=a(967),_r=a(196),Cr=a.n(_r),Sr=function(){return Object(ce.jsx)(Lt.a,{width:20,component:"span"})},Nr=function(){var e=Object(gr.a)(),t=e.record,a=e.loaded,n=e.save;return a&&t?Object(ce.jsxs)(Lt.a,{mt:2,display:"flex",children:[Object(ce.jsx)(Lt.a,{flex:"1",children:Object(ce.jsx)(vr.a,{record:t,redirect:"show",save:n,render:function(e){return Object(ce.jsxs)(sn.a,{children:[Object(ce.jsx)(Ja.a,{children:Object(ce.jsx)(Lt.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Lt.a,{mr:2,children:Object(ce.jsx)(mn,{record:t})}),Object(ce.jsxs)(Lt.a,{flex:"1",mt:-1,children:[Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Ea.a,{source:"first_name"}),Object(ce.jsx)(Sr,{}),Object(ce.jsx)(Ea.a,{source:"last_name"})]}),Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Ea.a,{source:"title"}),Object(ce.jsx)(Sr,{}),Object(ce.jsx)(Ha.a,{source:"company_id",reference:"companies",children:Object(ce.jsx)(Ua.a,{optionText:"name"})})]}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(Lt.a,{mt:2,width:430,children:Object(ce.jsx)(Ea.a,{source:"email",fullWidth:!0})}),Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Ea.a,{source:"phone_number1"}),Object(ce.jsx)(Sr,{}),Object(ce.jsx)(Ea.a,{source:"phone_number2"})]}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsxs)(Lt.a,{mt:2,width:430,children:[Object(ce.jsx)(Ea.a,{source:"background",multiline:!0,fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"avatar",fullWidth:!0}),Object(ce.jsx)(yr.a,{source:"has_newsletter"})]})]})]})})}),Object(ce.jsx)(wr.a,Object(o.a)({},Cr()(e,["dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialValues","modifiedSinceLastSubmit","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid"])))]})}})}),Object(ce.jsx)(ar,{record:t,link:"show"})]}):null},Pr=Object(ee.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),Tr=function(e){var t=e.children;return Object(ce.jsx)(Ja.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Lt.a,{paddingTop:1,children:Object(ce.jsx)(ue.a,{})}),Object(ce.jsx)(Lt.a,{ml:2,flex:"1",maxWidth:796,children:t})]})})},Dr=function(){return Object(ce.jsx)(Lt.a,{mb:2,children:Object(ce.jsx)(Ka.a,{})})},Ir=a(330),Lr=a.n(Ir),Ar={list:function(e){var t=Object(he.a)().identity;return t?Object(ce.jsx)(St.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ce.jsx)(fr,{}),aside:Object(ce.jsx)(mr,{}),perPage:25,pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,50,100]}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},sort:{field:"last_seen",order:"DESC"},children:Object(ce.jsx)(pr,{})})):null},show:function(e){return Object(ce.jsx)(tn.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ce.jsx)(rr,{})}))},edit:function(e){return Object(ce.jsx)(kr.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ce.jsx)(Nr,{})}))},create:function(e){var t=Pr(),a=Object(he.a)().identity;if(!a)return null;return Object(ce.jsx)(Ba.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ce.jsxs)(za.a,{component:Tr,redirect:"show",initialValues:function(){return{sales_id:a&&(null===a||void 0===a?void 0:a.id)}},transform:function(e){return Object(o.a)(Object(o.a)({},e),{},{last_seen:new Date,tags:[]})},children:[Object(ce.jsx)(Ea.a,{source:"first_name",validate:[Object(Ra.c)()],formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ea.a,{source:"last_name",validate:[Object(Ra.c)()],formClassName:t.inline}),Object(ce.jsx)(Dr,{}),Object(ce.jsx)(Ea.a,{source:"title",formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ha.a,{source:"company_id",reference:"companies",formClassName:t.inline,children:Object(ce.jsx)(Ua.a,{optionText:"name"})}),Object(ce.jsx)(Dr,{}),Object(ce.jsx)(Ea.a,{source:"email",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"phone_number1",formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ea.a,{source:"phone_number2",formClassName:t.inline}),Object(ce.jsx)(Dr,{}),Object(ce.jsx)(Ea.a,{source:"background",multiline:!0,fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"avatar",fullWidth:!0}),Object(ce.jsx)(Ha.a,{source:"sales_id",reference:"sales",label:"Account manager",helperText:!1,children:Object(ce.jsx)(Ma.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})}),Object(ce.jsx)(yr.a,{source:"has_newsletter"})]})}))},icon:Lr.a},Fr=a(197),Wr=a.n(Fr),Br=["record","link"],zr=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;Object(Ee.a)(e,Br);return t?Object(ce.jsx)(Xn,{record:t,link:n,basePath:"/tasks",children:Object(ce.jsx)(Er,{})}):null},Er=function(e){return e.record?Object(ce.jsx)(ce.Fragment,{}):null},Rr=[{id:"pending",name:"Pending",color:"#FFA000"},{id:"done",name:"Done",color:"#CDDC39"},{id:"postponed",name:"Postponed",color:"#2196F3"}],Mr=function(e){return Rr.find((function(t){return t.id==e}))},Vr=function(e){var t=e.record,a=Mr(t.status),n=a?a.name:"",c=a?a.color:"#000";return Object(ce.jsx)(ce.Fragment,{children:t&&Object(ce.jsx)(zt.a,{label:n,size:"small",style:{backgroundColor:c,border:0,cursor:"pointer"}})})},Hr="done",Gr=function(){var e=Object(an.a)(),t=e.record,a=e.loaded,n=Object(Pn.a)();Object(ie.a)(n,1)[0],Object(Tn.a)(),Object(Ze.a)();return a&&t?Object(ce.jsxs)(Lt.a,{mt:2,display:"flex",children:[Object(ce.jsx)(Lt.a,{flex:"1",children:Object(ce.jsx)(sn.a,{children:Object(ce.jsx)(Ja.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",alignItems:"flex-start",children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(ye.a,{})}),Object(ce.jsxs)(Lt.a,{ml:2,flex:"1",children:[Object(ce.jsxs)(Q.a,{variant:"h5",children:[t.text," "," ",Object(ce.jsx)(Vr,{record:t})]}),Object(ce.jsxs)(Q.a,{variant:"body2",children:[Object(ce.jsx)(Q.a,{component:"span",variant:"body2",color:"textSecondary",children:"Assigned to"})," ",Object(ce.jsx)(Gt.a,{record:t,source:"sales_id",reference:"sales",children:Object(ce.jsx)(Fn.a,{source:"last_name",render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]})]}),t.status!=Hr&&Object(ce.jsx)(qr,{record:t}),Object(ce.jsx)(Lt.a,{children:Object(ce.jsx)(Gt.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(Ln,{})})})]})})})}),Object(ce.jsx)(zr,{record:t})]}):null},qr=function(e){var t=e.record,a=Object(Pn.a)(),n=Object(ie.a)(a,1)[0],c=Object(Tn.a)(),r=Object(Ze.a)();return Object(ce.jsx)(Ta.a,{label:"Done",variant:"outlined",onClick:function(e){return e.preventDefault(),n("tasks",t&&t.id,{status:Hr},t,{onSuccess:function(){r("Task is marked done","info"),c()}}),!1},children:Object(ce.jsx)(Wr.a,{})})},Ur=a(572),Jr=a(968),Kr=a(969),Zr=a(499),$r=function(e){var t=e.status,a=Mr(t),n=a?a.color:"#000";return Object(ce.jsx)(Lt.a,{width:10,height:10,display:"inline-block",borderRadius:5,bgcolor:n,component:"span"})},Qr=function(){var e=Object(he.a)().identity;return Object(ce.jsxs)(Ca,{children:[Object(ce.jsx)(la.a,{}),Object(ce.jsxs)(ja.a,{label:"Due date",icon:Object(ce.jsx)(or.a,{}),children:[Object(ce.jsx)(da.a,{label:"Today",value:{due_date_gte:void 0,due_date_lte:Object(Jr.a)().toISOString()}}),Object(ce.jsx)(da.a,{label:"This week",value:{due_date_gte:void 0,due_date_lte:Object(Kr.a)(new Date).toISOString()}}),Object(ce.jsx)(da.a,{label:"This month",value:{due_date_gte:void 0,due_date_lte:Object(Zr.a)(new Date).toISOString()}})]}),Object(ce.jsx)(ja.a,{label:"Status",icon:Object(ce.jsx)(jr.a,{}),children:Rr.map((function(e){return Object(ce.jsx)(da.a,{label:Object(ce.jsxs)(ce.Fragment,{children:[e.name," ",Object(ce.jsx)($r,{status:e.id})]}),value:{status:e.id}})}))}),Object(ce.jsx)(ja.a,{label:"Account manager",icon:Object(ce.jsx)(xa.a,{}),children:Object(ce.jsx)(da.a,{label:"Me",value:{sales_id:e&&e.id}})})]})},Xr=a(995),Yr={status:"done"},es=function(e){return Object(ce.jsx)(Xr.a,Object(o.a)(Object(o.a)({},e),{},{label:"Mark checked",data:Yr,icon:Object(ce.jsx)(Wr.a,{}),mutationMode:"pessimistic"}))},ts=function(){var e=Object(Ft.a)(),t=e.data,a=e.ids,n=e.loaded,c=e.onToggleItem,r=e.selectedIds,s=Date.now();return!1===n?Object(ce.jsx)(sr.a,{hasLeftAvatarOrIcon:!0,hasSecondaryText:!0}):Object(ce.jsx)(yt.a,{children:a.map((function(e){var a=t[e],n="done"!==a.status&&a.due_date<(new Date).toISOString();return Object(ce.jsxs)(jn.a,{button:!0,component:Ut.a,to:"/Tasks/".concat(e,"/show"),children:[Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(Bt.a,{edge:"start",checked:r.includes(e),tabIndex:-1,disableRipple:!0,onClick:function(t){t.stopPropagation(),c(e)}})}),Object(ce.jsx)(be.a,{children:Object(ce.jsx)(ue.a,{style:n?{backgroundColor:ge.a[400]}:void 0,children:n?Object(ce.jsx)(Ce.a,{}):Object(ce.jsx)(ye.a,{})})}),Object(ce.jsx)(Oe.a,{primary:Object(ce.jsx)(ce.Fragment,{children:a.text}),secondary:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Q.a,{component:"span",variant:"body2",color:"textSecondary",children:"Assigned to"})," ",Object(ce.jsx)(Gt.a,{record:a,source:"sales_id",reference:"sales",children:Object(ce.jsx)(Fn.a,{source:"last_name",render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]})}),Object(ce.jsx)(dn.a,{children:Object(ce.jsxs)(Q.a,{variant:"body2",color:"textSecondary",children:["due in"," ",Object(Se.a)(new Date(a.due_date),s)," ",Object(ce.jsx)($r,{status:a.status})]})})]},e)}))})},as=Object(ee.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),ns=function(e){var t=as();return Object(ce.jsxs)(Pt.a,{children:[Object(ce.jsx)(Tt.a,{fields:["due_date","status"]}),Object(ce.jsx)(Dt.a,{}),Object(ce.jsx)(Pa.a,Object(o.a)({},e)),Object(ce.jsx)(It.a,{basePath:"/Tasks",variant:"contained",label:"New Task",className:t.createButton})]})},cs=function(e){return Object(ce.jsxs)(c.Fragment,{children:[Object(ce.jsx)(es,Object(o.a)({},e)),Object(ce.jsx)(Ur.a,Object(o.a)({},e))]})},rs=a(970),ss=Object(ee.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),is=function(){var e=ss(),t=Object(gr.a)(),a=t.record,n=t.loaded,c=t.save;return n&&a?Object(ce.jsxs)(Lt.a,{mt:2,display:"flex",children:[Object(ce.jsx)(Lt.a,{flex:"1",children:Object(ce.jsx)(vr.a,{record:a,redirect:"show",save:c,render:function(t){return Object(ce.jsxs)(sn.a,{children:[Object(ce.jsx)(Ja.a,{children:Object(ce.jsx)(Lt.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Lt.a,{mr:2,children:Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(ye.a,{})})}),Object(ce.jsxs)(Lt.a,{flex:"1",mt:-1,children:[Object(ce.jsx)(Ea.a,{source:"text",label:"Task",validate:[Object(Ra.c)()],fullWidth:!0}),Object(ce.jsx)(rs.a,{source:"due_date",className:Object($t.a)(e.inline,"first-child")}),Object(ce.jsx)(Ma.a,{source:"status",choices:Rr,className:e.inline}),Object(ce.jsx)(Ha.a,{source:"sales_id",reference:"sales",label:"Assigned to",helperText:!1,children:Object(ce.jsx)(Ma.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})]})})}),Object(ce.jsx)(wr.a,Object(o.a)({},Cr()(t,["dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialValues","modifiedSinceLastSubmit","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid"])))]})}})}),Object(ce.jsx)(zr,{record:a,link:"show"})]}):null},os=Object(ee.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),ls=function(e){var t=e.children;return Object(ce.jsx)(Ja.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Lt.a,{paddingTop:1,children:Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(ye.a,{})})}),Object(ce.jsx)(Lt.a,{ml:2,flex:"1",maxWidth:796,children:t})]})})},js=a(547),ds={list:function(e){var t=Object(he.a)().identity;return t?Object(ce.jsx)(St.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ce.jsx)(ns,{}),aside:Object(ce.jsx)(Qr,{}),bulkActionButtons:Object(ce.jsx)(cs,{}),perPage:25,pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,50,100]}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id,status:"pending"},sort:{field:"due_date",order:"ASC"},children:Object(ce.jsx)(ts,{})})):null},show:function(e){return Object(ce.jsx)(tn.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ce.jsx)(Gr,{})}))},edit:function(e){return Object(ce.jsx)(kr.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ce.jsx)(is,{})}))},create:function(e){var t=os(),a=Object(he.a)().identity;if(!a)return null;return Object(ce.jsx)(Ba.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ce.jsxs)(za.a,{component:ls,redirect:"show",initialValues:function(){return{due_date:new Date,status:"pending",sales_id:a&&(null===a||void 0===a?void 0:a.id)}},transform:function(e){return Object(o.a)({},e)},children:[Object(ce.jsx)(Ea.a,{source:"text",label:"Task",validate:[Object(Ra.c)()],fullWidth:!0}),Object(ce.jsx)(rs.a,{source:"due_date",formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ma.a,{source:"status",choices:Rr,formClassName:t.inline}),Object(ce.jsx)(Ha.a,{source:"sales_id",reference:"sales",label:"Assigned to",helperText:!1,children:Object(ce.jsx)(Ma.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},icon:a.n(js).a},bs=a(972),us=a(576),Os=a(31),xs=a(494),ms=a(110),ps=a(201),hs=a(42),fs=a.n(hs),gs=Object(ee.a)((function(e){return{root:{marginBottom:e.spacing(1)},cardContent:{padding:e.spacing(1),display:"flex"},cardText:{marginLeft:e.spacing(1)}}})),vs=function(e){var t=e.deal,a=e.index,n=gs(),c=Object(pe.a)();if(!t)return null;var r=function(){c("/deals/".concat(t.id,"/show"))};return Object(ce.jsx)(ps.b,{draggableId:String(t.id),index:a,children:function(e,a){return Object(ce.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:n.root},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,onClick:r,children:Object(ce.jsx)(sn.a,{style:{opacity:a.isDragging?.9:1,transform:a.isDragging?"rotate(-2deg)":""},elevation:a.isDragging?3:1,children:Object(ce.jsxs)(Lt.a,{p:1,display:"flex",children:[Object(ce.jsx)(Gt.a,{source:"company_id",record:t,reference:"companies",resource:"deals",basePath:"/deals",children:Object(ce.jsx)(Ln,{size:"small"})}),Object(ce.jsxs)(Lt.a,{ml:1,children:[Object(ce.jsx)(Q.a,{variant:"body2",gutterBottom:!0,children:t.name}),Object(ce.jsxs)(Q.a,{variant:"caption",color:"textSecondary",children:[t.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),", ",t.type]})]})]})})}))}})},ys=Object(ee.a)({root:{flex:1,paddingTop:8,paddingBottom:16,backgroundColor:"#eaeaee","&:first-child":{paddingLeft:5,borderTopLeftRadius:5},"&:last-child":{paddingRight:5,borderTopRightRadius:5}},droppable:{display:"flex",flexDirection:"column",borderRadius:5,padding:5,"&.isDraggingOver":{backgroundColor:"#dadadf"}}}),ws=function(e){var t=e.stage,a=e.dealIds,n=e.data,c=ys();return Object(ce.jsxs)("div",{className:c.root,children:[Object(ce.jsx)(Q.a,{align:"center",variant:"subtitle1",children:dc[t]}),Object(ce.jsx)(ps.c,{droppableId:t,children:function(e,t){return Object(ce.jsxs)("div",Object(o.a)(Object(o.a)({ref:e.innerRef},e.droppableProps),{},{className:c.droppable+(t.isDraggingOver?" isDraggingOver":""),children:[a.map((function(e,t){return Object(ce.jsx)(vs,{index:t,deal:n[e]},e)})),e.placeholder]}))}})]})},ks=jc.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(te.a)({},t,[]))}),{}),_s=function(e,t){var a=e.reduce((function(e,a){return e[t[a].stage].push(a),e}),jc.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(te.a)({},t,[]))}),{}));return jc.forEach((function(e){a[e]=a[e].sort((function(e,a){return t[e].index-t[a].index}))})),a},Cs=function(){var e=Object(Ft.a)(),t=e.data,a=e.ids,n=e.loaded,r=e.page,s=e.perPage,i=e.currentSort,l=e.filterValues,j=Object(c.useState)(n?_s(a,t):ks),d=Object(ie.a)(j,2),b=d[0],u=d[1],O=Object(c.useContext)(xs.a),x=Object(ms.a)({resource:"deals",type:"getList",payload:{pagination:{page:r,perPage:s},sort:i,filter:l}}),h=Object(ie.a)(x,1)[0];if(Object(c.useEffect)((function(){if(n){var e=_s(a,t);fs()(b,e)||u(e)}}),[t,a,n]),!n)return null;var f=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,c,r,s,i,l,j,d,x,p,f,g,v,y,w,k,_;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.destination,c=a.source,r=a.draggableId,n){e.next=3;break}return e.abrupt("return");case 3:if(n.droppableId!==c.droppableId||n.index!==c.index){e.next=5;break}return e.abrupt("return");case 5:if(c.droppableId!==n.droppableId){e.next=27;break}return s=Array.from(b[c.droppableId]),i=t[s[c.index]],l=t[s[n.index]],s.splice(c.index,1),s.splice(n.index,0,Number(r)),u(Object(o.a)(Object(o.a)({},b),{},Object(te.a)({},c.droppableId,s))),e.next=14,O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:c.droppableId}});case 14:if(j=e.sent,d=j.data,!(c.index>n.index)){e.next=22;break}return e.next=19,Promise.all([].concat(Object(Wn.a)(d.filter((function(e){return e.index>=l.index&&e.index<i.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})}))),[O.update("deals",{id:i.id,data:{index:l.index},previousData:i})]));case 19:h(),e.next=25;break;case 22:return e.next=24,Promise.all([].concat(Object(Wn.a)(d.filter((function(e){return e.index<=l.index&&e.index>i.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),[O.update("deals",{id:i.id,data:{index:l.index},previousData:i})]));case 24:h();case 25:e.next=43;break;case 27:return p=Array.from(b[c.droppableId]),f=Array.from(b[n.droppableId]),g=t[p[c.index]],v=t[f[n.index]],p.splice(c.index,1),f.splice(n.index,0,r),u(Object(o.a)(Object(o.a)({},b),{},(x={},Object(te.a)(x,c.droppableId,p),Object(te.a)(x,n.droppableId,f),x))),e.next=36,Promise.all([O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:c.droppableId}}),O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:n.droppableId}})]);case 36:return y=e.sent,w=Object(ie.a)(y,2),k=w[0].data,_=w[1].data,e.next=42,Promise.all([].concat(Object(Wn.a)(k.filter((function(e){return e.index>g.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),Object(Wn.a)(_.filter((function(e){return!!v&&e.index>=v.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})}))),[O.update("deals",{id:g.id,data:{index:v?v.index:_.length>0?_.pop().index+1:0,stage:n.droppableId},previousData:g})]));case 42:h();case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ce.jsx)(ps.a,{onDragEnd:f,children:Object(ce.jsx)(Lt.a,{display:"flex",children:jc.map((function(e){return Object(ce.jsx)(ws,{stage:e,dealIds:b[e],data:t},e)}))})})},Ss=a(971),Ns=["Other","Copywriting","Print project","UI Design","Website design"].map((function(e){return{id:e,name:e}})),Ps=Object(ee.a)({root:{width:500}}),Ts=function(e){var t=e.open,a=Ps(),n=Object(pe.a)(),c=Object($e.a)(),r=Object(he.a)().identity;return Object(ce.jsx)(Qe.a,{open:t,onClose:function(){n("/deals")},children:Object(ce.jsx)(Ba.a,{resource:"deals",basePath:"/deals",className:a.root,onSuccess:function(e){var t=e.data;n("/deals"),c.getList("deals",{pagination:{page:1,perPage:50},sort:{field:"id",order:"ASC"},filter:{stage:t.stage}}).then((function(e){var a=e.data;return Promise.all(a.filter((function(e){return e.id!==t.id})).map((function(e){return c.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})})))}))},children:Object(ce.jsxs)(za.a,{initialValues:{index:0,sales_id:r&&(null===r||void 0===r?void 0:r.id)},children:[Object(ce.jsx)(Ea.a,{source:"name",label:"Deal name",fullWidth:!0,validate:[Object(Ra.c)()]}),Object(ce.jsx)(Ea.a,{source:"description",multiline:!0,rows:3,fullWidth:!0}),Object(ce.jsx)(Ha.a,{source:"company_id",reference:"companies",fullWidth:!0,validate:[Object(Ra.c)()],children:Object(ce.jsx)(Ua.a,{optionText:"name"})}),Object(ce.jsx)(Ma.a,{source:"stage",choices:bc,fullWidth:!0,validate:[Object(Ra.c)()],defaultValue:"opportunity"}),Object(ce.jsx)(Ma.a,{source:"type",choices:Ns,fullWidth:!0}),Object(ce.jsx)(Ss.a,{source:"amount",fullWidth:!0,defaultValue:0}),Object(ce.jsx)(Ha.a,{source:"sales_id",reference:"sales",label:"Account manager",helperText:!1,fullWidth:!0,children:Object(ce.jsx)(Ma.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})})})},Ds=a(987),Is=Object(ee.a)({ul:{listStyle:"none",padding:0,margin:0,display:"inline-block"},li:{display:"inline","&:after":{content:'", "'},"&:last-child:after":{content:'""'}}}),Ls=function(){var e=Object(Ft.a)(),t=e.ids,a=e.data,n=e.loaded,c=Is();return n?Object(ce.jsx)("ul",{className:c.ul,children:t.map((function(e){return Object(ce.jsx)("li",{className:c.li,children:Object(ce.jsxs)(Wt.a,{component:Ut.a,to:"/contacts/".concat(e),variant:"subtitle1",children:[a[e].first_name," ",a[e].last_name]})},e)}))}):Object(ce.jsx)("div",{style:{height:"2em"}})},As=Object(ee.a)({dialog:{position:"absolute",top:50}}),Fs=function(e){var t=e.open,a=e.id,n=Object(pe.a)(),c=As();return Object(ce.jsx)(Qe.a,{open:t,onClose:function(){n("/deals")},fullWidth:!0,maxWidth:"md",classes:{paper:c.dialog},children:Object(ce.jsx)(Ye.a,{children:Object(ce.jsx)(tn.a,{resource:"deals",basePath:"/deals",id:a,children:Object(ce.jsx)(Ws,{})})})})},Ws=function(){var e=Object(rn.b)(),t=Object($e.a)(),a=Object(pe.a)(),n=Object(Tn.a)();if(!e)return null;var c=function(){var c=Object(p.a)(m.a.mark((function c(){var r,s;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.droppableId}});case 2:return r=c.sent,s=r.data,c.next=6,Promise.all([].concat(Object(Wn.a)(s.filter((function(t){return t.index<e.index})).map((function(e){return t.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),[t.delete("deals",{id:e.id,previousData:e})]));case 6:a("/deals"),n();case 8:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsxs)(Lt.a,{width:100,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(ce.jsx)(Gt.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(Xt,{})}),Object(ce.jsx)(Gt.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(nn.a,{source:"name",align:"center",component:"div"})})]}),Object(ce.jsxs)(Lt.a,{ml:2,flex:"1",children:[Object(ce.jsxs)(Lt.a,{display:"flex",justifyContent:"space-between",children:[Object(ce.jsx)(Q.a,{variant:"h5",children:e.name}),Object(ce.jsx)(nt.a,{variant:"contained",startIcon:Object(ce.jsx)(_c.a,{}),onClick:function(e){e.stopPropagation(),c()},children:"Delete"})]}),Object(ce.jsxs)(Lt.a,{display:"flex",mt:2,children:[Object(ce.jsxs)(Lt.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ce.jsx)(Q.a,{color:"textSecondary",variant:"body2",children:"Start"}),Object(ce.jsx)(Q.a,{variant:"subtitle1",children:Object(Ds.a)(new Date(e.start_at),"PP")})]}),Object(ce.jsxs)(Lt.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ce.jsx)(Q.a,{color:"textSecondary",variant:"body2",children:"Budget"}),Object(ce.jsx)(Q.a,{variant:"subtitle1",children:e.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),Object(ce.jsxs)(Lt.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ce.jsx)(Q.a,{color:"textSecondary",variant:"body2",children:"Type"}),Object(ce.jsx)(Q.a,{variant:"subtitle1",children:e.type})]}),Object(ce.jsxs)(Lt.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ce.jsx)(Q.a,{color:"textSecondary",variant:"body2",children:"Stage"}),Object(ce.jsx)(Q.a,{variant:"subtitle1",children:dc[e.stage]})]})]}),Object(ce.jsx)(Lt.a,{mt:2,mb:2,children:Object(ce.jsxs)(Lt.a,{display:"flex",mr:5,flexDirection:"column",minHeight:48,children:[Object(ce.jsx)(Q.a,{color:"textSecondary",variant:"body2",children:"Contacts"}),Object(ce.jsx)(gn.a,{source:"contact_ids",reference:"contacts",children:Object(ce.jsx)(Ls,{})})]})}),Object(ce.jsxs)(Lt.a,{mt:2,mb:2,style:{whiteSpace:"pre-line"},children:[Object(ce.jsx)(Q.a,{color:"textSecondary",variant:"body2",children:"Description"}),Object(ce.jsx)(Q.a,{children:e.description})]}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(Lt.a,{mt:2,children:Object(ce.jsx)(cn.a,{target:"deal_id",reference:"dealNotes",sort:{field:"date",order:"DESC"},children:Object(ce.jsx)(Pc,{reference:"deals"})})})]})]})})},Bs=a(587),zs=a(965),Es=a(966),Rs=Object(ee.a)((function(e){return{root:{marginBottom:e.spacing(1),marginLeft:e.spacing(1)}}})),Ms=function(e){e.alwaysOn;var t=Object(Bs.a)(),a=t.filterValues,n=t.displayedFilters,c=t.setFilters,r=Object(he.a)().identity,s=Rs();return Object(ce.jsx)("div",{className:s.root,children:Object(ce.jsx)(zs.a,{control:Object(ce.jsx)(Es.a,{checked:"undefined"!==typeof a.sales_id,onChange:function(){var e=Object(o.a)({},a);"undefined"!==typeof a.sales_id?delete e.sales_id:e.sales_id=r&&(null===r||void 0===r?void 0:r.id),c(e,n)},color:"primary",name:"checkedC"}),label:"Only companies I manage"})})};Ms.defaultProps={source:"sales_id"};var Vs=[Object(ce.jsx)(bs.a,{source:"q",alwaysOn:!0}),Object(ce.jsx)(Ms,{alwaysOn:!0}),Object(ce.jsx)(Ma.a,{source:"type",choices:Ns})],Hs=Object(ee.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),Gs=function(){var e=Hs();return Object(ce.jsxs)(Pt.a,{children:[Object(ce.jsx)(us.a,{}),Object(ce.jsx)(Dt.a,{}),Object(ce.jsx)(It.a,{basePath:"/deals",variant:"contained",label:"New Deal",className:e.createButton})]})},qs={list:function(e){var t=Object(he.a)().identity;return t?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(St.a,Object(o.a)(Object(o.a)({},e),{},{perPage:100,sort:{field:"index",order:"ASC"},filters:Vs,filterDefaultValues:{sales_id:t&&(null===t||void 0===t?void 0:t.id)},actions:Object(ce.jsx)(Gs,{}),pagination:!1,component:"div",children:Object(ce.jsx)(Cs,{})})),Object(ce.jsx)(Os.b,{path:"/deals/create",children:function(e){var t=e.match;return Object(ce.jsx)(Ts,{open:!!t})}}),Object(ce.jsx)(Os.b,{path:"/deals/:id/show",children:function(e){var t,a=e.match;return a?Object(ce.jsx)(Fs,{open:!!a,id:null===a||void 0===a||null===(t=a.params)||void 0===t?void 0:t.id}):null}})]}):null},icon:Ic.a},Us=a(159),Js=a.n(Us),Ks=["Safety laser scanners","2D LiDAR sensors","3D LiDAR sensors","Cleaning Robot"].map((function(e){return{id:e,name:e}})),Zs=Object(ee.a)((function(e){return{familyList:{maxHeight:e.spacing(20),overflow:"auto"},categoryList:{maxHeight:e.spacing(20),overflow:"auto"}}})),$s=function(){var e=Zs(),t=(Object(he.a)().identity,Object(fe.a)("productFamilies",{page:1,perPage:1e3},{field:"name",order:"ASC"})),a=t.data,n=t.ids;return Object(ce.jsxs)(Ca,{children:[Object(ce.jsx)(la.a,{}),Object(ce.jsx)(ja.a,{label:"Families",icon:Object(ce.jsx)(Js.a,{}),children:Object(ce.jsx)("div",{className:e.familyList,children:n&&a&&n.map((function(e){return Object(ce.jsx)(da.a,{label:Object(ce.jsx)(zt.a,{label:a[e].name,size:"small"}),value:{family_id:e}},e)}))})}),Object(ce.jsx)(ja.a,{label:"Categories",icon:Object(ce.jsx)(Js.a,{}),children:Object(ce.jsx)("div",{className:e.categoryList,children:Ks.map((function(e){return Object(ce.jsx)(da.a,{label:e.name,value:{"family.category":e.id}},e.id)}))})})]})},Qs=Object(ee.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),Xs=function(e){var t=Qs();return Object(ce.jsxs)(Pt.a,{children:[Object(ce.jsx)(Dt.a,{}),Object(ce.jsx)(Pa.a,Object(o.a)({},e)),Object(ce.jsx)(It.a,{basePath:"/products",variant:"contained",label:"New Product",className:t.createButton})]})},Ys=a(998),ei=a(999),ti=a(1006),ai=a(47),ni=a(988),ci=a(188),ri=["General","Safety","Mechanics/Electronics","Performance","Interfaces","Ambient data"].map((function(e){return{id:e,name:e}})),si=a(864),ii=function(e){var t=e.label,a=e.value,n=e.onChange,c=e.choices;return Object(ce.jsxs)(si.a,{label:t,value:a,onChange:function(e){return n(e.target.value)},children:[Object(ce.jsx)(de.a,{value:"",children:Object(ce.jsx)("em",{children:"None"})}),c.map((function(e){return Object(ce.jsx)(de.a,{value:e.id,children:e.name},e.id)}))]})},oi=Object(ee.a)((function(e){return{root:{display:"flex",flexDirection:"column"}}})),li=function(){var e=oi(),t=Object(ci.a)(),a=t.filter,n=t.onCancel,r=t.onCreate,s=Object(c.useState)(""),i=Object(ie.a)(s,2),o=i[0],l=i[1],j=Object(c.useState)(a||""),d=Object(ie.a)(j,2),b=d[0],u=d[1],O=Object(c.useState)(""),x=Object(ie.a)(O,2),m=x[0],p=x[1],h=Object(c.useState)(""),f=Object(ie.a)(h,2),g=f[0],v=f[1],y=Object(zn.a)("propertyTypes"),w=Object(ie.a)(y,1)[0];return Object(ce.jsxs)(Qe.a,{open:!0,onClose:n,children:[Object(ce.jsx)(Xe.a,{children:"Add new Product Property Type"}),Object(ce.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w({payload:{data:{name:b,unit:m,synonyms:g,category:o}}},{onSuccess:function(e){var t=e.data;u(""),p(""),v(""),l(""),r(t)}})},children:[Object(ce.jsx)(Ye.a,{children:Object(ce.jsxs)("div",{className:e.root,children:[Object(ce.jsx)(ii,{label:"Category",value:o,onChange:l,choices:ri}),Object(ce.jsx)(tt.a,{label:"New type name",value:b,onChange:function(e){return u(e.target.value)},autoFocus:!0,required:!0}),Object(ce.jsx)(tt.a,{label:"Unit",value:m,onChange:function(e){return p(e.target.value)}}),Object(ce.jsx)(tt.a,{label:"Commma separated synonyms",value:g,onChange:function(e){return v(e.target.value)}})]})}),Object(ce.jsxs)(at.a,{children:[Object(ce.jsx)(nt.a,{type:"submit",disabled:!b,children:"Add"}),Object(ce.jsx)(nt.a,{onClick:n,children:"Cancel"})]})]})]})},ji=Object(ee.a)((function(e){return{inline:Object(te.a)({display:"inline-block",marginLeft:e.spacing(1),width:"32%",minWidth:e.spacing(10),"&.first-child":{marginLeft:0}},e.breakpoints.down("xs"),{display:"block",marginLeft:0,width:"100%",margin:0})}})),di=function(e){var t=ji();return Object(ce.jsxs)(ni.a,Object(o.a)(Object(o.a)({},e),{},{children:[Object(ce.jsx)(Ha.a,{source:"type_id",reference:"propertyTypes",label:"Type",formClassName:ht()(t.inline,"first-child"),fullWidth:!0,children:Object(ce.jsx)(Ua.a,{optionText:"name",create:Object(ce.jsx)(li,{})})}),Object(ce.jsx)(Ea.a,{source:"property_value",label:"Value",formClassName:t.inline,fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"condition",label:"Condition",formClassName:t.inline,fullWidth:!0})]}))},bi=function(){var e=Object(ci.a)(),t=e.filter,a=e.onCancel,n=e.onCreate,r=Object(c.useState)(t||""),s=Object(ie.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(""),j=Object(ie.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(""),O=Object(ie.a)(u,2),x=O[0],m=O[1],p=Object(c.useState)(""),h=Object(ie.a)(p,2),f=h[0],g=h[1],v=Object(zn.a)("productFamilies"),y=Object(ie.a)(v,1)[0];return Object(ce.jsxs)(Qe.a,{open:!0,onClose:a,children:[Object(ce.jsx)(Xe.a,{children:"New Product Category"}),Object(ce.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y({payload:{data:{name:i,image:f,website:x,category:d}}},{onSuccess:function(e){var t=e.data;o(""),g(""),m(""),b(""),n(t)}})},children:[Object(ce.jsx)(Ye.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",flexDirection:"column",children:[Object(ce.jsx)(ii,{label:"Category",value:d,onChange:b,choices:Ks}),Object(ce.jsx)(tt.a,{label:"New category name",value:i,onChange:function(e){return o(e.target.value)},autoFocus:!0}),Object(ce.jsx)(tt.a,{label:"Website",value:x,onChange:function(e){return m(e.target.value)},autoFocus:!0}),Object(ce.jsx)(tt.a,{label:"Image",value:f,onChange:function(e){return g(e.target.value)},autoFocus:!0})]})}),Object(ce.jsxs)(at.a,{children:[Object(ce.jsx)(nt.a,{type:"submit",children:"Save"}),Object(ce.jsx)(nt.a,{onClick:a,children:"Cancel"})]})]})]})},ui=Object(ee.a)((function(e){return{inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}},propertyContainer:{display:"flex",gap:e.spacing(1),minWidth:"500px"}}})),Oi=a(569),xi=Object(ee.a)({image:{objectFit:"contain"}}),mi={medium:42,small:20},pi=function(e){var t=e.record,a=(e.source,e.size),n=void 0===a?"medium":a,c=xi();return t?t.image?Object(ce.jsx)("img",{src:""+t.image,alt:t.model,title:t.model,width:mi[n],height:mi[n],className:c.image}):Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(Ac.a,{})}):null},hi=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return t?Object(ce.jsx)(Xn,{record:t,link:n,basePath:"/products",children:Object(ce.jsx)(fi,{})}):null},fi=function(e){var t=e.record;return t?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Product info"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsxs)(Lt.a,{mt:1,display:"flex",gridGap:2,children:["Company:",Object(ce.jsx)(Gt.a,{record:t,source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(nn.a,{source:"name"})})]}),Object(ce.jsxs)(Lt.a,{mt:1,display:"flex",gridGap:2,children:["Family:",Object(ce.jsx)(Gt.a,{record:t,source:"family_id",reference:"productFamilies",link:"show",children:Object(ce.jsx)(nn.a,{source:"name"})})]}),Object(ce.jsxs)(Lt.a,{mt:1,children:["Code: ",Object(ce.jsx)(nn.a,{source:"code",record:t})]}),t.website&&Object(ce.jsxs)(Lt.a,{mt:1,children:["Website: ",Object(ce.jsx)(Wt.a,{href:t.website,target:"_blank",rel:"noreferrer",children:"Link"})]}),Object(ce.jsxs)(Lt.a,{mt:3,children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Description"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(Lt.a,{mt:1,children:Object(ce.jsx)(nn.a,{source:"description"})})]})]}):null},gi=["children","value","index"],vi=function(){var e=Object(an.a)(),t=e.record,a=e.loaded,n=Object(c.useState)(0),r=Object(ie.a)(n,2),s=r[0],i=r[1];return a&&t?Object(ce.jsxs)(Lt.a,{mt:2,display:"flex",children:[Object(ce.jsx)(Lt.a,{flex:"1",children:Object(ce.jsx)(sn.a,{children:Object(ce.jsxs)(Ja.a,{children:[Object(ce.jsxs)(Lt.a,{display:"flex",mb:1,children:[Object(ce.jsx)(pi,{record:t}),Object(ce.jsx)(Lt.a,{ml:2,flex:"1",children:Object(ce.jsx)(Lt.a,{display:"flex",gridGap:4,children:Object(ce.jsx)(Q.a,{variant:"h5",children:t.model})})}),Object(ce.jsx)(Lt.a,{children:Object(ce.jsx)(Gt.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(Ln,{})})})]}),Object(ce.jsxs)(on.a,{value:s,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){i(t)},variant:"scrollable",scrollButtons:"auto",children:[Object(ce.jsx)(ln.a,{label:t.nb_notes>1?"".concat(t.nb_notes," Notes"):"".concat(t.nb_notes," Note")}),Object(ce.jsx)(ln.a,{label:t.nb_properties>1?"".concat(t.nb_properties," Properties"):"".concat(t.nb_properties," Property")}),Object(ce.jsx)(ln.a,{label:t.nb_used_by>1?"Used by ".concat(t.nb_used_by," Companies"):"Used by ".concat(t.nb_used_by," Company")})]}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsx)(yi,{value:s,index:0,children:Object(ce.jsx)(cn.a,{reference:"productNotes",target:"product_id",children:Object(ce.jsx)(Pc,{reference:"products"})})}),Object(ce.jsx)(yi,{value:s,index:1,children:Object(ce.jsx)(cn.a,{reference:"productProperties",target:"product_id",addLabel:!1,children:Object(ce.jsxs)(Oi.a,{children:[Object(ce.jsx)(Gt.a,{source:"type_id",reference:"propertyTypes",link:!1,children:Object(ce.jsx)(nn.a,{source:"name"})}),Object(ce.jsx)(nn.a,{source:"property_value"}),Object(ce.jsx)(Gt.a,{source:"type_id",reference:"propertyTypes",link:!1,children:Object(ce.jsx)(nn.a,{source:"unit"})}),Object(ce.jsx)(nn.a,{source:"condition"})]})})}),Object(ce.jsx)(yi,{value:s,index:2,children:Object(ce.jsx)(Lt.a,{mt:1,children:Object(ce.jsx)(gn.a,{reference:"companies",source:"used_by_companies",pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[15,25,50,100]}),perPage:25,children:Object(ce.jsx)(oa,{})})})})]})})}),Object(ce.jsx)(hi,{record:t})]}):null},yi=function(e){var t=e.children,a=e.value,n=e.index,c=Object(Ee.a)(e,gi);return Object(ce.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:a!==n,id:"wrapped-tabpanel-".concat(n),"aria-labelledby":"wrapped-tab-".concat(n)},c),{},{children:t}))},wi=Object(ee.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),ki=a(552),_i={list:function(e){return Object(he.a)().identity?Object(ce.jsx)(St.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ce.jsx)(Xs,{}),aside:Object(ce.jsx)($s,{}),filterDefaultValues:{},pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[15,25,50,100]}),perPage:25,sort:{field:"model",order:"ASC"},component:"div",children:Object(ce.jsx)(Vc,{})})):null},create:function(e){ui(),Object(he.a)().identity,Object(ai.a)();return Object(ce.jsx)(Ba.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ce.jsxs)(Ys.a,{redirect:"show",children:[Object(ce.jsxs)(ei.a,{label:"General",children:[Object(ce.jsx)(Ha.a,{label:"Comapny",source:"company_id",reference:"companies",fullWidth:!0,children:Object(ce.jsx)(Ua.a,{optionText:"name"})}),Object(ce.jsx)(Ha.a,{label:"Product Family",source:"family_id",reference:"productFamilies",fullWidth:!0,children:Object(ce.jsx)(Ua.a,{optionText:"name",create:Object(ce.jsx)(bi,{})})}),Object(ce.jsx)(Ea.a,{source:"model",validate:Object(Ra.c)(),fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"code",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"website",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"image",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"description",multiline:!0,rows:3,fullWidth:!0})]}),Object(ce.jsx)(ei.a,{label:"Properties",children:Object(ce.jsx)(ti.a,{source:"properties",children:Object(ce.jsx)(di,{})})})]})}))},edit:function(e){wi();return Object(ce.jsx)(Yn.a,Object(o.a)(Object(o.a)({},e),{},{aside:Object(ce.jsx)(hi,{link:"show"}),actions:!1,children:Object(ce.jsxs)(Ys.a,{redirect:"show",children:[Object(ce.jsxs)(ei.a,{label:"General",children:[Object(ce.jsx)(Ha.a,{label:"Comapny",source:"company_id",reference:"companies",fullWidth:!0,children:Object(ce.jsx)(Ua.a,{optionText:"name"})}),Object(ce.jsx)(Ha.a,{label:"Product Family",source:"family_id",reference:"productFamilies",fullWidth:!0,children:Object(ce.jsx)(Ua.a,{optionText:"name"})}),Object(ce.jsx)(Ea.a,{source:"model",validate:Object(Ra.c)(),fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"code",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"website",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"image",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"description",multiline:!0,rows:3,fullWidth:!0})]}),Object(ce.jsx)(ei.a,{label:"Properties",children:Object(ce.jsx)(ti.a,{source:"properties",children:Object(ce.jsx)(di,{})})})]})}))},show:function(e){return Object(ce.jsx)(tn.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ce.jsx)(vi,{})}))},icon:a.n(ki).a},Ci=function(e){var t=e.record;return Object(ce.jsx)(ue.a,{src:t.image,children:t.name})},Si=function(){return Object(ce.jsx)(Ca,{children:Object(ce.jsx)(la.a,{})})},Ni=function(){var e=Object(Ft.a)(),t=e.data,a=e.ids,n=e.loaded,c=e.onToggleItem,r=e.selectedIds;Date.now();return!1===n?Object(ce.jsx)(sr.a,{hasLeftAvatarOrIcon:!0,hasSecondaryText:!0}):Object(ce.jsx)(yt.a,{children:a.map((function(e){var a=t[e];return Object(ce.jsxs)(jn.a,{button:!0,component:Ut.a,to:"/productFamilies/".concat(e,"/show"),children:[Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(Bt.a,{edge:"start",checked:r.includes(e),tabIndex:-1,disableRipple:!0,onClick:function(t){t.stopPropagation(),c(e)}})}),Object(ce.jsx)(be.a,{children:Object(ce.jsx)(Ci,{record:a})}),Object(ce.jsx)(Oe.a,{primary:"".concat(a.name),secondary:Object(ce.jsxs)(ce.Fragment,{children:[a.name," in"," ",Object(ce.jsx)(qt.a,{record:a,source:"category",choices:Ks})]})}),Object(ce.jsx)(dn.a,{})]},e)}))})},Pi=Object(ee.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),Ti=function(){var e=Pi();return Object(ce.jsxs)(Pt.a,{children:[Object(ce.jsx)(Tt.a,{fields:["last_name","first_name","last_seen"]}),Object(ce.jsx)(Dt.a,{}),Object(ce.jsx)(It.a,{basePath:"/productFamilies",variant:"contained",label:"Add New",className:e.createButton})]})},Di=Object(ee.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),Ii=function(e){var t=e.children;return Object(ce.jsx)(Ja.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Lt.a,{paddingTop:1,children:Object(ce.jsx)(Js.a,{})}),Object(ce.jsx)(Lt.a,{ml:2,flex:"1",maxWidth:796,children:t})]})})},Li=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return t?Object(ce.jsx)(Xn,{record:t,link:n,basePath:"/productFamilies",children:Object(ce.jsx)(Ai,{})}):null},Ai=function(e){var t=e.record;return t?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Q.a,{variant:"subtitle2",children:"Family info"}),Object(ce.jsx)(Ka.a,{}),Object(ce.jsxs)(Lt.a,{mt:1,display:"flex",gridGap:2,children:[Object(ce.jsx)(Q.a,{children:"Category:"}),Object(ce.jsx)(qt.a,{source:"category",choices:Ks})]}),t.website&&Object(ce.jsxs)(Lt.a,{mt:1,children:["Website: ",Object(ce.jsx)(Wt.a,{href:t.website,target:"_blank",rel:"noreferrer",children:"Link"})]})]}):null},Fi=function(){var e=Object(gr.a)(),t=e.record,a=e.loaded,n=e.save;return a&&t?Object(ce.jsxs)(Lt.a,{mt:2,display:"flex",children:[Object(ce.jsx)(Lt.a,{flex:"1",children:Object(ce.jsx)(vr.a,{record:t,redirect:"show",save:n,render:function(e){return Object(ce.jsxs)(sn.a,{children:[Object(ce.jsx)(Ja.a,{children:Object(ce.jsx)(Lt.a,{children:Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Lt.a,{mr:2,children:Object(ce.jsx)(Ci,{record:t})}),Object(ce.jsxs)(Lt.a,{flex:1,children:[Object(ce.jsx)(Ma.a,{source:"category",choices:Ks}),Object(ce.jsx)(Ea.a,{source:"name",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"website",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"image",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"description",multiline:!0,rows:3,fullWidth:!0})]})]})})}),Object(ce.jsx)(wr.a,Object(o.a)({},Cr()(e,["dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialValues","modifiedSinceLastSubmit","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid"])))]})}})}),Object(ce.jsx)(Li,{record:t,link:"show"})]}):null},Wi=function(){var e=Object(an.a)(),t=e.record;return e.loaded&&t?Object(ce.jsxs)(Lt.a,{mt:2,display:"flex",children:[Object(ce.jsx)(Lt.a,{flex:"1",children:Object(ce.jsx)(sn.a,{children:Object(ce.jsxs)(Ja.a,{children:[Object(ce.jsxs)(Lt.a,{display:"flex",children:[Object(ce.jsx)(Ci,{record:t}),Object(ce.jsxs)(Lt.a,{ml:2,flex:"1",children:[Object(ce.jsx)(Q.a,{variant:"h5",children:t.name}),Object(ce.jsxs)(Q.a,{variant:"body2",children:[t.title," in"," ",Object(ce.jsx)(qt.a,{record:t,source:"category",choices:Ks})]})]})]}),Object(ce.jsx)(Lt.a,{mt:2,p:1,children:Object(ce.jsx)(cn.a,{reference:"products",target:"family_id",label:"Products",pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[15,25,50,100]}),perPage:25,children:Object(ce.jsx)(Vc,{})})})]})})}),Object(ce.jsx)(Li,{record:t})]}):null},Bi={list:function(e){return Object(he.a)().identity?Object(ce.jsx)(St.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ce.jsx)(Ti,{}),aside:Object(ce.jsx)(Si,{}),perPage:25,pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,50,100]}),filterDefaultValues:{},children:Object(ce.jsx)(Ni,{})})):null},create:function(e){var t=Di();return Object(ce.jsx)(Ba.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ce.jsxs)(za.a,{component:Ii,redirect:"show",initialValues:function(){return{}},transform:function(e){return Object(o.a)({},e)},children:[Object(ce.jsx)(Ma.a,{source:"category",choices:Ks,formClassName:Object($t.a)(t.inline,"first-child")}),Object(ce.jsx)(Ea.a,{source:"name",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"website",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"image",fullWidth:!0}),Object(ce.jsx)(Ea.a,{source:"description",multiline:!0,rows:3,fullWidth:!0})]})}))},edit:function(e){return Object(ce.jsx)(kr.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ce.jsx)(Fi,{})}))},show:function(e){return Object(ce.jsx)(tn.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ce.jsx)(Wi,{})}))},icon:Js.a},zi=Object(ee.a)((function(e){return{root:{marginTop:e.spacing(1),marginBottom:e.spacing(1),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},open:{width:200},closed:{width:55}}})),Ei=function(e){var t,a=e.dense,n=void 0!==a&&a,r=Object(c.useState)({menuCrm:!0,menuProduct:!0,menuCustomers:!0}),s=Object(ie.a)(r,2),i=s[0],l=s[1],j=(Object(J.a)(),Object(xt.f)((function(e){return e.admin.ui.sidebarOpen})));Object(xt.f)((function(e){return e.theme}));var d=zi(),b=function(e){l((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(te.a)({},e,!t[e]))}))};return Object(ce.jsxs)("div",{className:ht()(d.root,(t={},Object(te.a)(t,d.open,j),Object(te.a)(t,d.closed,!j),t)),children:[" ",Object(ce.jsx)(ft.a,{}),Object(ce.jsxs)(Ct,{handleToggle:function(){return b("menuCrm")},isOpen:i.menuCrm,name:"CRM",icon:Object(ce.jsx)(er.icon,{}),dense:n,children:[Object(ce.jsx)(K.a,{to:{pathname:"/companies",state:{_scrollToTop:!0}},primaryText:"Companies",leftIcon:Object(ce.jsx)(er.icon,{}),dense:n}),Object(ce.jsx)(K.a,{to:{pathname:"/contacts",state:{_scrollToTop:!0}},primaryText:"Contacts",leftIcon:Object(ce.jsx)(Ar.icon,{}),dense:n}),Object(ce.jsx)(K.a,{to:{pathname:"/deals",state:{_scrollToTop:!0}},primaryText:"Deals",leftIcon:Object(ce.jsx)(qs.icon,{}),dense:n}),Object(ce.jsx)(K.a,{to:{pathname:"/tasks",state:{_scrollToTop:!0}},primaryText:"Taks",leftIcon:Object(ce.jsx)(ds.icon,{}),dense:n})]}),Object(ce.jsxs)(Ct,{handleToggle:function(){return b("menuProduct")},isOpen:i.menuProduct,name:"Products",icon:Object(ce.jsx)(_i.icon,{}),dense:n,children:[Object(ce.jsx)(K.a,{to:{pathname:"/products",state:{_scrollToTop:!0}},primaryText:"Products",leftIcon:Object(ce.jsx)(_i.icon,{}),dense:n}),Object(ce.jsx)(K.a,{to:{pathname:"/productFamilies",state:{_scrollToTop:!0}},primaryText:"Families",leftIcon:Object(ce.jsx)(Bi.icon,{}),dense:n})]})]})},Ri={palette:{primary:{main:"#90caf9"},secondary:{main:"#FBBA72"},type:"dark"},sidebar:{width:200},overrides:{MuiAppBar:{colorSecondary:{color:"#ffffffb3",backgroundColor:"#616161e6"}},MuiButtonBase:{root:{"&:hover:active::after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,right:0,backgroundColor:"currentColor",opacity:.3,borderRadius:"inherit"}}}},props:{MuiButtonBase:{disableRipple:!0}}},Mi={palette:{primary:{main:"#4f3cc9"},secondary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"},background:{default:"#fcfcfe"},type:"light"},shape:{borderRadius:10},sidebar:{width:200},overrides:{RaMenuItemLink:{root:{borderLeft:"3px solid #fff"},active:{borderLeft:"3px solid #4f3cc9"}},MuiPaper:{elevation1:{boxShadow:"none"},root:{border:"1px solid #e0e0e3",backgroundClip:"padding-box"}},MuiButton:{contained:{backgroundColor:"#fff",color:"#4f3cc9",boxShadow:"none"}},MuiButtonBase:{root:{"&:hover:active::after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,right:0,backgroundColor:"currentColor",opacity:.3,borderRadius:"inherit"}}},MuiAppBar:{colorSecondary:{color:"#808080",backgroundColor:"#fff"}},MuiLinearProgress:{colorPrimary:{backgroundColor:"#f5f5f5"},barColorPrimary:{backgroundColor:"#d7d7d7"}},MuiFilledInput:{root:{backgroundColor:"rgba(0, 0, 0, 0.04)","&$disabled":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},MuiSnackbarContent:{root:{border:"none"}}},props:{MuiButtonBase:{disableRipple:!0}}},Vi=a(340),Hi=Object(ee.a)((function(e){return{}})),Gi=function(e){Hi();return Object(ce.jsx)(Vi.a,Object(o.a)(Object(o.a)({},e),{},{autoHideDuration:5e3}))},qi=function(e){var t=Object(xt.f)((function(e){return"dark"===e.theme?Ri:Mi}));return Object(ce.jsx)(mt.a,Object(o.a)(Object(o.a)({},e),{},{appBar:Ot,menu:Ei,theme:t,notification:Gi}))},Ui=a(32),Ji=a(975),Ki=a(973),Zi=a(198),$i=a.n(Zi),Qi=a(974),Xi=["meta","input"],Yi=Object(ee.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"center",backgroundImage:"radial-gradient(circle at 50% 50%, #313264 0%, #00023b 50%, #00023b 100%)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em",display:"flex",flexDirection:"column"}}})),eo=function(e){var t=e.meta,a=(t=void 0===t?{touched:!1,error:void 0}:t).touched,n=t.error,c=Object.assign({},e.input),r=Object(Ee.a)(e,Xi);return Object(ce.jsx)(tt.a,Object(o.a)(Object(o.a)(Object(o.a)({error:!(!a||!n),helperText:a&&n},c),r),{},{fullWidth:!0}))},to=Object(Ui.h)().Form,ao=function(){var e=Object(c.useState)(!1),t=Object(ie.a)(e,2),a=t[0],n=t[1],r=Object(J.a)(),s=Yi(),i=Object(Ze.a)(),o=Object(Qi.a)(),l=Object(Os.h)(),j=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,o(t,l.state?l.state.nextPathname:"/");case 4:e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),n(!1),i(e.t0.message,"warning");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(ce.jsx)(to,{onSubmit:j,validate:function(e){var t=e.username,a=e.password;return{username:t?void 0:r("ra.validation.required"),password:a?void 0:r("ra.validation.required")}},render:function(e){var t=e.handleSubmit;return Object(ce.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(ce.jsxs)("div",{className:s.main,children:[Object(ce.jsxs)(sn.a,{className:s.card,children:[Object(ce.jsx)("div",{className:s.avatar,children:Object(ce.jsx)(ue.a,{className:s.icon,children:Object(ce.jsx)($i.a,{})})}),Object(ce.jsx)("div",{className:s.hint,children:"Wecome to Assistor."}),Object(ce.jsxs)("div",{className:s.form,children:[Object(ce.jsx)("div",{className:s.input,children:Object(ce.jsx)(Ui.a,{autoFocus:!0,name:"username",component:eo,label:r("ra.auth.username"),disabled:a})}),Object(ce.jsx)("div",{className:s.input,children:Object(ce.jsx)(Ui.a,{name:"password",component:eo,label:r("ra.auth.password"),type:"password",disabled:a})})]}),Object(ce.jsxs)(Ji.a,{className:s.actions,children:[Object(ce.jsxs)(nt.a,{variant:"contained",type:"submit",color:"primary",disabled:a,fullWidth:!0,children:[a&&Object(ce.jsx)(Cn.a,{size:25,thickness:2}),r("ra.auth.sign_in")]}),Object(ce.jsx)(Q.a,{variant:"body2",children:"Or"}),Object(ce.jsx)(Wt.a,{color:"textSecondary",component:Ut.a,to:"/register",variant:"body1",children:"Register"})]})]}),Object(ce.jsx)(Vi.a,{})]})})}})},no=function(e){return Object(ce.jsx)(Ki.a,{theme:Object(u.a)(Mi),children:Object(ce.jsx)(ao,Object(o.a)({},e))})},co=a(978),ro=a(976),so=function(){var e=Object(he.a)().identity,t=Object(fe.a)("contacts",{page:1,perPage:10},{field:"last_seen",order:"DESC"},{status:"hot",sales_id:null===e||void 0===e?void 0:e.id},{enabled:Number.isInteger(null===e||void 0===e?void 0:e.id)}),a=t.data,n=t.ids,c=t.total,r=t.loaded;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(Lt.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(ce.jsx)(Lt.a,{ml:2,mr:2,display:"flex",children:Object(ce.jsx)(Lr.a,{color:"disabled",fontSize:"large"})}),Object(ce.jsx)(Wt.a,{underline:"none",variant:"h5",color:"textSecondary",component:Ut.a,to:"/contacts",children:"Hot contacts"})]}),Object(ce.jsx)(sn.a,{children:Object(ce.jsx)(ro.a,{basePath:"/contacts",linkType:"show",ids:n,data:a,total:c,loaded:r,primaryText:function(e){return"".concat(e.first_name," ").concat(e.last_name)},secondaryText:function(e){return Object(Se.a)(new Date(e.last_seen),new Date,{addSuffix:!0})},leftAvatar:function(e){return Object(ce.jsx)(mn,{record:e})}})})]})},io=Object(ee.a)((function(e){return{note:{marginBottom:e.spacing(2)},noteText:{backgroundColor:e.palette.grey[200],padding:e.spacing(1),borderRadius:10},noteTextText:{display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical",overflow:"hidden"}}})),oo=function(){var e=io(),t=Object(he.a)().identity,a=Object(fe.a)("contactNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),n=a.data,c=a.ids,r=a.loaded,s=Object(fe.a)("dealNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),i=s.data,l=s.ids,j=s.loaded,d=Object(fe.a)("companyNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),b=d.data,u=d.ids,O=d.loaded;if(!r||!j||!O)return null;if(!c||!n||!l||!i||!u||!b)return null;var x=[].concat(c.map((function(e){return Object(o.a)(Object(o.a)({},n[e]),{},{type:"contactNote"})})),l.map((function(e){return Object(o.a)(Object(o.a)({},i[e]),{},{type:"dealNote"})})),u.map((function(e){return Object(o.a)(Object(o.a)({},b[e]),{},{type:"companyNote"})}))).sort((function(e,t){return new Date(t.date).valueOf()-new Date(e.date).valueOf()})).slice(0,5);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(Lt.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(ce.jsx)(Lt.a,{ml:2,mr:2,display:"flex",children:Object(ce.jsx)(Vt.a,{color:"disabled",fontSize:"large"})}),Object(ce.jsx)(Q.a,{variant:"h5",color:"textSecondary",children:"My Latest Notes"})]}),Object(ce.jsx)(sn.a,{children:Object(ce.jsx)(Ja.a,{children:x.map((function(t){return Object(ce.jsxs)("div",{id:"".concat(t.type,"_").concat(t.id),className:e.note,children:[Object(ce.jsxs)(Q.a,{color:"textSecondary",gutterBottom:!0,children:["on"," ",Object(ce.jsx)(lo,{note:t}),", added"," ",Object(Se.a)(new Date(t.date),new Date,{addSuffix:!0})]}),Object(ce.jsx)("div",{className:e.noteText,children:Object(ce.jsx)(Oc.a,{children:t.text,remarkPlugins:[xc.a]})})]},"".concat(t.type,"_").concat(t.id))}))})})]})},lo=function(e){var t=e.note;return"dealNote"===t.type?Object(ce.jsx)(jo,{note:t}):"contactNote"===t.type?Object(ce.jsx)(bo,{note:t}):"companyNote"===t.type?Object(ce.jsx)(uo,{note:t}):null},jo=function(e){var t=e.note;return Object(ce.jsxs)(ce.Fragment,{children:["Deal"," ",Object(ce.jsx)(Gt.a,{record:t,source:"deal_id",reference:"deals",basePath:"/deals",link:"show",children:Object(ce.jsx)(nn.a,{source:"name",variant:"body1"})})]})},bo=function(e){var t=e.note;return Object(ce.jsxs)(ce.Fragment,{children:["Contact"," ",Object(ce.jsx)(Gt.a,{record:t,source:"contact_id",reference:"contacts",basePath:"/contacts",link:"show",children:Object(ce.jsx)(Fn.a,{variant:"body1",render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]})},uo=function(e){var t=e.note;return Object(ce.jsxs)(ce.Fragment,{children:["Company"," ",Object(ce.jsx)(Gt.a,{record:t,source:"company_id",reference:"companies",basePath:"/companies",link:"show",children:Object(ce.jsx)(nn.a,{source:"name",variant:"body1"})})]})},Oo=a(208),xo=a(985),mo=a(977),po=a(395),ho=Object(c.memo)((function(e){var t=e.setTooltipContent,a=e.countrySelected,n=Object(fe.a)("countries",{perPage:1e3,page:1}),c=n.data,r=n.ids;if(!n.loaded)return null;var s=Object(xo.a)().domain([0,Object(mo.a)(r.map((function(e){return c[e].nb_companies})))]).range(["#e1f5fe","#0277bd"]);return Object(ce.jsx)(Oo.ComposableMap,{"data-tip":"",projectionConfig:{rotate:[-10,0,0],scale:850},children:Object(ce.jsxs)(Oo.ZoomableGroup,{center:[25,50],zoom:1,children:[Object(ce.jsx)(Oo.Graticule,{stroke:"#EAEAEC"}),Object(ce.jsx)(Oo.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",children:function(e){var n=e.geographies;return Object(ce.jsx)(ce.Fragment,{children:n.map((function(e){var n=e.properties.ISO_A3,i=r.find((function(e){return c[e].iso3===n}));return Object(ce.jsx)(Oo.Geography,{geography:e,fill:i?s(c[i].nb_companies):"#D6D6DA",stroke:"#EAEAEC",onMouseEnter:function(){var a=e.properties,n=a.NAME,r=(a.POP_EST,i?c[i].nb_companies:0);t("".concat(n," - ").concat(r))},onMouseLeave:function(){t("")},onClick:function(){return a(i?c[i]:null)}},e.rsmKey)}))})}})]})})})),fo=function(){var e=Object(c.useState)(""),t=Object(ie.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){po.a.rebuild()}),[a]);return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ho,{setTooltipContent:n,countrySelected:function(e){}}),Object(ce.jsx)(po.a,{children:a})]})},go=function(){return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(co.a,{container:!0,spacing:1,children:[Object(ce.jsx)(co.a,{item:!0,xs:12,sm:8,children:Object(ce.jsx)(fo,{})}),Object(ce.jsx)(co.a,{item:!0,xs:12,sm:4,children:Object(ce.jsx)(so,{})}),Object(ce.jsx)(co.a,{item:!0,xs:12,children:Object(ce.jsx)(oo,{})})]})})},vo=a(981),yo=a(558),wo=a.n(yo),ko=a(979),_o=a(65),Co=a(58),So=["meta","input"],No=Object(ee.a)((function(e){return{form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},button:{width:"100%"},icon:{marginRight:e.spacing(1)},actions:{padding:"0 1em 1em 1em",display:"flex",flexDirection:"column"}}})),Po=function(e){var t=e.meta,a=t.touched,n=t.error,c=e.input,r=Object(Ee.a)(e,So);return Object(ce.jsx)(tt.a,Object(o.a)(Object(o.a)(Object(o.a)({error:!(!a||!n),helperText:a&&n},c),r),{},{fullWidth:!0}))},To=function(e){var t=e.redirectTo,a=Object(_o.a)(),n=Object(Co.a)(!1),c=Object(ie.a)(n,2),r=c[0],s=c[1],i=Object(J.a)(),o=Object(Qi.a)(),l=Object(Ze.a)(),j=(Object(pe.a)(),No()),d=function(){var e=Object(p.a)(m.a.mark((function e(n){var c,r,i,j,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.first_name,r=n.last_name,i=n.email,j=n.username,d=n.password,s(!0),e.prev=2,e.next=5,a.register({first_name:c,last_name:r,email:i,username:j,password:d});case 5:e.sent,s(!1),o({username:j,password:d},t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),s(!1),l(e.t0.message,"warning");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(ce.jsx)(Ui.b,{onSubmit:d,validate:function(e){var t=e.first_name,a=e.last_name,n=e.email,c=e.username,r=e.password,s=e.confirm;return{first_name:t?void 0:i("ra.validation.required"),last_name:a?void 0:i("ra.validation.required"),email:n?void 0:i("ra.validation.required"),username:c?void 0:i("ra.validation.required"),password:r?void 0:i("ra.validation.required"),confirm:r!==s?"Confirmation should match password":void 0}},render:function(e){var t=e.handleSubmit;return Object(ce.jsxs)("form",{className:j.form,onSubmit:t,noValidate:!0,children:[Object(ce.jsx)(Ja.a,{children:Object(ce.jsx)(ko.a,{maxWidth:"xs",children:Object(ce.jsxs)(co.a,{container:!0,spacing:2,children:[Object(ce.jsx)(co.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)("div",{className:j.input,children:Object(ce.jsx)(Ui.a,{autoFocus:!0,id:"first_name",name:"first_name",component:Po,label:"First Name",disabled:r,required:!0})})}),Object(ce.jsx)(co.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)("div",{className:j.input,children:Object(ce.jsx)(Ui.a,{autoFocus:!0,id:"last_name",name:"last_name",component:Po,label:"Last Name",disabled:r,required:!0})})}),Object(ce.jsx)(co.a,{item:!0,xs:12,children:Object(ce.jsx)("div",{className:j.input,children:Object(ce.jsx)(Ui.a,{autoFocus:!0,id:"email",name:"email",component:Po,label:"Email Address",disabled:r,required:!0})})}),Object(ce.jsx)(co.a,{item:!0,xs:12,children:Object(ce.jsx)("div",{className:j.input,children:Object(ce.jsx)(Ui.a,{autoFocus:!0,id:"username",name:"username",component:Po,label:i("ra.auth.username"),disabled:r,required:!0})})}),Object(ce.jsx)(co.a,{item:!0,xs:12,children:Object(ce.jsx)("div",{className:j.input,children:Object(ce.jsx)(Ui.a,{id:"password",name:"password",component:Po,label:i("ra.auth.password"),type:"password",disabled:r,autoComplete:"current-password",required:!0})})}),Object(ce.jsx)(co.a,{item:!0,xs:12,children:Object(ce.jsx)("div",{className:j.input,children:Object(ce.jsx)(Ui.a,{id:"confirm",name:"confirm",component:Po,label:"Confirm Password",type:"password",disabled:r,autoComplete:"current-password",required:!0})})})]})})}),Object(ce.jsxs)(Ji.a,{className:j.actions,children:[Object(ce.jsxs)(nt.a,{variant:"contained",type:"submit",color:"primary",disabled:r,className:j.button,fullWidth:!0,children:[r&&Object(ce.jsx)(Cn.a,{size:25,thickness:2}),"Register"]}),Object(ce.jsx)(Q.a,{variant:"body2",children:"Or"}),Object(ce.jsx)(Wt.a,{color:"textSecondary",component:Ut.a,to:"/login",variant:"body1",children:"Login"})]})]})}})},Do=Object(ee.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"radial-gradient(circle at 50% 50%, #313264 0%, #00023b 50%, #00023b 100%)"},card:{minWidth:300},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]}}}),{name:"Register"}),Io=function(){var e=Do();return Object(ce.jsxs)("div",{className:e.main,children:[Object(ce.jsxs)(sn.a,{className:e.card,children:[Object(ce.jsx)("div",{className:e.avatar,children:Object(ce.jsx)(ue.a,{className:e.icon,children:Object(ce.jsx)(wo.a,{})})}),Object(ce.jsx)("div",{className:e.hint,children:"Register to Assistor."}),Object(ce.jsx)(To,{})]}),Object(ce.jsx)(Vi.a,{})]})},Lo=function(e){return Object(ce.jsx)(Ki.a,{theme:Object(u.a)(Mi),children:Object(ce.jsx)(Io,Object(o.a)({},e))})},Ao=a(980),Fo=a(559),Wo=a.n(Fo),Bo="CHANGE_THEME",zo=Object(ee.a)((function(e){return Object(Le.a)({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}})})),Eo=function(){var e=zo(),t=Object(xt.f)((function(e){return e.theme})),a=Object(xt.e)();return Object(ce.jsx)(yt.a,{subheader:Object(ce.jsx)(Ao.a,{children:"Settings"}),className:e.root,children:Object(ce.jsxs)(jn.a,{children:[Object(ce.jsx)(Ve.a,{children:Object(ce.jsx)(Wo.a,{})}),Object(ce.jsx)(Oe.a,{primary:"Dark mode"}),Object(ce.jsx)(dn.a,{children:Object(ce.jsx)(Es.a,{edge:"end",onChange:function(e,t){a(function(e){return{type:Bo,payload:e}}(t?"dark":"light"))},checked:"dark"===t,inputProps:{"aria-labelledby":"switch-list-label-dark-mode"}})})]})})},Ro=a(560),Mo=a.n(Ro),Vo=a(149),Ho=a(955),Go=a(561),qo=a.n(Go),Uo=a(562),Jo=a.n(Uo),Ko=Object(ee.a)((function(e){return Object(Le.a)({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},iframe:{width:"100%",minHeight:"1200px"},actionItem:{display:"flex",justifyContent:"center",gap:"1em"},dialog:{minWidth:"20em"}})})),Zo=function(e){var t=e.userId,a=Ko(),n=Object(Ze.a)(),s=Object($e.a)(),i=r.a.useState(!1),o=Object(ie.a)(i,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(ie.a)(d,2),u=b[0],O=b[1],x=Object(c.useState)(""),h=Object(ie.a)(x,2),f=h[0],g=h[1],v=Object(Ho.a)("sales",t,{onSuccess:function(){return O(null===y||void 0===y?void 0:y.linkedin_username)}}),y=v.data,w=v.loaded,k=(v.error,Object(Pn.a)()),_=Object(ie.a)(k,2),C=_[0],S=_[1].loading;if(!w)return Object(ce.jsx)(ac.a,{});var N=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("sales",t,{linkedin_username:u,linkedin_password:f},y);case 3:n("Linkedin account updated","info"),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.message,n("Linkedin account failed","warning"),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.loginLinkedin();case 3:n("Linkedin login successfull","info"),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.message,n("Linkedin login failed","warning"),j(!0);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(yt.a,{subheader:Object(ce.jsx)(Ao.a,{children:"LinkedIn Account"}),children:[Object(ce.jsx)(jn.a,{children:Object(ce.jsx)(tt.a,{label:"Username",value:u,onChange:function(e){return O(e.target.value)},InputProps:{startAdornment:Object(ce.jsx)(Vo.a,{position:"start",disablePointerEvents:!0,children:Object(ce.jsx)(Mo.a,{})})},style:{width:"100%"}})}),Object(ce.jsx)(jn.a,{children:Object(ce.jsx)(tt.a,{label:"Password",type:"password",value:f,onChange:function(e){return g(e.target.value)},InputProps:{startAdornment:Object(ce.jsx)(Vo.a,{position:"start",disablePointerEvents:!0,children:Object(ce.jsx)($i.a,{})})},style:{width:"100%"}})}),Object(ce.jsxs)(jn.a,{className:a.actionItem,children:[Object(ce.jsx)(nt.a,{variant:"contained",color:"primary",endIcon:Object(ce.jsx)(qo.a,{}),onClick:N,disabled:S,children:"Send"}),Object(ce.jsx)(nt.a,{variant:"contained",color:"primary",endIcon:Object(ce.jsx)(Jo.a,{}),onClick:P,disabled:S,children:"Login"})]})]}),Object(ce.jsx)(ct,{open:l,onClose:function(){return j(!1)}})]})},$o=function(){var e=Ko(),t=Object(he.a)(),a=t.identity;return t.loaded?Object(ce.jsx)("div",{className:e.root,children:a&&Object(ce.jsx)(Zo,{userId:a.id})}):null},Qo=["children","value","index"],Xo=Object(ee.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex"},tabPanel:{flexGrow:1},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}}));function Yo(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var el=function(e){var t=Xo(),a=e.children,n=e.value,c=e.index,r=Object(Ee.a)(e,Qo);return Object(ce.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:n!==c,id:"wrapped-tabpanel-".concat(c),"aria-labelledby":"wrapped-tab-".concat(c)},r),{},{className:t.tabPanel,children:a}))},tl=function(){var e=Xo(),t=Object(c.useState)(0),a=Object(ie.a)(t,2),n=a[0],r=a[1];return Object(ce.jsx)(sn.a,{children:Object(ce.jsxs)(Ja.a,{className:e.root,children:[Object(ce.jsxs)(on.a,{orientation:"vertical",variant:"scrollable",value:n,onChange:function(e,t){r(t)},"aria-label":"Vertical tabs example",className:e.tabs,children:[Object(ce.jsx)(ln.a,Object(o.a)({label:"General"},Yo(0))),Object(ce.jsx)(ln.a,Object(o.a)({label:"User"},Yo(1)))]}),Object(ce.jsx)(el,{value:n,index:0,children:Object(ce.jsx)(Eo,{})}),Object(ce.jsx)(el,{value:n,index:1,children:Object(ce.jsx)($o,{})})]})})},al=[Object(ce.jsx)(vo.a,{exact:!0,path:"/register",component:Lo}),Object(ce.jsx)(Os.b,{exact:!0,path:"/configuration",render:function(){return Object(ce.jsx)(tl,{})}})],nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;return t.type===Bo?t.payload:e},cl=a(336),rl=Object(o.a)({},cl.a),sl=(Object(u.a)(l.a),Object(O.a)((function(e){return"fr"===e?a.e(4).then(a.bind(null,1017)).then((function(e){return e.default})):"ja"===e?a.e(3).then(a.bind(null,1015)).then((function(e){return e.default})):rl}),"en")),il=function(){return Object(ce.jsxs)(j.a,{customRoutes:al,dataProvider:U,authProvider:I,loginPage:no,layout:qi,dashboard:go,customReducers:{theme:nl},i18nProvider:sl,disableTelemetry:!0,children:[Object(ce.jsx)(d.a,Object(o.a)({name:"deals"},qs)),Object(ce.jsx)(d.a,Object(o.a)({name:"contacts"},Ar)),Object(ce.jsx)(d.a,Object(o.a)({name:"companies"},er)),Object(ce.jsx)(d.a,Object(o.a)({name:"products"},_i)),Object(ce.jsx)(d.a,{name:"productProperties"}),Object(ce.jsx)(d.a,{name:"propertyTypes"}),Object(ce.jsx)(d.a,{name:"contactNotes"}),Object(ce.jsx)(d.a,{name:"companyNotes"}),Object(ce.jsx)(d.a,{name:"productNotes"}),Object(ce.jsx)(d.a,{name:"dealNotes"}),Object(ce.jsx)(d.a,Object(o.a)({name:"productFamilies"},Bi)),Object(ce.jsx)(d.a,Object(o.a)({name:"tasks"},ds)),Object(ce.jsx)(d.a,{name:"sales",list:b.a}),Object(ce.jsx)(d.a,{name:"tags",list:b.a}),Object(ce.jsx)(d.a,{name:"countries",list:b.a})]})},ol=function(e){e&&e instanceof Function&&a.e(5).then(a.bind(null,1016)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};i.a.render(Object(ce.jsxs)(r.a.StrictMode,{children:[Object(ce.jsx)(n.a,{}),Object(ce.jsx)(il,{})]}),document.getElementById("root")),ol()}},[[841,1,2]]]);
//# sourceMappingURL=main.924fa1c9.chunk.js.map