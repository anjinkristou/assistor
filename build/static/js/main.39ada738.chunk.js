(this.webpackJsonpassistor=this.webpackJsonpassistor||[]).push([[0],{740:function(e,t){},801:function(e,t,a){"use strict";a.r(t);var n=a(932),c=a(0),r=a.n(c),s=a(30),i=a.n(s),o=a(6),l=a(304),j=a(933),d=a(931),b=a(959),u=a(960),O=a(942),x=a(376),m=a(178),p=a(27),h=a.n(p),f=a(50),g=a(60),v=a.n(g),y="credentials";function _(e){localStorage.setItem(y,JSON.stringify(e))}function w(){var e=localStorage.getItem(y);return null===e?null:JSON.parse(e)}var S=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=6,v.a.get("/".concat(t,"/list"),r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=6,v.a.get("/".concat(t,"/item"),r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=6,v.a.get("/".concat(t,"/items"),r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=6,v.a.get("/".concat(t,"/refs"),r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)}},e.next=6,v.a.post("/".concat(t,"/item"),a,r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)}},e.next=6,v.a.put("/".concat(t,"/item"),a,r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)}},e.next=6,v.a.put("/".concat(t,"/items"),a,r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=6,v.a.delete("/".concat(t,"/item"),r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),c=null===n||void 0===n?void 0:n.access_token,r={headers:{Authorization:"Bearer ".concat(c)},params:a},e.next=6,v.a.delete("/".concat(t,"/items"),r);case 6:return s=e.sent,e.abrupt("return",Promise.resolve(s.data));case 10:return e.prev=10,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),A={getList:S,getOne:k,getMany:C,getManyReference:N,create:P,update:T,updateMany:D,delete:I,deleteMany:W},L=a(462),F="/auth",B=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w()){e.next=3;break}return e.abrupt("return");case 3:return a=null===t||void 0===t?void 0:t.refresh_token,n={headers:{Authorization:"Bearer ".concat(a)}},e.next=7,v.a.post("".concat(F,"/refresh"),void 0,n);case 7:c=e.sent,r=c.data.access_token,_(Object(o.a)(Object(o.a)({},t),{},{access_token:r}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,c,r,s,i,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.prev=1,e.next=4,v.a.post("".concat(F,"/login"),{username:a,password:n});case 4:return c=e.sent,r=c.data,s=r.access_token,i=r.refresh_token,o=Object(L.a)(s),_({access_token:s,refresh_token:i,permissions:o.permissions}),e.abrupt("return",Promise.resolve());case 11:return e.prev=11,e.t0=e.catch(1),l=e.t0.response,e.abrupt("return",Promise.reject({message:l.data,status:l.status}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,c,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.first_name,n=t.last_name,c=t.email,r=t.username,s=t.password,e.prev=1,e.next=4,v.a.post("".concat(F,"/register"),{first_name:a,last_name:n,email:c,username:r,password:s});case 4:e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),i=e.t0.response,e.abrupt("return",Promise.reject({message:i.data,status:i.status}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,c,r,s,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(),t=w(),a=null===t||void 0===t?void 0:t.access_token,n={headers:{Authorization:"Bearer ".concat(a)}},e.next=7,v.a.get("".concat(F,"/user"),n);case 7:return c=e.sent,r=c.data,s=r.id,i=r.fullName,o=r.avatar,e.abrupt("return",Promise.resolve({id:s,fullName:i,avatar:o}));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(a=t.status)&&403!==a&&422!==a){e.next=9;break}e.prev=2,B(),e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(2),e.abrupt("return",Promise.reject());case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(t){return e.apply(this,arguments)}}(),V={login:z,checkError:M,checkAuth:function(){return Boolean(w())?Promise.resolve():Promise.reject()},logout:function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(F,"/logout"));case 2:return localStorage.removeItem(y),e.abrupt("return",Promise.resolve());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getIdentity:R,getPermissions:function(){var e=w(),t=null===e||void 0===e?void 0:e.permissions;return t?Promise.resolve(t):Promise.reject()},register:E},q=a(38),H=a(264),G=a(366),U=a(536),J=a(39),K=a(470),Z=a.n(K),$=a(43),Q=a(37),X=a(467),Y=a.n(X),ee=a(2),te=Object($.a)((function(e){var t;return{root:(t={display:"flex"},Object(Q.a)(t,e.breakpoints.down("xs"),{display:"none"}),Object(Q.a)(t,"alignItems","center"),Object(Q.a)(t,"gap",e.spacing(1)),t),logoIcon:{color:e.palette.secondary.light},logoText:{color:e.palette.primary.light}}})),ae=function(){var e=te();return Object(ee.jsxs)("div",{className:e.root,children:[Object(ee.jsx)(Y.a,{className:e.logoIcon}),Object(ee.jsx)(J.a,{variant:"h6",className:e.logoText,children:"Assistor"})]})},ne=Object($.a)({title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}),ce=Object(c.forwardRef)((function(e,t){Object(q.a)();return Object(ee.jsx)(H.a,{ref:t,to:"/configuration",primaryText:"Configuration",leftIcon:Object(ee.jsx)(Z.a,{}),onClick:e.onClick,sidebarIsOpen:!0})})),re=function(e){return Object(ee.jsx)(G.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(ce,{})}))},se=function(e){var t=ne();return Object(ee.jsxs)(U.a,Object(o.a)(Object(o.a)({},e),{},{elevation:1,userMenu:Object(ee.jsx)(re,{}),children:[Object(ee.jsx)(J.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),Object(ee.jsx)(ae,{}),Object(ee.jsx)("span",{className:t.spacer})]}))},ie=a(11),oe=a(938),le=a(24),je=a(474),de=a.n(je),be=a(523),ue=a(223),Oe=a(379),xe=a(322),me=a(878),pe=a(381),he=a(152),fe=a.n(he),ge=Object($.a)((function(e){return{icon:{minWidth:e.spacing(5)},sidebarIsOpen:{"& a":{transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms",paddingLeft:e.spacing(4)}},sidebarIsClosed:{"& a":{transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms",paddingLeft:e.spacing(2)}}}})),ve=function(e){var t=e.handleToggle,a=e.isOpen,n=e.name,r=e.icon,s=e.children,i=e.dense,o=Object(q.a)(),l=ge(),j=Object(ie.f)((function(e){return e.admin.ui.sidebarOpen})),d=Object(ee.jsxs)(ue.a,{dense:i,button:!0,onClick:t,children:[Object(ee.jsx)(Oe.a,{className:l.icon,children:a?Object(ee.jsx)(fe.a,{}):r}),Object(ee.jsx)(J.a,{variant:"inherit",color:"textSecondary",children:o(n)})]});return Object(ee.jsxs)(c.Fragment,{children:[j||a?d:Object(ee.jsx)(xe.a,{title:o(n),placement:"right",children:d}),Object(ee.jsx)(me.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(ee.jsx)(pe.a,{dense:i,component:"div",disablePadding:!0,className:j?l.sidebarIsOpen:l.sidebarIsClosed,children:s})})]})},ye=a(808),_e=a(887),we=a(537),Se=a(133),ke=a(957),Ce=a(956),Ne=a(955),Pe=a(556),Te=a(380),De=a(545),Ie=a(546),We=a(945),Ae=a(557),Le=a(173),Fe=a.n(Le),Be=a(274),ze=a.n(Be),Ee=a(142),Re=a(318),Me=a(880),Ve=a(16),qe=["Factory Automation","Logistics Automation","Warehouse Automation","Consulting & Development"].map((function(e){return{id:e,name:e}})),He=a(198),Ge=a(100),Ue=a.n(Ge),Je=a(4),Ke=Object($.a)({avatar:{width:60,height:60,backgroundColor:"aliceblue"},img:{objectFit:"contain"},small:{width:20,height:20},large:{width:40,height:40}}),Ze=function(e){var t=e.record,a=e.size,n=void 0===a?"large":a,c=Ke();return t?t.logo?Object(ee.jsx)(He.a,{src:""+t.logo,alt:t.name,className:c.avatar,imgProps:{className:Object(Je.a)(c.img,c[n])}}):Object(ee.jsx)(He.a,{alt:t.name,className:c.avatar,children:Object(ee.jsx)(Ue.a,{})}):null},$e=a(879),Qe=Object($.a)((function(e){return{image:{width:function(e){return e.width}}}})),Xe={medium:42,small:20},Ye=function(e){var t=e.record,a=e.source,n=void 0===a?"url":a,c=e.title,r=void 0===c?"nicename":c,s=e.size,i=Qe({width:Xe[void 0===s?"medium":s]});return t?Object(ee.jsx)($e.a,{record:t,source:n,title:r,classes:i}):null},et=Object($.a)((function(e){return{paper:{height:200,width:185,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"1em",position:"relative"},identity:{display:"flex",flexDirection:"column",alignItems:"center"},name:{textAlign:"center",marginTop:e.spacing(1)},stats:{display:"flex",justifyContent:"space-around",width:"100%"},singleStat:{display:"flex",alignItems:"center"},statIcon:{marginRight:e.spacing(1)},checkbox:{position:"absolute",top:0,right:0},identifier:{position:"absolute",top:e.spacing(1),lrft:0}}})),tt=function(e){var t=e.record,a=et(),n=Object(c.useState)(1),r=Object(le.a)(n,2),s=r[0],i=r[1],o=Object(De.a)(),l=(o.data,o.ids,o.loaded,o.onToggleItem),j=o.selectedIds;return Object(ee.jsx)(Ie.a,{component:Ve.a,to:Object(Ee.a)("/companies",t.id,"show"),underline:"none",onMouseEnter:function(){return i(3)},onMouseLeave:function(){return i(1)},children:Object(ee.jsxs)(Te.a,{className:a.paper,elevation:s,children:[Object(ee.jsx)(We.a,{edge:"start",checked:j.includes(t.id),tabIndex:-1,disableRipple:!0,className:a.checkbox,onClick:function(e){e.stopPropagation(),l(t.id)}}),Object(ee.jsx)(J.a,{variant:"body2",color:"textSecondary",className:a.identifier,children:"#".concat(t.id)}),Object(ee.jsxs)("div",{className:a.identity,children:[Object(ee.jsx)(Ze,{record:t}),Object(ee.jsxs)("div",{className:a.name,children:[Object(ee.jsxs)(Pe.a,{display:"flex",alignItems:"center",children:[Object(ee.jsx)(J.a,{variant:"subtitle2",children:t.name}),Object(ee.jsx)(Re.a,{record:t,source:"country_id",reference:"countries",link:!1,children:Object(ee.jsx)(Ye,{size:"small"})})]}),t.relation&&Object(ee.jsx)(Ae.a,{label:t.relation,variant:"outlined",size:"small"}),Object(ee.jsx)(Me.a,{color:"textSecondary",source:"sector",choices:qe,record:t})]})]}),Object(ee.jsxs)("div",{className:a.stats,children:[Object(ee.jsxs)("div",{className:a.singleStat,children:[Object(ee.jsx)(Fe.a,{color:"disabled",className:a.statIcon}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(J.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_contacts}),Object(ee.jsx)(J.a,{variant:"caption",color:"textSecondary",children:t.nb_contacts>1?"contacts":"contact"})]})]}),Object(ee.jsxs)("div",{className:a.singleStat,children:[Object(ee.jsx)(ze.a,{color:"disabled",className:a.statIcon}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(J.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_notes}),Object(ee.jsx)(J.a,{variant:"caption",color:"textSecondary",children:t.nb_notes>1?"notes":"note"})]})]})]})]})})},at=Object($.a)((function(e){return{gridList:{display:"flex",flexWrap:"wrap",width:"100%",gap:"5px"},paper:{height:200,width:194,display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[200]}}})),nt=function(){var e,t,a=at();return Object(ee.jsx)(Pe.a,{className:a.gridList,children:(e=15,t=function(e){return Object(ee.jsx)(Te.a,{className:a.paper},e)},Array.from({length:e},(function(e,a){return t(a)})))})},ct=function(){var e=Object(De.a)(),t=e.ids,a=e.data,n=at();return t&&a?Object(ee.jsx)(Pe.a,{className:n.gridList,children:t.map((function(e){return Object(ee.jsx)(tt,{record:a[e]},e)}))}):null},rt=function(){return Object(De.a)().loaded?Object(ee.jsx)(ct,{}):Object(ee.jsx)(nt,{})},st=a(481),it=a(881),ot=a(882),lt=a(883),jt=a(485),dt=a.n(jt),bt=a(177),ut=a.n(bt),Ot=a(280),xt=a.n(Ot),mt=["Distributor","End-customer","Prospect","System Integrator"].map((function(e){return{id:e,name:e}})),pt=function(e){var t=e.record;return Object(ee.jsx)(ee.Fragment,{children:t&&Object(ee.jsx)(Ae.a,{label:t.name,size:"small",style:{backgroundColor:t.color,border:0,cursor:"pointer"}})})},ht=Object($.a)((function(e){return{container:Object(Q.a)({order:-1,marginLeft:e.spacing(1),marginRight:e.spacing(1),minWidth:"13em"},e.breakpoints.down("xs"),{display:"none"})}})),ft=function(){var e=ht(),t=Object(ye.a)().identity,a=Object(st.a)("tags",{page:1,perPage:10},{field:"name",order:"ASC"}),n=a.data,c=a.ids;return Object(ee.jsxs)("div",{className:e.container,children:[Object(ee.jsx)(it.a,{}),Object(ee.jsx)(ot.a,{label:"Relation",icon:Object(ee.jsx)(Ue.a,{}),children:mt.map((function(e){return Object(ee.jsx)(lt.a,{label:e.name,value:{relation:e.id}},e.id)}))}),Object(ee.jsx)(ot.a,{label:"Tags",icon:Object(ee.jsx)(xt.a,{}),children:c&&n&&c.map((function(e){return Object(ee.jsx)(lt.a,{label:Object(ee.jsx)(pt,{record:n[e]}),value:{tags:[e]}},e)}))}),Object(ee.jsx)(ot.a,{label:"Sector",icon:Object(ee.jsx)(dt.a,{}),children:qe.map((function(e){return Object(ee.jsx)(lt.a,{label:e.name,value:{sector:e.id}},e.id)}))}),Object(ee.jsx)(ot.a,{label:"Account manager",icon:Object(ee.jsx)(ut.a,{}),children:Object(ee.jsx)(lt.a,{label:"Me",value:{sales_id:t&&t.id}})})]})},gt=a(137),vt=a(36),yt=a(489),_t=a.n(yt),wt=function(){var e=Object(De.a)(),t=e.ids,a=(e.data,e.onSelect);return Object(ee.jsx)(vt.a,{onClick:function(e){e.stopPropagation(),a(t)},label:"Select All",children:Object(ee.jsx)(_t.a,{})})},St=Object($.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),kt={parseConfig:{dynamicTyping:!0}},Ct=function(e){var t=St();return Object(ee.jsxs)(Se.a,{children:[Object(ee.jsx)(ke.a,{fields:["id","name"]}),Object(ee.jsx)(wt,{}),Object(ee.jsx)(Ce.a,{}),Object(ee.jsx)(gt.a,Object(o.a)(Object(o.a)({},e),kt)),Object(ee.jsx)(Ne.a,{basePath:"/companies",variant:"contained",label:"New Company",className:t.createButton})]})},Nt=a(77),Pt=a(941),Tt=a(540),Dt=a(275),It=a(278),Wt=a(899),At=a(900),Lt=a(949),Ft=a(943),Bt=a(902),zt=a(896),Et=a(820),Rt=a(903),Mt=[{id:1,name:"1 employee"},{id:10,name:"2-9 employees"},{id:50,name:"10-49 employees"},{id:250,name:"50-249 employees"},{id:500,name:"250 or more employees"}],Vt=function(e){return Object(ee.jsx)(zt.a,Object(o.a)(Object(o.a)({},e),{},{optionText:function(e){return e?e.country_iso?"".concat(e.name," (").concat(e.country_iso,")"):"".concat(e.name):""},allowEmpty:!0,resettable:!0}))},qt=["formData"],Ht=Object($.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),Gt=function(e){var t=e.children;return Object(ee.jsx)(Et.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Pe.a,{paddingTop:1,children:Object(ee.jsx)(He.a,{children:Object(ee.jsx)(Ue.a,{})})}),Object(ee.jsx)(Pe.a,{ml:2,flex:"1",maxWidth:796,children:t})]})})},Ut=function(){return Object(ee.jsx)(Pe.a,{mb:2,children:Object(ee.jsx)(Rt.a,{})})},Jt=a(908),Kt=a(909),Zt=a(109),$t=a(950),Qt=a(54),Xt=a(894),Yt=a(940),ea=a(910),ta=a(159),aa=a(555),na=a(382),ca=a(383),ra=a(544),sa=a(513),ia=a.n(sa),oa=a(936),la=function(e){var t=e.record;return Object(ee.jsxs)(He.a,{src:t.avatar,children:[t.first_name.charAt(0),t.last_name.charAt(0)]})},ja=function(e){return"cold"===e?"#7dbde8":"warm"===e?"#e8cb7d":"hot"===e?"#e88b7d":"in-contract"===e?"#a4e87d":"#000"},da=function(e){var t=e.status;return Object(ee.jsx)(Pe.a,{width:10,height:10,display:"inline-block",borderRadius:5,bgcolor:ja(t),component:"span"})},ba=a(506),ua=a(317),Oa=a(507),xa=["record"],ma=function(e){var t=e.record,a=Object(Nt.a)(e,xa);return t?Object(ee.jsx)(ba.a,Object(o.a)(Object(o.a)({record:t},a),{},{style:{backgroundColor:t.color,border:0},component:"span"})):null},pa=Object($.a)({root:{display:"inline-block"}}),ha=function(e){var t=e.record,a=pa();return t?Object(ee.jsx)(ua.a,{record:t,basePath:"/contacts",resource:"contacts",source:"tags",reference:"tags",className:a.root,children:Object(ee.jsx)(Oa.a,{linkType:!1,component:"span",children:Object(ee.jsx)(ma,{source:"name",variant:"outlined",size:"small"})})}):null},fa=Object($.a)({image:{objectFit:"contain"}}),ga={medium:42,small:20},va=function(e){var t=e.record,a=(e.source,e.size),n=void 0===a?"medium":a,c=fa();return t?t.logo?Object(ee.jsx)("img",{src:""+t.logo,alt:t.name,title:t.name,width:ga[n],height:ga[n],className:c.image}):Object(ee.jsx)(He.a,{children:Object(ee.jsx)(Ue.a,{})}):null},ya=a(905),_a=a(906),wa=a(294),Sa=a(907),ka=a(141),Ca=a(828),Na=a(904),Pa=a(897),Ta=a(377),Da=a(884),Ia=a(885),Wa=a(886),Aa=a(196),La=a(892),Fa=a(508),Ba=a.n(Fa),za=a(293),Ea=a.n(za),Ra=["#eddcd2","#fff1e6","#fde2e4","#fad2e1","#c5dedd","#dbe7e4","#f0efeb","#d6e2e9","#bcd4e6","#99c1de"],Ma=function(e){var t=e.record,a=e.reference,n=Object(c.useState)(!1),r=Object(le.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),l=Object(le.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(Ra[0]),u=Object(le.a)(b,2),O=u[0],x=u[1],m=Object(c.useState)(null),p=Object(le.a)(m,2),h=p[0],f=p[1],g=Object(c.useState)(0),v=Object(le.a)(g,2),y=v[0],_=v[1],w=Object(c.useState)(!1),S=Object(le.a)(w,2),k=S[0],C=S[1],N=Object(st.a)("tags",{page:1,perPage:10},{field:"name",order:"ASC"},{},{version:y}),P=N.data,T=N.ids,D=Object(Ca.a)("tags",t.tags,{enabled:t.tags&&t.tags.length>0}),I=D.data,W=(D.loaded,Object(Na.a)()),A=Object(le.a)(W,1)[0],L=Object(Pa.a)(),F=Object(le.a)(L,1)[0],B=T&&T.filter((function(e){return!t.tags.includes(e)})),z=function(e){var n=[].concat(Object(ka.a)(t.tags),[e]);A(a,t.id,{tags:n},t),f(null)},E=function(){i(!0),f(null),C(!1)};return Object(ee.jsxs)(ee.Fragment,{children:[I.map((function(e){return Object(ee.jsx)(Pe.a,{mt:1,mb:1,children:Object(ee.jsx)(Ae.a,{size:"small",variant:"outlined",onDelete:function(){return function(e){var n=t.tags.filter((function(t){return t!==e}));A(a,t.id,{tags:n},t)}(e.id)},label:e.name,style:{backgroundColor:e.color,border:0}})},e.id)})),Object(ee.jsx)(Pe.a,{mt:1,children:Object(ee.jsx)(Ae.a,{icon:Object(ee.jsx)(Ba.a,{}),size:"small",variant:"outlined",onClick:function(e){f(e.currentTarget)},label:"Add tag",color:"primary"})}),Object(ee.jsxs)(Ta.a,{open:Boolean(h),onClose:function(){f(null)},anchorEl:h,children:[null===B||void 0===B?void 0:B.map((function(e){return Object(ee.jsx)(ue.a,{onClick:function(){return z(e)},children:Object(ee.jsx)(Ae.a,{size:"small",variant:"outlined",label:P&&P[e].name,style:{backgroundColor:P&&P[e].color,border:0},onClick:function(){return z(e)}})},e)})),Object(ee.jsx)(ue.a,{onClick:E,children:Object(ee.jsx)(Ae.a,{icon:Object(ee.jsx)(Ea.a,{}),size:"small",variant:"outlined",onClick:E,color:"primary",label:"Create new tag"})})]}),Object(ee.jsx)(Da.a,{open:s,onClose:function(){return i(!1)},"aria-labelledby":"form-dialog-title",children:Object(ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C(!0),F("tags",{name:j,color:O},{onSuccess:function(e){var n=e.data;A(a,t.id,{tags:[].concat(Object(ka.a)(t.tags),[n.id])},t,{onSuccess:function(){d(""),x(Ra[0]),i(!1),_((function(e){return e+1}))}})}})},children:[Object(ee.jsx)(Ia.a,{id:"form-dialog-title",children:"Create a new tag"}),Object(ee.jsxs)(Wa.a,{children:[Object(ee.jsx)(Aa.a,{autoFocus:!0,label:"Tag name",fullWidth:!0,value:j,onChange:function(e){d(e.target.value)}}),Object(ee.jsx)(Pe.a,{display:"flex",flexWrap:"wrap",width:230,mt:2,children:Ra.map((function(e){return Object(ee.jsx)(qa,{color:e,selected:e===O,handleClick:function(){x(e)}},e)}))})]}),Object(ee.jsxs)(La.a,{children:[Object(ee.jsx)(ra.a,{onClick:function(){return i(!1)},color:"primary",children:"Cancel"}),Object(ee.jsx)(ra.a,{type:"submit",color:"primary",disabled:k,children:"Add tag"})]})]})})]})},Va=Object($.a)({root:{width:30,height:30,borderRadius:15,display:"inline-block",margin:8}}),qa=function(e){var t=e.color,a=e.handleClick,n=e.selected,c=Va();return Object(ee.jsx)("button",{type:"button",className:c.root,style:{backgroundColor:t,border:n?"2px solid grey":"none"},onClick:a})},Ha=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return t?Object(ee.jsxs)(Pe.a,{ml:4,width:250,minWidth:250,children:[Object(ee.jsx)(Pe.a,{textAlign:"center",mb:2,children:"edit"===n?Object(ee.jsx)(ya.a,{basePath:"/companies",record:t,label:"Edit Company"}):Object(ee.jsx)(_a.a,{basePath:"/companies",record:t,label:"Show Company"})}),Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Company info"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsxs)(Pe.a,{mt:2,children:["Website: ",Object(ee.jsx)(Ie.a,{href:t.website,target:"_blank",rel:"noreferrer",children:t.website}),Object(ee.jsx)("br",{}),"LinkedIn: ",Object(ee.jsx)(Ie.a,{href:t.linkedIn,target:"_blank",rel:"noreferrer",children:"LinkedIn"})]}),Object(ee.jsxs)(Pe.a,{mt:1,children:["Relation: ",Object(ee.jsx)(Zt.a,{source:"relation",record:t})]}),t.distributor_id&&Object(ee.jsxs)(Pe.a,{mt:1,children:["Distributor: ",Object(ee.jsx)(Re.a,{record:t,source:"distributor_id",reference:"companies",children:Object(ee.jsx)(Zt.a,{source:"name",record:t})})]}),t.phone_number&&Object(ee.jsxs)(Pe.a,{mt:1,children:[Object(ee.jsx)(Zt.a,{source:"phone_number",record:t})," ",Object(ee.jsx)(J.a,{variant:"body2",color:"textSecondary",component:"span",children:"Main"})]}),Object(ee.jsxs)(Pe.a,{mt:1,mb:3,children:[Object(ee.jsx)(Zt.a,{source:"address"}),Object(ee.jsx)("br",{}),Object(ee.jsx)(Zt.a,{source:"city"})," ",Object(ee.jsx)(Zt.a,{source:"zipcode"})," ",Object(ee.jsx)(Zt.a,{source:"stateAbbr"})]}),Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Background"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsxs)(Pe.a,{mt:3,children:[Object(ee.jsx)(J.a,{variant:"body2",color:"textSecondary",component:"span",children:"Added on"})," ",Object(ee.jsx)(wa.a,{source:"created_at",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ee.jsx)("br",{}),Object(ee.jsx)(J.a,{component:"span",variant:"body2",color:"textSecondary",children:"Followed by"})," ",Object(ee.jsx)(Re.a,{resource:"companies",source:"sales_id",reference:"sales",children:Object(ee.jsx)(Sa.a,{source:"last_name",render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]}),Object(ee.jsxs)(Pe.a,{mb:3,children:[Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Tags"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(Ma,{record:t,reference:"companies"})]}),Object(ee.jsxs)(Pe.a,{mb:3,children:[Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Use Products"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(Pe.a,{mt:1,children:Object(ee.jsx)(ua.a,{label:"Tags",reference:"products",source:"use_products",children:Object(ee.jsx)(Oa.a,{children:Object(ee.jsx)(ba.a,{source:"model",variant:"outlined",color:"secondary",size:"small"})})})})]})]}):null},Ga=["opportunity","proposal-sent","in-negociation","won","lost","delayed"],Ua={opportunity:"Opportunity","proposal-sent":"Proposal Sent","in-negociation":"In Negociation",won:"Won",lost:"Lost",delayed:"Delayed"},Ja=Ga.map((function(e){return{id:e,name:Ua[e]}})),Ka=a(157),Za=a(810),$a=a(207),Qa=Object($.a)({root:{width:150}}),Xa=function(e){var t=e.status,a=e.setStatus,n=e.className,c=void 0===n?"":n,r=Qa();return Object(ee.jsxs)(Aa.a,{select:!0,value:t,onChange:function(e){a(e.target.value)},variant:"filled",label:!1,margin:"none",size:"small",className:Object(Je.a)(c,r.root),children:[Object(ee.jsxs)(ue.a,{value:"cold",children:["Cold ",Object(ee.jsx)(da,{status:"cold"})]}),Object(ee.jsxs)(ue.a,{value:"warm",children:["Warm ",Object(ee.jsx)(da,{status:"warm"})]}),Object(ee.jsxs)(ue.a,{value:"hot",children:["Hot ",Object(ee.jsx)(da,{status:"hot"})]}),Object(ee.jsxs)(ue.a,{value:"in-contract",children:["In Contract ",Object(ee.jsx)(da,{status:"in-contract"})]})]})},Ya=Object($.a)((function(e){return{root:{marginTop:e.spacing(4),marginBottom:e.spacing(1)},toolbar:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(1)},small:{marginRight:"1em","& .MuiFilledInput-input":{paddingTop:10}}}})),en=function(e){var t=e.showStatus,a=e.reference,n=Ya(),r=Object(Qt.b)(),s=Object(Ka.a)(),i=Object(c.useState)(""),o=Object(le.a)(i,2),l=o[0],j=o[1],d=Object(c.useState)(r&&r.status),b=Object(le.a)(d,2),u=b[0],O=b[1],x=Object(c.useState)(tn()),m=Object(le.a)(x,2),p=m[0],h=m[1],f=Object(Pa.a)(),g=Object(le.a)(f,2),v=g[0],y=g[1].loading,_=Object(Na.a)(),w=Object(le.a)(_,1)[0],S=Object(Za.a)(),k=Object($a.a)(),C=Object(ye.a)().identity;if(!r||!C)return null;return Object(ee.jsx)("div",{className:n.root,children:Object(ee.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault();var c=(n={},Object(Q.a)(n,an[a],r.id),Object(Q.a)(n,"sales_id",C.id),Object(Q.a)(n,"date",p),Object(Q.a)(n,"text",l),n);return t&&(c.status=u),w(a,r&&r.id,{last_seen:p,status:u},r),v(s,c,{onSuccess:function(){j(""),k("Note added successfully","info"),S()}}),!1},children:[Object(ee.jsx)(Aa.a,{label:"Add a note",variant:"filled",size:"small",fullWidth:!0,multiline:!0,value:l,onChange:function(e){return j(e.target.value)},rows:3}),Object(ee.jsxs)("div",{className:n.toolbar,children:[Object(ee.jsx)("span",{children:l?Object(ee.jsxs)(ee.Fragment,{children:[t&&Object(ee.jsx)(Xa,{status:u,setStatus:O,className:n.small}),Object(ee.jsx)(Aa.a,{type:"datetime-local",variant:"filled",size:"small",value:p,onChange:function(e){h(e.target.value)},className:n.small})]}):null}),Object(ee.jsx)(ra.a,{type:"submit",variant:"contained",color:"primary",disabled:!l||y,children:"Add this note"})]})]})})},tn=function(){var e=new Date;return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,-8)},an={contacts:"contact_id",deals:"deal_id",companies:"company_id",products:"product_id"},nn=a(898),cn=a(814),rn=a(120),sn=a(102),on=a.n(sn),ln=Object($.a)((function(e){return{root:{marginBottom:e.spacing(2)},metadata:{marginBottom:e.spacing(1),color:e.palette.text.secondary},textarea:{paddingTop:16,paddingLeft:14,paddingRight:60,paddingBottom:14,lineHeight:1.3},buttons:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},cancel:{marginRight:e.spacing(1)},content:{backgroundColor:e.palette.grey[200],padding:"0 1em",borderRadius:10,display:"flex",alignItems:"stretch",marginBottom:e.spacing(1)},text:{flex:1,marginTop:e.spacing(1),marginBottom:e.spacing(1)},paragraph:{fontFamily:e.typography.fontFamily,fontSize:e.typography.body1.fontSize,lineHeight:1,marginTop:e.spacing(1),marginBottom:e.spacing(1)},toolbar:{marginLeft:e.spacing(2),visibility:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-around"}}})),jn=function(e){var t=e.showStatus,a=e.note,n=(e.isLast,e.reference),r=Object(c.useState)(!1),s=Object(le.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(!1),j=Object(le.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(a.text),O=Object(le.a)(u,2),x=O[0],m=O[1],p=Object(Ka.a)(),h=Object(Qt.b)(),f=Object($a.a)(),g=ln(),v=Object(Na.a)(),y=Object(le.a)(v,2),_=y[0],w=y[1].loading,S=Object(nn.a)(p,a.id,a,{mutationMode:"undoable",onSuccess:function(){f("Note deleted","info",void 0,!0),_(n,h.id,{nb_notes:h.nb_notes-1},h)}}),k=Object(le.a)(S,1)[0];return Object(ee.jsxs)("div",{className:g.root,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(ee.jsxs)("div",{className:g.metadata,children:[Object(ee.jsx)(Re.a,{record:a,resource:"contactNotes",source:"sales_id",reference:"sales",basePath:"/contactNotes",children:Object(ee.jsx)(Zt.a,{source:"first_name",variant:"body1"})})," ",Object(ee.jsxs)(J.a,{component:"span",variant:"body1",children:["added a note on"," "]}),Object(ee.jsx)(wa.a,{source:"date",record:a,variant:"body1",showTime:!0,locales:"en",options:{dateStyle:"full",timeStyle:"short"}})," ",t&&Object(ee.jsx)(da,{status:a.status})]}),d?Object(ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_(p,a.id,{text:x},a,{onSuccess:function(){b(!1),m(a.text),o(!1)}})},children:[Object(ee.jsx)(cn.a,{value:x,onChange:function(e){m(e.target.value)},fullWidth:!0,multiline:!0,className:g.textarea,autoFocus:!0}),Object(ee.jsxs)("div",{className:g.buttons,children:[Object(ee.jsx)(ra.a,{className:g.cancel,onClick:function(){b(!1),m(a.text),o(!1)},color:"primary",children:"Cancel"}),Object(ee.jsx)(ra.a,{type:"submit",color:"primary",variant:"contained",disabled:w,children:"Update Note"})]})]}):Object(ee.jsxs)("div",{className:g.content,children:[Object(ee.jsx)("div",{className:g.text,children:a.text.split("\n").map((function(e,t){return Object(ee.jsx)("p",{className:g.paragraph,children:e},t)}))}),Object(ee.jsxs)("div",{className:g.toolbar,style:{visibility:i?"visible":"hidden"},children:[Object(ee.jsx)(xe.a,{title:"Edit note",children:Object(ee.jsx)(rn.a,{size:"small",onClick:function(){b(!0)},children:Object(ee.jsx)(Ea.a,{})})}),Object(ee.jsx)(xe.a,{title:"Delete note",children:Object(ee.jsx)(rn.a,{size:"small",onClick:k,children:Object(ee.jsx)(on.a,{})})})]})]})]})},dn=Object($.a)({root:{marginTop:"0.5em"}}),bn=function(e){var t=e.showStatus,a=e.reference,n=dn(),c=Object(De.a)(),r=c.data,s=c.ids;return c.loaded?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(en,{showStatus:t,reference:a}),Object(ee.jsx)("div",{className:n.root,children:s.map((function(e,n){return Object(ee.jsx)(jn,{note:r[e],isLast:n===s.length-1,showStatus:t,reference:a},n)}))})]}):null},un=["children","value","index"],On=function(){var e=Object(Kt.a)(),t=e.record,a=e.loaded,n=Object(c.useState)(0),r=Object(le.a)(n,2),s=r[0],i=r[1];return a&&t?Object(ee.jsxs)(Pe.a,{mt:2,display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Xt.a,{children:Object(ee.jsxs)(Et.a,{children:[Object(ee.jsxs)(Pe.a,{display:"flex",mb:1,children:[Object(ee.jsx)(va,{record:t}),Object(ee.jsxs)(Pe.a,{ml:2,flex:"1",children:[Object(ee.jsxs)(Pe.a,{display:"flex",gridGap:4,children:[Object(ee.jsx)(J.a,{variant:"h5",children:t.name}),t.relation&&Object(ee.jsx)(Ae.a,{label:t.relation,variant:"outlined",size:"small"})]}),Object(ee.jsx)(J.a,{variant:"body2",color:"textSecondary",children:"#".concat(t.id," - ")}),t.sector&&Object(ee.jsxs)(J.a,{variant:"body2",children:[Object(ee.jsx)(Zt.a,{source:"sector"}),","," ",Object(ee.jsx)(Me.a,{source:"size",choices:Mt})]})]}),Object(ee.jsx)(Pe.a,{children:Object(ee.jsx)(Re.a,{source:"country_id",reference:"countries",link:!1,children:Object(ee.jsx)(Ye,{})})})]}),Object(ee.jsxs)(Yt.a,{value:s,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){i(t)},children:[Object(ee.jsx)(ea.a,{label:1===t.nb_notes?"1 Note":"".concat(t.nb_notes," Notes")}),Object(ee.jsx)(ea.a,{label:1===t.nb_contacts?"1 Contact":"".concat(t.nb_contacts," Contacts")}),t.nb_deals&&Object(ee.jsx)(ea.a,{label:1===t.nb_deals?"1 deal":"".concat(t.nb_deals," Deals")})]}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(xn,{value:s,index:0,children:Object(ee.jsx)($t.a,{reference:"companyNotes",target:"company_id",sort:{field:"date",order:"DESC"},children:Object(ee.jsx)(bn,{reference:"companies"})})}),Object(ee.jsx)(xn,{value:s,index:1,children:Object(ee.jsx)($t.a,{reference:"contacts",target:"company_id",sort:{field:"last_name",order:"ASC"},children:Object(ee.jsx)(mn,{})})}),Object(ee.jsx)(xn,{value:s,index:2,children:Object(ee.jsx)($t.a,{reference:"deals",target:"company_id",sort:{field:"name",order:"ASC"},children:Object(ee.jsx)(hn,{})})})]})})}),Object(ee.jsx)(Ha,{record:t})]}):null},xn=function(e){var t=e.children,a=e.value,n=e.index,c=Object(Nt.a)(e,un);return Object(ee.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:a!==n,id:"wrapped-tabpanel-".concat(n),"aria-labelledby":"wrapped-tab-".concat(n)},c),{},{children:t}))},mn=function(){var e=Object(De.a)(),t=e.data,a=e.ids,n=e.loaded,c=Object(Qt.b)(),r=Date.now();return n?Object(ee.jsxs)(Pe.a,{children:[Object(ee.jsx)(pe.a,{children:a.map((function(e){var a=t[e];return Object(ee.jsxs)(ta.a,{button:!0,component:Ve.a,to:"/contacts/".concat(e,"/show"),children:[Object(ee.jsx)(aa.a,{children:Object(ee.jsx)(la,{record:a})}),Object(ee.jsx)(na.a,{primary:"".concat(a.first_name," ").concat(a.last_name),secondary:Object(ee.jsxs)(ee.Fragment,{children:[a.title," ","- ".concat(a.nb_notes," notes "),Object(ee.jsx)(ha,{record:a})]})}),Object(ee.jsx)(ca.a,{children:Object(ee.jsxs)(J.a,{variant:"body2",color:"textSecondary",children:["last activity"," ",Object(oa.a)(new Date(a.last_seen),r)," ","ago ",Object(ee.jsx)(da,{status:a.status})]})})]},e)}))}),Object(ee.jsx)(Pe.a,{textAlign:"center",mt:1,children:Object(ee.jsx)(pn,{record:c})})]}):null},pn=function(e){var t=e.record;return Object(ee.jsx)(ra.a,{component:Ve.a,to:{pathname:"/contacts/create",state:{record:{company_id:t.id}}},color:"primary",variant:"contained",size:"small",startIcon:Object(ee.jsx)(ia.a,{}),children:"Add contact"})},hn=function(){var e=Object(De.a)(),t=e.data,a=e.ids,n=e.loaded,c=Date.now();return n?Object(ee.jsx)(Pe.a,{children:Object(ee.jsx)(pe.a,{children:a.map((function(e){var a=t[e];return Object(ee.jsxs)(ta.a,{button:!0,component:Ve.a,to:"/deals/".concat(e,"/show"),children:[Object(ee.jsx)(na.a,{primary:a.name,secondary:Object(ee.jsxs)(ee.Fragment,{children:[Ua[a.stage],","," ",a.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),", ",a.type]})}),Object(ee.jsx)(ca.a,{children:Object(ee.jsxs)(J.a,{variant:"body2",color:"textSecondary",component:"span",children:["last activity"," ",Object(oa.a)(new Date(a.updated_at),c)," ","ago"," "]})})]},e)}))})}):null},fn=a(911),gn=["formData"],vn=Object($.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),yn=function(e){var t=Object(Qt.b)(e);return Object(ee.jsx)(Et.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(va,{record:t}),Object(ee.jsx)(Pe.a,{ml:2,flex:"1",maxWidth:796,children:e.children})]})})},_n=function(){return Object(ee.jsx)(Pe.a,{mb:2,children:Object(ee.jsx)(Rt.a,{})})},wn={list:function(e){var t=Object(ye.a)().identity;return t?Object(ee.jsx)(_e.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ee.jsx)(Ct,{}),aside:Object(ee.jsx)(ft,{}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},pagination:Object(ee.jsx)(we.a,{rowsPerPageOptions:[15,25,50,100,1e3]}),perPage:25,sort:{field:"name",order:"ASC"},component:"div",children:Object(ee.jsx)(rt,{})})):null},create:function(e){var t=Ht(),a=Object(ye.a)().identity;if(!a)return null;return Object(ee.jsx)(Pt.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ee.jsxs)(Tt.a,{component:Gt,initialValues:function(){return{sales_id:a&&(null===a||void 0===a?void 0:a.id)}},redirect:"show",children:[Object(ee.jsx)(Dt.a,{source:"name",validate:Object(It.c)(),fullWidth:!0}),Object(ee.jsx)(Wt.a,{source:"sector",choices:qe,formClassName:Object(Je.a)(t.inline,"first-child")}),Object(ee.jsx)(Wt.a,{source:"size",choices:Mt,formClassName:t.inline}),Object(ee.jsx)(Wt.a,{source:"relation",choices:mt,formClassName:t.inline}),Object(ee.jsx)(At.a,{children:function(e){var t=e.formData;Object(Nt.a)(e,qt);return"Distributor"!=t.relation&&Object(ee.jsx)(Lt.a,{source:"distributor_id",reference:"companies",children:Object(ee.jsx)(Vt,{})})}}),Object(ee.jsx)(Ft.a,{source:"use_products",reference:"products",children:Object(ee.jsx)(Bt.a,{source:"model"})}),Object(ee.jsx)(Ut,{}),Object(ee.jsx)(Dt.a,{source:"address",fullWidth:!0,helperText:!1}),Object(ee.jsx)(Dt.a,{source:"city",formClassName:Object(Je.a)(t.inline,"first-child")}),Object(ee.jsx)(Dt.a,{source:"zipcode",formClassName:t.inline}),Object(ee.jsx)(Dt.a,{source:"stateAbbr",formClassName:t.inline}),Object(ee.jsx)(Lt.a,{source:"country_id",reference:"countries",children:Object(ee.jsx)(zt.a,{optionText:"nicename"})}),Object(ee.jsx)(Ut,{}),Object(ee.jsx)(Dt.a,{source:"website",fullWidth:!0,helperText:!1}),Object(ee.jsx)(Dt.a,{source:"linkedIn",fullWidth:!0,helperText:!1}),Object(ee.jsx)(Dt.a,{source:"logo",fullWidth:!0}),Object(ee.jsx)(Ut,{}),Object(ee.jsx)(Dt.a,{source:"phone_number",formClassName:Object(Je.a)(t.inline,"first-child"),helperText:!1}),Object(ee.jsx)(Lt.a,{source:"sales_id",reference:"sales",label:"Account manager",formClassName:t.inline,helperText:!1,children:Object(ee.jsx)(Wt.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},edit:function(e){var t=vn();return Object(ee.jsx)(fn.a,Object(o.a)(Object(o.a)({},e),{},{aside:Object(ee.jsx)(Ha,{link:"show"}),actions:!1,children:Object(ee.jsxs)(Tt.a,{component:yn,redirect:"show",children:[Object(ee.jsx)(Dt.a,{source:"name",validate:Object(It.c)(),fullWidth:!0}),Object(ee.jsx)(Wt.a,{source:"sector",choices:qe,formClassName:Object(Je.a)(t.inline,"first-child")}),Object(ee.jsx)(Wt.a,{source:"size",choices:Mt,formClassName:t.inline}),Object(ee.jsx)(Wt.a,{source:"relation",choices:mt,formClassName:t.inline}),Object(ee.jsx)(At.a,{children:function(e){var t=e.formData;Object(Nt.a)(e,gn);return"Distributor"!=t.relation&&Object(ee.jsx)(Lt.a,{source:"distributor_id",reference:"companies",children:Object(ee.jsx)(Vt,{})})}}),Object(ee.jsx)(Ft.a,{source:"use_products",reference:"products",children:Object(ee.jsx)(Bt.a,{optionText:"model"})}),Object(ee.jsx)(_n,{}),Object(ee.jsx)(Dt.a,{source:"address",fullWidth:!0,helperText:!1}),Object(ee.jsx)(Dt.a,{source:"city",formClassName:Object(Je.a)(t.inline,"first-child")}),Object(ee.jsx)(Dt.a,{source:"zipcode",formClassName:t.inline}),Object(ee.jsx)(Dt.a,{source:"stateAbbr",formClassName:t.inline}),Object(ee.jsx)(Lt.a,{source:"country_id",reference:"countries",children:Object(ee.jsx)(zt.a,{optionText:"nicename"})}),Object(ee.jsx)(_n,{}),Object(ee.jsx)(Dt.a,{source:"website",fullWidth:!0,helperText:!1}),Object(ee.jsx)(Dt.a,{source:"linkedIn",fullWidth:!0,helperText:!1}),Object(ee.jsx)(Dt.a,{source:"logo",fullWidth:!0}),Object(ee.jsx)(_n,{}),Object(ee.jsx)(Dt.a,{source:"phone_number",formClassName:Object(Je.a)(t.inline,"first-child"),helperText:!1}),Object(ee.jsx)(Lt.a,{source:"sales_id",reference:"sales",label:"Account manager",formClassName:t.inline,helperText:!1,children:Object(ee.jsx)(Wt.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},show:function(e){return Object(ee.jsx)(Jt.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(On,{})}))},icon:Ue.a},Sn=a(297),kn=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return Object(ee.jsxs)(Pe.a,{ml:4,width:250,minWidth:250,children:[Object(ee.jsx)(Pe.a,{textAlign:"center",mb:2,children:"edit"===n?Object(ee.jsx)(ya.a,{basePath:"/contacts",record:t,label:"Edit Contact"}):Object(ee.jsx)(_a.a,{basePath:"/contacts",record:t,label:"Show Contact"})}),Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Personal info"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(Pe.a,{mt:2,children:Object(ee.jsx)(Sn.a,{source:"email"})}),Object(ee.jsxs)(Pe.a,{mt:1,children:[Object(ee.jsx)(Zt.a,{source:"phone_number1"})," ",Object(ee.jsx)(J.a,{variant:"body2",color:"textSecondary",component:"span",children:"Work"})]}),Object(ee.jsxs)(Pe.a,{mb:1,children:[Object(ee.jsx)(Zt.a,{source:"phone_number2"})," ",Object(ee.jsx)(J.a,{variant:"body2",color:"textSecondary",component:"span",children:"Home"})]}),Object(ee.jsx)(Pe.a,{mb:3,children:Object(ee.jsx)(J.a,{variant:"body2",children:"male"===t.gender?"He/Him":"She/Her"})}),Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Background"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(Pe.a,{mt:2,children:t&&t.background}),Object(ee.jsxs)(Pe.a,{mt:1,mb:3,children:[Object(ee.jsx)(J.a,{component:"span",variant:"body2",color:"textSecondary",children:"Added on"})," ",Object(ee.jsx)(wa.a,{source:"first_seen",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ee.jsx)("br",{}),Object(ee.jsx)(J.a,{component:"span",variant:"body2",color:"textSecondary",children:"Last seen on"})," ",Object(ee.jsx)(wa.a,{source:"last_seen",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ee.jsx)("br",{}),Object(ee.jsx)(J.a,{component:"span",variant:"body2",color:"textSecondary",children:"Followed by"})," ",Object(ee.jsx)(Re.a,{resource:"contacts",source:"sales_id",reference:"sales",children:Object(ee.jsx)(Sa.a,{source:"last_name",render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]}),Object(ee.jsxs)(Pe.a,{mb:3,children:[Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Tags"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(Ma,{record:t,reference:"contacts"})]}),Object(ee.jsxs)(Pe.a,{children:[Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Tasks"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)($t.a,{resource:"contacts",target:"contact_id",reference:"tasks",children:Object(ee.jsx)(Cn,{})})]})]})},Cn=function(){var e=Object(De.a)(),t=e.data,a=e.ids;return e.loading||0===a.length?null:Object(ee.jsx)(pe.a,{children:a.map((function(e){var a=t[e];return Object(ee.jsx)(ta.a,{disableGutters:!0,children:Object(ee.jsxs)(Pe.a,{children:[Object(ee.jsx)(J.a,{variant:"body2",children:a.text}),Object(ee.jsxs)(J.a,{variant:"body2",color:"textSecondary",children:["due"," ",Object(ee.jsx)(wa.a,{source:"due_date",record:a})]})]})},e)}))})},Nn=function(){var e=Object(Kt.a)(),t=e.record;return e.loaded&&t?Object(ee.jsxs)(Pe.a,{mt:2,display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Xt.a,{children:Object(ee.jsxs)(Et.a,{children:[Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(la,{record:t}),Object(ee.jsxs)(Pe.a,{ml:2,flex:"1",children:[Object(ee.jsxs)(J.a,{variant:"h5",children:[t.first_name," ",t.last_name]}),Object(ee.jsxs)(J.a,{variant:"body2",children:["#".concat(t.id," - "),t.title," at"," ",Object(ee.jsx)(Re.a,{source:"company_id",reference:"companies",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name"})})]})]}),Object(ee.jsx)(Pe.a,{children:Object(ee.jsx)(Re.a,{source:"company_id",reference:"companies",link:"show",children:Object(ee.jsx)(va,{})})})]}),Object(ee.jsx)($t.a,{target:"contact_id",reference:"contactNotes",sort:{field:"date",order:"DESC"},children:Object(ee.jsx)(bn,{showStatus:!0,reference:"contacts"})})]})})}),Object(ee.jsx)(kn,{record:t})]}):null},Pn=a(515),Tn=a(298),Dn=a.n(Tn),In=a(514),Wn=a.n(In),An=a(913),Ln=a(914),Fn=a(915),Bn=a(958),zn=Object($.a)((function(e){return{container:Object(Q.a)({order:-1,marginLeft:e.spacing(1),marginRight:e.spacing(1),minWidth:"13em"},e.breakpoints.down("xs"),{display:"none"})}})),En=function(){var e=zn(),t=Object(ye.a)().identity,a=Object(st.a)("tags",{page:1,perPage:10},{field:"name",order:"ASC"}),n=a.data,c=a.ids;return Object(ee.jsxs)("div",{className:e.container,children:[Object(ee.jsx)(it.a,{}),Object(ee.jsxs)(ot.a,{label:"Last seen",icon:Object(ee.jsx)(Dn.a,{}),children:[Object(ee.jsx)(lt.a,{label:"Today",value:{last_seen_gte:Object(An.a)().toISOString(),last_seen_lte:void 0}}),Object(ee.jsx)(lt.a,{label:"This week",value:{last_seen_gte:Object(Ln.a)(new Date).toISOString(),last_seen_lte:void 0}}),Object(ee.jsx)(lt.a,{label:"Before this week",value:{last_seen_gte:void 0,last_seen_lte:Object(Ln.a)(new Date).toISOString()}}),Object(ee.jsx)(lt.a,{label:"Before this month",value:{last_seen_gte:void 0,last_seen_lte:Object(Fn.a)(new Date).toISOString()}}),Object(ee.jsx)(lt.a,{label:"Before last month",value:{last_seen_gte:void 0,last_seen_lte:Object(Bn.a)(Object(Fn.a)(new Date),1).toISOString()}})]}),Object(ee.jsxs)(ot.a,{label:"Status",icon:Object(ee.jsx)(Wn.a,{}),children:[Object(ee.jsx)(lt.a,{label:Object(ee.jsxs)(ee.Fragment,{children:["Cold ",Object(ee.jsx)(da,{status:"cold"})]}),value:{status:"cold"}}),Object(ee.jsx)(lt.a,{label:Object(ee.jsxs)(ee.Fragment,{children:["Warm ",Object(ee.jsx)(da,{status:"warm"})]}),value:{status:"warm"}}),Object(ee.jsx)(lt.a,{label:Object(ee.jsxs)(ee.Fragment,{children:["Hot ",Object(ee.jsx)(da,{status:"hot"})]}),value:{status:"hot"}}),Object(ee.jsx)(lt.a,{label:Object(ee.jsxs)(ee.Fragment,{children:["In contract ",Object(ee.jsx)(da,{status:"in-contract"})]}),value:{status:"in-contract"}})]}),Object(ee.jsx)(ot.a,{label:"Tags",icon:Object(ee.jsx)(xt.a,{}),children:c&&n&&c.map((function(e){return Object(ee.jsx)(lt.a,{label:Object(ee.jsx)(pt,{record:n[e]}),value:{tags:[e]}},e)}))}),Object(ee.jsx)(ot.a,{label:"Account manager",icon:Object(ee.jsx)(ut.a,{}),children:Object(ee.jsx)(lt.a,{label:"Me",value:{sales_id:t&&t.id}})})]})},Rn=function(){var e=Object(De.a)(),t=e.data,a=e.ids,n=e.loaded,c=e.onToggleItem,r=e.selectedIds,s=Date.now();return!1===n?Object(ee.jsx)(Pn.a,{hasLeftAvatarOrIcon:!0,hasSecondaryText:!0}):Object(ee.jsx)(pe.a,{children:a.map((function(e){var a=t[e];return Object(ee.jsxs)(ta.a,{button:!0,component:Ve.a,to:"/contacts/".concat(e,"/show"),children:[Object(ee.jsx)(Oe.a,{children:Object(ee.jsx)(We.a,{edge:"start",checked:r.includes(e),tabIndex:-1,disableRipple:!0,onClick:function(t){t.stopPropagation(),c(e)}})}),Object(ee.jsx)(aa.a,{children:Object(ee.jsx)(la,{record:a})}),Object(ee.jsx)(na.a,{primary:"".concat(a.first_name," ").concat(a.last_name),secondary:Object(ee.jsxs)(ee.Fragment,{children:["#".concat(a.id," - "),a.title," at"," ",Object(ee.jsx)(Re.a,{record:a,source:"company_id",reference:"companies",basePath:"/companies",link:!1,children:Object(ee.jsx)(Zt.a,{source:"name"})})," ",!!a.nb_notes&&"- ".concat(a.nb_notes," notes "),Object(ee.jsx)(ha,{record:a})]})}),Object(ee.jsx)(ca.a,{children:Object(ee.jsxs)(J.a,{variant:"body2",color:"textSecondary",children:["last activity"," ",Object(oa.a)(new Date(a.last_seen),s)," ","ago ",Object(ee.jsx)(da,{status:a.status})]})})]},e)}))})},Mn=Object($.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),Vn=function(e){var t=Mn();return Object(ee.jsxs)(Se.a,{children:[Object(ee.jsx)(ke.a,{fields:["id","last_name","first_name","last_seen"]}),Object(ee.jsx)(Ce.a,{}),Object(ee.jsx)(gt.a,Object(o.a)({},e)),Object(ee.jsx)(Ne.a,{basePath:"/contacts",variant:"contained",label:"New Contact",className:t.createButton})]})},qn=a(912),Hn=a(939),Gn=a(951),Un=a(315),Jn=a(918),Kn=a(183),Zn=a.n(Kn),$n=function(){return Object(ee.jsx)(Pe.a,{width:20,component:"span"})},Qn=function(){var e=Object(qn.a)(),t=e.record,a=e.loaded,n=e.save;return a&&t?Object(ee.jsxs)(Pe.a,{mt:2,display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Hn.a,{record:t,redirect:"show",save:n,render:function(e){return Object(ee.jsxs)(Xt.a,{children:[Object(ee.jsx)(Et.a,{children:Object(ee.jsx)(Pe.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Pe.a,{mr:2,children:Object(ee.jsx)(la,{record:t})}),Object(ee.jsxs)(Pe.a,{flex:"1",mt:-1,children:[Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Dt.a,{source:"first_name"}),Object(ee.jsx)($n,{}),Object(ee.jsx)(Dt.a,{source:"last_name"})]}),Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Dt.a,{source:"title"}),Object(ee.jsx)($n,{}),Object(ee.jsx)(Lt.a,{source:"company_id",reference:"companies",children:Object(ee.jsx)(zt.a,{optionText:"name"})})]}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(Pe.a,{mt:2,width:430,children:Object(ee.jsx)(Dt.a,{source:"email",fullWidth:!0})}),Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Dt.a,{source:"phone_number1"}),Object(ee.jsx)($n,{}),Object(ee.jsx)(Dt.a,{source:"phone_number2"})]}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsxs)(Pe.a,{mt:2,width:430,children:[Object(ee.jsx)(Dt.a,{source:"background",multiline:!0,fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"avatar",fullWidth:!0}),Object(ee.jsx)(Gn.a,{source:"has_newsletter"})]})]})]})})}),Object(ee.jsx)(Un.a,Object(o.a)({},Zn()(e,["dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialValues","modifiedSinceLastSubmit","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid"])))]})}})}),Object(ee.jsx)(kn,{record:t,link:"show"})]}):null},Xn=Object($.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),Yn=function(e){var t=e.children;return Object(ee.jsx)(Et.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Pe.a,{paddingTop:1,children:Object(ee.jsx)(He.a,{})}),Object(ee.jsx)(Pe.a,{ml:2,flex:"1",maxWidth:796,children:t})]})})},ec=function(){return Object(ee.jsx)(Pe.a,{mb:2,children:Object(ee.jsx)(Rt.a,{})})},tc=a(299),ac=a.n(tc),nc={list:function(e){var t=Object(ye.a)().identity;return t?Object(ee.jsx)(_e.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ee.jsx)(Vn,{}),aside:Object(ee.jsx)(En,{}),perPage:25,pagination:Object(ee.jsx)(we.a,{rowsPerPageOptions:[10,25,50,100]}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},sort:{field:"last_seen",order:"DESC"},children:Object(ee.jsx)(Rn,{})})):null},show:function(e){return Object(ee.jsx)(Jt.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(Nn,{})}))},edit:function(e){return Object(ee.jsx)(Jn.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(Qn,{})}))},create:function(e){var t=Xn(),a=Object(ye.a)().identity;if(!a)return null;return Object(ee.jsx)(Pt.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ee.jsxs)(Tt.a,{component:Yn,redirect:"show",initialValues:function(){return{sales_id:a&&(null===a||void 0===a?void 0:a.id)}},transform:function(e){return Object(o.a)(Object(o.a)({},e),{},{last_seen:new Date,tags:[]})},children:[Object(ee.jsx)(Dt.a,{source:"first_name",validate:[Object(It.c)()],formClassName:Object(Je.a)(t.inline,"first-child")}),Object(ee.jsx)(Dt.a,{source:"last_name",validate:[Object(It.c)()],formClassName:t.inline}),Object(ee.jsx)(ec,{}),Object(ee.jsx)(Dt.a,{source:"title",formClassName:Object(Je.a)(t.inline,"first-child")}),Object(ee.jsx)(Lt.a,{source:"company_id",reference:"companies",formClassName:t.inline,children:Object(ee.jsx)(zt.a,{optionText:"name"})}),Object(ee.jsx)(ec,{}),Object(ee.jsx)(Dt.a,{source:"email",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"phone_number1",formClassName:Object(Je.a)(t.inline,"first-child")}),Object(ee.jsx)(Dt.a,{source:"phone_number2",formClassName:t.inline}),Object(ee.jsx)(ec,{}),Object(ee.jsx)(Dt.a,{source:"background",multiline:!0,fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"avatar",fullWidth:!0}),Object(ee.jsx)(Lt.a,{source:"sales_id",reference:"sales",label:"Account manager",helperText:!1,children:Object(ee.jsx)(Wt.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})}),Object(ee.jsx)(Gn.a,{source:"has_newsletter"})]})}))},icon:ac.a},cc=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return Object(ee.jsx)(Pe.a,{ml:4,width:250,minWidth:250,children:Object(ee.jsx)(Pe.a,{textAlign:"center",mb:2,children:"edit"===n?Object(ee.jsx)(ya.a,{basePath:"/Tasks",record:t,label:"Edit Task"}):Object(ee.jsx)(_a.a,{basePath:"/Tasks",record:t,label:"Show Task"})})})},rc=function(){var e=Object(Kt.a)(),t=e.record;return e.loaded&&t?Object(ee.jsxs)(Pe.a,{mt:2,display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Xt.a,{children:Object(ee.jsx)(Et.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsxs)(Pe.a,{ml:2,flex:"1",children:[Object(ee.jsxs)(J.a,{variant:"h5",children:[t.first_name," ",t.last_name]}),Object(ee.jsxs)(J.a,{variant:"body2",children:[t.title," at"," ",Object(ee.jsx)(Re.a,{source:"company_id",reference:"companies",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name"})})]})]}),Object(ee.jsx)(Pe.a,{children:Object(ee.jsx)(Re.a,{source:"company_id",reference:"companies",link:"show",children:Object(ee.jsx)(va,{})})})]})})})}),Object(ee.jsx)(cc,{record:t})]}):null},sc=a(538),ic=a(184),oc=a.n(ic),lc=function(){var e=Object(ye.a)().identity;return Object(ee.jsxs)(Pe.a,{width:"15em",order:"-1",marginRight:"1em",children:[Object(ee.jsx)(it.a,{}),Object(ee.jsxs)(ot.a,{label:"Due date",icon:Object(ee.jsx)(Dn.a,{}),children:[Object(ee.jsx)(lt.a,{label:"Today",value:{due_date_gte:Object(An.a)().toISOString(),due_date_lte:void 0}}),Object(ee.jsx)(lt.a,{label:"This week",value:{due_date_gte:Object(Ln.a)(new Date).toISOString(),due_date_lte:void 0}}),Object(ee.jsx)(lt.a,{label:"Before this week",value:{due_date_gte:void 0,due_date_lte:Object(Ln.a)(new Date).toISOString()}}),Object(ee.jsx)(lt.a,{label:"Before this month",value:{due_date_gte:void 0,due_date_lte:Object(Fn.a)(new Date).toISOString()}}),Object(ee.jsx)(lt.a,{label:"Before last month",value:{due_date_gte:void 0,due_date_lte:Object(Bn.a)(Object(Fn.a)(new Date),1).toISOString()}})]}),Object(ee.jsx)(ot.a,{label:"Account manager",icon:Object(ee.jsx)(ut.a,{}),children:Object(ee.jsx)(lt.a,{label:"Me",value:{sales_id:e&&e.id}})})]})},jc=a(944),dc=a(301),bc=a.n(dc),uc={status:"Done"},Oc=function(e){return Object(ee.jsx)(jc.a,Object(o.a)(Object(o.a)({},e),{},{label:"Mark checked",data:uc,icon:Object(ee.jsx)(bc.a,{}),mutationMode:"pessimistic"}))},xc=function(){var e=Object(De.a)(),t=e.data,a=e.ids,n=e.loaded,c=e.onToggleItem,r=e.selectedIds,s=Date.now();return!1===n?Object(ee.jsx)(Pn.a,{hasLeftAvatarOrIcon:!0,hasSecondaryText:!0}):Object(ee.jsx)(pe.a,{children:a.map((function(e){var a=t[e];return Object(ee.jsxs)(ta.a,{button:!0,component:Ve.a,to:"/Tasks/".concat(e),children:[Object(ee.jsx)(Oe.a,{children:Object(ee.jsx)(We.a,{edge:"start",checked:r.includes(e),tabIndex:-1,disableRipple:!0,onClick:function(t){t.stopPropagation(),c(e)}})}),Object(ee.jsx)(aa.a,{children:Object(ee.jsx)(He.a,{children:Object(ee.jsx)(oc.a,{})})}),Object(ee.jsx)(na.a,{primary:a.text}),Object(ee.jsx)(ca.a,{children:Object(ee.jsxs)(J.a,{variant:"body2",color:"textSecondary",children:["due in"," ",Object(oa.a)(new Date(a.due_date),s)]})})]},e)}))})},mc=Object($.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),pc=function(e){var t=mc();return Object(ee.jsxs)(Se.a,{children:[Object(ee.jsx)(ke.a,{fields:["due_date"]}),Object(ee.jsx)(Ce.a,{}),Object(ee.jsx)(gt.a,Object(o.a)({},e)),Object(ee.jsx)(Ne.a,{basePath:"/Tasks",variant:"contained",label:"New Task",className:t.createButton})]})},hc=function(e){return Object(ee.jsxs)(c.Fragment,{children:[Object(ee.jsx)(Oc,Object(o.a)({},e)),Object(ee.jsx)(sc.a,Object(o.a)({},e))]})},fc=a(919),gc=["Pending","Done","Postponed"].map((function(e){return{id:e,name:e}})),vc=Object($.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),yc=function(){var e=vc(),t=Object(qn.a)(),a=t.record,n=t.loaded,c=t.save;return n&&a?Object(ee.jsxs)(Pe.a,{mt:2,display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Hn.a,{record:a,redirect:"show",save:c,render:function(t){return Object(ee.jsxs)(Xt.a,{children:[Object(ee.jsx)(Et.a,{children:Object(ee.jsx)(Pe.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Pe.a,{mr:2,children:Object(ee.jsx)(He.a,{children:Object(ee.jsx)(oc.a,{})})}),Object(ee.jsxs)(Pe.a,{flex:"1",mt:-1,children:[Object(ee.jsx)(Dt.a,{source:"text",label:"Task",validate:[Object(It.c)()],fullWidth:!0}),Object(ee.jsx)(fc.a,{source:"due_date",formClassName:Object(Je.a)(e.inline,"first-child")}),Object(ee.jsx)(Wt.a,{source:"status",choices:gc,formClassName:e.inline}),Object(ee.jsx)(Lt.a,{source:"sales_id",reference:"sales",label:"Account manager",helperText:!1,formClassName:e.inline,children:Object(ee.jsx)(Wt.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})]})})}),Object(ee.jsx)(Un.a,Object(o.a)({},Zn()(t,["dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialValues","modifiedSinceLastSubmit","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid"])))]})}})}),Object(ee.jsx)(cc,{record:a,link:"show"})]}):null},_c=Object($.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),wc=function(e){var t=e.children;return Object(ee.jsx)(Et.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Pe.a,{paddingTop:1,children:Object(ee.jsx)(He.a,{children:Object(ee.jsx)(oc.a,{})})}),Object(ee.jsx)(Pe.a,{ml:2,flex:"1",maxWidth:796,children:t})]})})},Sc=a(516),kc={list:function(e){var t=Object(ye.a)().identity;return t?Object(ee.jsx)(_e.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ee.jsx)(pc,{}),aside:Object(ee.jsx)(lc,{}),bulkActionButtons:Object(ee.jsx)(hc,{}),perPage:25,pagination:Object(ee.jsx)(we.a,{rowsPerPageOptions:[10,25,50,100]}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},sort:{field:"due_date",order:"DESC"},children:Object(ee.jsx)(xc,{})})):null},show:function(e){return Object(ee.jsx)(Jt.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(rc,{})}))},edit:function(e){return Object(ee.jsx)(Jn.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(yc,{})}))},create:function(e){var t=_c(),a=Object(ye.a)().identity;if(!a)return null;return Object(ee.jsx)(Pt.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ee.jsxs)(Tt.a,{component:wc,redirect:"show",initialValues:function(){return{sales_id:a&&(null===a||void 0===a?void 0:a.id),due_date:new Date,status:"Pending"}},transform:function(e){return Object(o.a)({},e)},children:[Object(ee.jsx)(Dt.a,{source:"text",label:"Task",validate:[Object(It.c)()],fullWidth:!0}),Object(ee.jsx)(fc.a,{source:"due_date",formClassName:Object(Je.a)(t.inline,"first-child")}),Object(ee.jsx)(Wt.a,{source:"status",choices:gc,formClassName:t.inline}),Object(ee.jsx)(Lt.a,{source:"sales_id",reference:"sales",label:"Account manager",helperText:!1,formClassName:t.inline,children:Object(ee.jsx)(Wt.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},icon:a.n(Sc).a},Cc=a(920),Nc=a(186),Pc=a.n(Nc),Tc=a(185),Dc=a.n(Tc),Ic=Object($.a)({avatar:{width:60,height:60},img:{objectFit:"contain"},small:{width:20,height:20},large:{width:40,height:40}}),Wc=function(e){var t=e.record,a=e.size,n=void 0===a?"large":a,c=Ic();return t?(console.log(t.image),t.image?Object(ee.jsx)(He.a,{src:""+t.image,alt:t.model,className:c.avatar,imgProps:{className:Object(Je.a)(c.img,c[n])}}):Object(ee.jsx)(He.a,{alt:t.model,className:c.avatar,children:Object(ee.jsx)(Dc.a,{})})):null},Ac=Object($.a)((function(e){return{paper:{height:200,width:185,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"1em",position:"relative"},identity:{display:"flex",flexDirection:"column",alignItems:"center"},name:{textAlign:"center",marginTop:e.spacing(1)},family:{textAlign:"center",marginTop:e.spacing(1)},stats:{display:"flex",justifyContent:"space-around",width:"100%"},singleStat:{display:"flex",alignItems:"center"},statIcon:{marginRight:e.spacing(1)},image:{width:28,height:28}}})),Lc=function(e){var t=e.record,a=Ac(),n=Object(c.useState)(1),r=Object(le.a)(n,2),s=r[0],i=r[1];return Object(ee.jsx)(Ie.a,{component:Ve.a,to:Object(Ee.a)("/products",t.id,"show"),underline:"none",onMouseEnter:function(){return i(3)},onMouseLeave:function(){return i(1)},children:Object(ee.jsxs)(Te.a,{className:a.paper,elevation:s,children:[Object(ee.jsx)(Pe.a,{position:"absolute",top:10,right:10,children:Object(ee.jsx)(Re.a,{record:t,source:"company_id",reference:"companies",link:"show",children:Object(ee.jsx)($e.a,{source:"logo",title:"title",classes:a})})}),Object(ee.jsxs)("div",{className:a.identity,children:[Object(ee.jsx)(Wc,{record:t}),Object(ee.jsx)("div",{className:a.name,children:Object(ee.jsx)(Pe.a,{display:"flex",alignItems:"center",children:Object(ee.jsx)(J.a,{variant:"subtitle2",children:t.model})})}),Object(ee.jsx)("div",{className:a.family,children:Object(ee.jsxs)(J.a,{variant:"body2",children:["in family"," ",Object(ee.jsx)(Re.a,{record:t,source:"family_id",reference:"productFamilies",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name"})})]})})]}),Object(ee.jsxs)("div",{className:a.stats,children:[Object(ee.jsxs)("div",{className:a.singleStat,children:[Object(ee.jsx)(Fe.a,{color:"disabled",className:a.statIcon}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(J.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_notes}),Object(ee.jsx)(J.a,{variant:"caption",color:"textSecondary",children:t.nb_notes>1?"notes":"note"})]})]}),Object(ee.jsxs)("div",{className:a.singleStat,children:[Object(ee.jsx)(Pc.a,{color:"disabled",className:a.statIcon}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(J.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_properties}),Object(ee.jsx)(J.a,{variant:"caption",color:"textSecondary",children:t.nb_properties>1?"properties":"property"})]})]})]})]})})},Fc=Object($.a)((function(e){return{gridList:{display:"flex",flexWrap:"wrap",width:"100%",gap:"5px"},paper:{height:200,width:194,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:"1em",backgroundColor:e.palette.grey[200]}}})),Bc=function(){var e,t,a=Fc();return Object(ee.jsx)(Pe.a,{className:a.gridList,children:(e=15,t=function(e){return Object(ee.jsxs)(Te.a,{className:a.paper,children:[Object(ee.jsx)(Cc.a,{variant:"circle",width:60,height:60,animation:"wave"}),Object(ee.jsx)(Cc.a,{variant:"text",animation:"wave",width:110}),Object(ee.jsx)(Cc.a,{variant:"text",animation:"wave",width:150}),Object(ee.jsx)(Cc.a,{variant:"rect",width:180,height:40})]},e)},Array.from({length:e},(function(e,a){return t(a)})))})},zc=function(){var e=Object(De.a)(),t=e.ids,a=e.data,n=Fc();return t&&a?Object(ee.jsx)(Pe.a,{className:n.gridList,children:t.map((function(e){return Object(ee.jsx)(Lc,{record:a[e]},e)}))}):null},Ec=function(){var e=Object(De.a)();e.loaded;return e.loading?Object(ee.jsx)(Bc,{}):Object(ee.jsx)(zc,{})},Rc=a(187),Mc=a.n(Rc),Vc=function(){Object(ye.a)().identity;var e=Object(st.a)("productFamilies",{page:1,perPage:10},{field:"name",order:"ASC"}),t=e.data,a=e.ids;return Object(ee.jsxs)(Pe.a,{width:"15em",order:"-1",marginRight:"1em",mb:1,children:[Object(ee.jsx)(it.a,{}),Object(ee.jsx)(ot.a,{label:"Families",icon:Object(ee.jsx)(Mc.a,{}),children:a&&t&&a.map((function(e){return Object(ee.jsx)(lt.a,{label:Object(ee.jsx)(Ae.a,{label:t[e].name,size:"small"}),value:{family_id:e}},e)}))})]})},qc=Object($.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),Hc=function(e){var t=qc();return Object(ee.jsxs)(Se.a,{children:[Object(ee.jsx)(Ce.a,{}),Object(ee.jsx)(gt.a,Object(o.a)({},e)),Object(ee.jsx)(Ne.a,{basePath:"/products",variant:"contained",label:"New Product",className:t.createButton})]})},Gc=a(946),Uc=a(947),Jc=a(952),Kc=a(935),Zc=a(44),$c=a(179),Qc=Object($.a)((function(e){return{root:{display:"flex",flexDirection:"column"}}})),Xc=function(){var e=Qc(),t=Object($c.a)(),a=t.filter,n=t.onCancel,r=t.onCreate,s=Object(c.useState)(a||""),i=Object(le.a)(s,2),o=i[0],l=i[1],j=Object(c.useState)(""),d=Object(le.a)(j,2),b=d[0],u=d[1],O=Object(c.useState)(""),x=Object(le.a)(O,2),m=x[0],p=x[1],h=Object(Pa.a)("propertyTypes"),f=Object(le.a)(h,1)[0];return Object(ee.jsxs)(Da.a,{open:!0,onClose:n,children:[Object(ee.jsx)(Ia.a,{children:"Add new Product Property Type"}),Object(ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f({payload:{data:{name:o,unit:b,synonyms:m}}},{onSuccess:function(e){var t=e.data;l(""),u(""),p(""),r(t)}})},children:[Object(ee.jsx)(Wa.a,{children:Object(ee.jsxs)("div",{className:e.root,children:[Object(ee.jsx)(Aa.a,{label:"New type name",value:o,onChange:function(e){return l(e.target.value)},autoFocus:!0,required:!0}),Object(ee.jsx)(Aa.a,{label:"Unit",value:b,onChange:function(e){return u(e.target.value)}}),Object(ee.jsx)(Aa.a,{label:"Commma separated synonyms",value:m,onChange:function(e){return p(e.target.value)}})]})}),Object(ee.jsxs)(La.a,{children:[Object(ee.jsx)(ra.a,{type:"submit",disabled:!o,children:"Add"}),Object(ee.jsx)(ra.a,{onClick:n,children:"Cancel"})]})]})]})},Yc=Object($.a)((function(e){return{inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}},propertyContainer:{display:"flex",gap:e.spacing(1),minWidth:"500px"}}})),er=a(313),tr=Object($.a)({image:{objectFit:"contain"}}),ar={medium:42,small:20},nr=function(e){var t=e.record,a=(e.source,e.size),n=void 0===a?"medium":a,c=tr();return t?t.image?Object(ee.jsx)("img",{src:""+t.image,alt:t.model,title:t.model,width:ar[n],height:ar[n],className:c.image}):Object(ee.jsx)(He.a,{children:Object(ee.jsx)(Dc.a,{})}):null},cr=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return t?Object(ee.jsxs)(Pe.a,{ml:4,width:250,minWidth:250,children:[Object(ee.jsx)(Pe.a,{textAlign:"center",mb:2,children:"edit"===n?Object(ee.jsx)(ya.a,{basePath:"/products",record:t,label:"Edit Product"}):Object(ee.jsx)(_a.a,{basePath:"/products",record:t,label:"Show Product"})}),Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Product info"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsxs)(Pe.a,{mt:1,display:"flex",gridGap:2,children:["Company:",Object(ee.jsx)(Re.a,{record:t,source:"company_id",reference:"companies",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name"})})]}),Object(ee.jsxs)(Pe.a,{mt:1,display:"flex",gridGap:2,children:["Family:",Object(ee.jsx)(Re.a,{record:t,source:"family_id",reference:"productFamilies",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name"})})]}),Object(ee.jsxs)(Pe.a,{mt:1,children:["Code: ",Object(ee.jsx)(Zt.a,{source:"code",record:t})]}),t.website&&Object(ee.jsxs)(Pe.a,{mt:1,children:["Website: ",Object(ee.jsx)(Ie.a,{href:t.website,target:"_blank",rel:"noreferrer",children:"Link"})]}),Object(ee.jsxs)(Pe.a,{mt:3,children:[Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Description"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(Pe.a,{mt:1,children:Object(ee.jsx)(Zt.a,{source:"description"})})]})]}):null},rr=["children","value","index"],sr=function(){var e=Object(Kt.a)(),t=e.record,a=e.loaded,n=Object(c.useState)(0),r=Object(le.a)(n,2),s=r[0],i=r[1];return a&&t?Object(ee.jsxs)(Pe.a,{mt:2,display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Xt.a,{children:Object(ee.jsxs)(Et.a,{children:[Object(ee.jsxs)(Pe.a,{display:"flex",mb:1,children:[Object(ee.jsx)(nr,{record:t}),Object(ee.jsx)(Pe.a,{ml:2,flex:"1",children:Object(ee.jsx)(Pe.a,{display:"flex",gridGap:4,children:Object(ee.jsx)(J.a,{variant:"h5",children:t.model})})})]}),Object(ee.jsxs)(Yt.a,{value:s,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){i(t)},children:[Object(ee.jsx)(ea.a,{label:t.nb_notes>1?"".concat(t.nb_notes," Notes"):"".concat(t.nb_notes," Note")}),Object(ee.jsx)(ea.a,{label:t.nb_properties>1?"".concat(t.nb_properties," Properties"):"".concat(t.nb_properties," Property")})]}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(ir,{value:s,index:0,children:Object(ee.jsx)($t.a,{reference:"productNotes",target:"product_id",children:Object(ee.jsx)(bn,{reference:"products"})})}),Object(ee.jsx)(ir,{value:s,index:1,children:Object(ee.jsx)($t.a,{reference:"productProperties",target:"product_id",addLabel:!1,children:Object(ee.jsxs)(er.a,{children:[Object(ee.jsx)(Re.a,{source:"type_id",reference:"propertyTypes",link:!1,children:Object(ee.jsx)(Zt.a,{source:"name"})}),Object(ee.jsx)(Zt.a,{source:"property_value"}),Object(ee.jsx)(Re.a,{source:"type_id",reference:"propertyTypes",link:!1,children:Object(ee.jsx)(Zt.a,{source:"unit"})}),Object(ee.jsx)(Zt.a,{source:"condition"})]})})})]})})}),Object(ee.jsx)(cr,{record:t})]}):null},ir=function(e){var t=e.children,a=e.value,n=e.index,c=Object(Nt.a)(e,rr);return Object(ee.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:a!==n,id:"wrapped-tabpanel-".concat(n),"aria-labelledby":"wrapped-tab-".concat(n)},c),{},{children:t}))},or=Object($.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),lr=a(521),jr={list:function(e){return Object(ye.a)().identity?Object(ee.jsx)(_e.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ee.jsx)(Hc,{}),aside:Object(ee.jsx)(Vc,{}),filterDefaultValues:{},pagination:Object(ee.jsx)(we.a,{rowsPerPageOptions:[15,25,50,100]}),perPage:25,sort:{field:"model",order:"ASC"},component:"div",children:Object(ee.jsx)(Ec,{})})):null},create:function(e){Yc(),Object(ye.a)().identity,Object(Zc.a)();return Object(ee.jsx)(Pt.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ee.jsxs)(Gc.a,{children:[Object(ee.jsxs)(Uc.a,{label:"General",children:[Object(ee.jsx)(Lt.a,{label:"Comapny",source:"company_id",reference:"companies",fullWidth:!0,children:Object(ee.jsx)(zt.a,{optionText:"name"})}),Object(ee.jsx)(Lt.a,{label:"Product Family",source:"family_id",reference:"productFamilies",fullWidth:!0,children:Object(ee.jsx)(zt.a,{optionText:"name"})}),Object(ee.jsx)(Dt.a,{source:"model",validate:Object(It.c)(),fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"code",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"website",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"image",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"description",multiline:!0,rows:3,fullWidth:!0})]}),Object(ee.jsx)(Uc.a,{label:"Properties",children:Object(ee.jsx)(Jc.a,{source:"properties",children:Object(ee.jsxs)(Kc.a,{children:[Object(ee.jsx)(Lt.a,{source:"type_id",reference:"propertyTypes",label:"Type",children:Object(ee.jsx)(zt.a,{optionText:"name",create:Object(ee.jsx)(Xc,{})})}),Object(ee.jsx)(Dt.a,{source:"property_value",label:"Value"}),Object(ee.jsx)(Dt.a,{source:"condition",label:"Condition"})]})})})]})}))},edit:function(e){or();return Object(ee.jsx)(fn.a,Object(o.a)(Object(o.a)({},e),{},{aside:Object(ee.jsx)(cr,{link:"show"}),actions:!1,children:Object(ee.jsxs)(Gc.a,{redirect:"show",children:[Object(ee.jsxs)(Uc.a,{label:"General",children:[Object(ee.jsx)(Lt.a,{label:"Comapny",source:"company_id",reference:"companies",fullWidth:!0,children:Object(ee.jsx)(zt.a,{optionText:"name"})}),Object(ee.jsx)(Lt.a,{label:"Product Family",source:"family_id",reference:"productFamilies",fullWidth:!0,children:Object(ee.jsx)(zt.a,{optionText:"name"})}),Object(ee.jsx)(Dt.a,{source:"model",validate:Object(It.c)(),fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"code",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"website",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"image",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"description",multiline:!0,rows:3,fullWidth:!0})]}),Object(ee.jsx)(Uc.a,{label:"Properties",children:Object(ee.jsx)(Jc.a,{source:"properties",children:Object(ee.jsxs)(Kc.a,{children:[Object(ee.jsx)(Lt.a,{source:"type_id",reference:"propertyTypes",label:"Type",children:Object(ee.jsx)(zt.a,{optionText:"name",create:Object(ee.jsx)(Xc,{})})}),Object(ee.jsx)(Dt.a,{source:"property_value",label:"Value"}),Object(ee.jsx)(Dt.a,{source:"condition",label:"Condition"})]})})})]})}))},show:function(e){return Object(ee.jsx)(Jt.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(sr,{})}))},icon:a.n(lr).a},dr=function(e){var t=e.record;return Object(ee.jsx)(He.a,{src:t.image,children:t.name})},br=function(){return Object(ee.jsx)(Pe.a,{width:"15em",order:"-1",marginRight:"1em",children:Object(ee.jsx)(it.a,{})})},ur=function(){var e=Object(De.a)(),t=e.data,a=e.ids,n=e.loaded,c=e.onToggleItem,r=e.selectedIds;Date.now();return!1===n?Object(ee.jsx)(Pn.a,{hasLeftAvatarOrIcon:!0,hasSecondaryText:!0}):Object(ee.jsx)(pe.a,{children:a.map((function(e){var a=t[e];return Object(ee.jsxs)(ta.a,{button:!0,component:Ve.a,to:"/productFamilies/".concat(e,"/show"),children:[Object(ee.jsx)(Oe.a,{children:Object(ee.jsx)(We.a,{edge:"start",checked:r.includes(e),tabIndex:-1,disableRipple:!0,onClick:function(t){t.stopPropagation(),c(e)}})}),Object(ee.jsx)(aa.a,{children:Object(ee.jsx)(dr,{record:a})}),Object(ee.jsx)(na.a,{primary:"".concat(a.name),secondary:Object(ee.jsxs)(ee.Fragment,{children:[a.name," in"," ",Object(ee.jsx)(Re.a,{record:a,source:"category_id",reference:"familyCategories",basePath:"/familyCategories",link:!1,children:Object(ee.jsx)(Zt.a,{source:"name"})})]})}),Object(ee.jsx)(ca.a,{})]},e)}))})},Or=Object($.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),xr=function(){var e=Or();return Object(ee.jsxs)(Se.a,{children:[Object(ee.jsx)(ke.a,{fields:["last_name","first_name","last_seen"]}),Object(ee.jsx)(Ce.a,{}),Object(ee.jsx)(Ne.a,{basePath:"/productFamilies",variant:"contained",label:"Add New",className:e.createButton})]})},mr=function(){var e=Object($c.a)(),t=e.filter,a=e.onCancel,n=e.onCreate,r=Object(c.useState)(t||""),s=Object(le.a)(r,2),i=s[0],o=s[1],l=Object(Pa.a)("familyCategories"),j=Object(le.a)(l,1)[0];return Object(ee.jsx)(Da.a,{open:!0,onClose:a,children:Object(ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j({payload:{data:{name:i}}},{onSuccess:function(e){var t=e.data;o(""),n(t)}})},children:[Object(ee.jsx)(Wa.a,{children:Object(ee.jsx)(Aa.a,{label:"New category name",value:i,onChange:function(e){return o(e.target.value)},autoFocus:!0})}),Object(ee.jsxs)(La.a,{children:[Object(ee.jsx)(ra.a,{type:"submit",children:"Save"}),Object(ee.jsx)(ra.a,{onClick:a,children:"Cancel"})]})]})})},pr=Object($.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),hr=function(e){var t=e.children;return Object(ee.jsx)(Et.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Pe.a,{paddingTop:1,children:Object(ee.jsx)(Mc.a,{})}),Object(ee.jsx)(Pe.a,{ml:2,flex:"1",maxWidth:796,children:t})]})})},fr=a(921),gr=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return t?Object(ee.jsxs)(Pe.a,{ml:4,width:250,minWidth:250,children:[Object(ee.jsx)(Pe.a,{textAlign:"center",mb:2,children:"edit"===n?Object(ee.jsxs)(Pe.a,{children:[Object(ee.jsx)(ya.a,{basePath:"/productfamilies",record:t}),Object(ee.jsx)(fr.a,{basePath:"/productFamilies"})]}):Object(ee.jsx)(_a.a,{basePath:"/productfamilies",record:t})}),Object(ee.jsx)(J.a,{variant:"subtitle2",children:"Family info"}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsxs)(Pe.a,{mt:1,display:"flex",gridGap:2,children:[Object(ee.jsx)(J.a,{children:"Category:"}),Object(ee.jsx)(Re.a,{record:t,source:"category_id",reference:"familyCategories",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name"})})]}),t.website&&Object(ee.jsxs)(Pe.a,{mt:1,children:["Website: ",Object(ee.jsx)(Ie.a,{href:t.website,target:"_blank",rel:"noreferrer",children:"Link"})]})]}):null},vr=function(){var e=Object(qn.a)(),t=e.record,a=e.loaded,n=e.save;return a&&t?Object(ee.jsxs)(Pe.a,{mt:2,display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Hn.a,{record:t,redirect:"show",save:n,render:function(e){return Object(ee.jsxs)(Xt.a,{children:[Object(ee.jsx)(Et.a,{children:Object(ee.jsx)(Pe.a,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(Pe.a,{mr:2,children:Object(ee.jsx)(dr,{record:t})}),Object(ee.jsxs)(Pe.a,{flex:1,children:[Object(ee.jsx)(Lt.a,{source:"category_id",reference:"familyCategories",fullWidth:!0,children:Object(ee.jsx)(zt.a,{optionText:"name",create:Object(ee.jsx)(mr,{})})}),Object(ee.jsx)(Dt.a,{source:"name",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"website",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"image",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"description",multiline:!0,rows:3,fullWidth:!0})]})]})})}),Object(ee.jsx)(Un.a,Object(o.a)({},Zn()(e,["dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialValues","modifiedSinceLastSubmit","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid"])))]})}})}),Object(ee.jsx)(gr,{record:t,link:"show"})]}):null},yr=function(){var e=Object(Kt.a)(),t=e.record;return e.loaded&&t?Object(ee.jsxs)(Pe.a,{mt:2,display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Xt.a,{children:Object(ee.jsxs)(Et.a,{children:[Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsx)(dr,{record:t}),Object(ee.jsxs)(Pe.a,{ml:2,flex:"1",children:[Object(ee.jsx)(J.a,{variant:"h5",children:t.name}),Object(ee.jsxs)(J.a,{variant:"body2",children:[t.title," in"," ",Object(ee.jsx)(Re.a,{source:"category_id",reference:"familyCategories",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name"})})]})]})]}),Object(ee.jsx)(Pe.a,{mt:2,p:1,children:Object(ee.jsx)($t.a,{reference:"products",target:"family_id",label:"Products",children:Object(ee.jsx)(Ec,{})})})]})})}),Object(ee.jsx)(gr,{record:t})]}):null},_r={list:function(e){return Object(ye.a)().identity?Object(ee.jsx)(_e.a,Object(o.a)(Object(o.a)({},e),{},{actions:Object(ee.jsx)(xr,{}),aside:Object(ee.jsx)(br,{}),perPage:25,pagination:Object(ee.jsx)(we.a,{rowsPerPageOptions:[10,25,50,100]}),filterDefaultValues:{},children:Object(ee.jsx)(ur,{})})):null},create:function(e){pr();return Object(ee.jsx)(Pt.a,Object(o.a)(Object(o.a)({},e),{},{actions:!1,children:Object(ee.jsxs)(Tt.a,{component:hr,redirect:"show",initialValues:function(){return{}},transform:function(e){return Object(o.a)({},e)},children:[Object(ee.jsx)(Lt.a,{source:"category_id",reference:"familyCategories",fullWidth:!0,children:Object(ee.jsx)(zt.a,{optionText:"name",create:Object(ee.jsx)(mr,{})})}),Object(ee.jsx)(Dt.a,{source:"name",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"website",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"image",fullWidth:!0}),Object(ee.jsx)(Dt.a,{source:"description",multiline:!0,rows:3,fullWidth:!0})]})}))},edit:function(e){return Object(ee.jsx)(Jn.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(vr,{})}))},show:function(e){return Object(ee.jsx)(Jt.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(ee.jsx)(yr,{})}))},icon:Mc.a},wr=Object($.a)((function(e){return{root:{marginTop:e.spacing(1),marginBottom:e.spacing(1),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},open:{width:200},closed:{width:55}}})),Sr=function(e){var t,a=e.dense,n=void 0!==a&&a,r=Object(c.useState)({menuCrm:!0,menuProduct:!0,menuCustomers:!0}),s=Object(le.a)(r,2),i=s[0],l=s[1],j=(Object(q.a)(),Object(ie.f)((function(e){return e.admin.ui.sidebarOpen})));Object(ie.f)((function(e){return e.theme}));var d=wr(),b=function(e){l((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Q.a)({},e,!t[e]))}))};return Object(ee.jsxs)("div",{className:de()(d.root,(t={},Object(Q.a)(t,d.open,j),Object(Q.a)(t,d.closed,!j),t)),children:[" ",Object(ee.jsx)(be.a,{}),Object(ee.jsxs)(ve,{handleToggle:function(){return b("menuCrm")},isOpen:i.menuCrm,name:"CRM",icon:Object(ee.jsx)(wn.icon,{}),dense:n,children:[Object(ee.jsx)(H.a,{to:{pathname:"/companies",state:{_scrollToTop:!0}},primaryText:"Companies",leftIcon:Object(ee.jsx)(wn.icon,{}),dense:n}),Object(ee.jsx)(H.a,{to:{pathname:"/contacts",state:{_scrollToTop:!0}},primaryText:"Contacts",leftIcon:Object(ee.jsx)(nc.icon,{}),dense:n}),Object(ee.jsx)(H.a,{to:{pathname:"/tasks",state:{_scrollToTop:!0}},primaryText:"Taks",leftIcon:Object(ee.jsx)(kc.icon,{}),dense:n})]}),Object(ee.jsxs)(ve,{handleToggle:function(){return b("menuProduct")},isOpen:i.menuProduct,name:"Products",icon:Object(ee.jsx)(jr.icon,{}),dense:n,children:[Object(ee.jsx)(H.a,{to:{pathname:"/products",state:{_scrollToTop:!0}},primaryText:"Products",leftIcon:Object(ee.jsx)(jr.icon,{}),dense:n}),Object(ee.jsx)(H.a,{to:{pathname:"/productFamilies",state:{_scrollToTop:!0}},primaryText:"Families",leftIcon:Object(ee.jsx)(_r.icon,{}),dense:n}),Object(ee.jsx)(H.a,{to:{pathname:"/familyCategories",state:{_scrollToTop:!0}},primaryText:"Categories",leftIcon:Object(ee.jsx)(_r.icon,{}),dense:n})]})]})},kr={palette:{primary:{main:"#90caf9"},secondary:{main:"#FBBA72"},type:"dark"},sidebar:{width:200},overrides:{MuiAppBar:{colorSecondary:{color:"#ffffffb3",backgroundColor:"#616161e6"}},MuiButtonBase:{root:{"&:hover:active::after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,right:0,backgroundColor:"currentColor",opacity:.3,borderRadius:"inherit"}}}},props:{MuiButtonBase:{disableRipple:!0}}},Cr={palette:{primary:{main:"#4f3cc9"},secondary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"},background:{default:"#fcfcfe"},type:"light"},shape:{borderRadius:10},sidebar:{width:200},overrides:{RaMenuItemLink:{root:{borderLeft:"3px solid #fff"},active:{borderLeft:"3px solid #4f3cc9"}},MuiPaper:{elevation1:{boxShadow:"none"},root:{border:"1px solid #e0e0e3",backgroundClip:"padding-box"}},MuiButton:{contained:{backgroundColor:"#fff",color:"#4f3cc9",boxShadow:"none"}},MuiButtonBase:{root:{"&:hover:active::after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,right:0,backgroundColor:"currentColor",opacity:.3,borderRadius:"inherit"}}},MuiAppBar:{colorSecondary:{color:"#808080",backgroundColor:"#fff"}},MuiLinearProgress:{colorPrimary:{backgroundColor:"#f5f5f5"},barColorPrimary:{backgroundColor:"#d7d7d7"}},MuiFilledInput:{root:{backgroundColor:"rgba(0, 0, 0, 0.04)","&$disabled":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},MuiSnackbarContent:{root:{border:"none"}}},props:{MuiButtonBase:{disableRipple:!0}}},Nr=function(e){var t=Object(ie.f)((function(e){return"dark"===e.theme?kr:Cr}));return Object(ee.jsx)(oe.a,Object(o.a)(Object(o.a)({},e),{},{appBar:se,menu:Sr,theme:t}))},Pr=a(29),Tr=a(28),Dr=a(924),Ir=a(811),Wr=a(922),Ar=a(305),Lr=a.n(Ar),Fr=a(923),Br=a(316),zr=["meta","input"],Er=Object($.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",backgroundImage:"radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em",display:"flex",flexDirection:"column"}}})),Rr=function(e){var t=e.meta,a=(t=void 0===t?{touched:!1,error:void 0}:t).touched,n=t.error,c=Object.assign({},e.input),r=Object(Nt.a)(e,zr);return Object(ee.jsx)(Aa.a,Object(o.a)(Object(o.a)(Object(o.a)({error:!(!a||!n),helperText:a&&n},c),r),{},{fullWidth:!0}))},Mr=Object(Pr.h)().Form,Vr=function(){var e=Object(c.useState)(!1),t=Object(le.a)(e,2),a=t[0],n=t[1],r=Object(q.a)(),s=Er(),i=Object($a.a)(),o=Object(Fr.a)(),l=Object(Tr.h)();return Object(ee.jsx)(Mr,{onSubmit:function(e){n(!0),o(e,l.state?l.state.nextPathname:"/").catch((function(e){n(!1),i("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})}))},validate:function(e){var t={};return e.username||(t.username=r("ra.validation.required")),e.password||(t.password=r("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return Object(ee.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(ee.jsxs)("div",{className:s.main,children:[Object(ee.jsxs)(Xt.a,{className:s.card,children:[Object(ee.jsx)("div",{className:s.avatar,children:Object(ee.jsx)(He.a,{className:s.icon,children:Object(ee.jsx)(Lr.a,{})})}),Object(ee.jsx)("div",{className:s.hint,children:"Wecome to Assistor."}),Object(ee.jsxs)("div",{className:s.form,children:[Object(ee.jsx)("div",{className:s.input,children:Object(ee.jsx)(Pr.a,{autoFocus:!0,name:"username",component:Rr,label:r("ra.auth.username"),disabled:a})}),Object(ee.jsx)("div",{className:s.input,children:Object(ee.jsx)(Pr.a,{name:"password",component:Rr,label:r("ra.auth.password"),type:"password",disabled:a})})]}),Object(ee.jsxs)(Dr.a,{className:s.actions,children:[Object(ee.jsxs)(ra.a,{variant:"contained",type:"submit",color:"primary",disabled:a,fullWidth:!0,children:[a&&Object(ee.jsx)(Ir.a,{size:25,thickness:2}),r("ra.auth.sign_in")]}),Object(ee.jsx)(J.a,{variant:"body2",children:"Or"}),Object(ee.jsx)(Ie.a,{color:"textSecondary",component:Ve.a,to:"/register",variant:"body1",children:"Register"})]})]}),Object(ee.jsx)(Br.a,{})]})})}})},qr=function(e){return Object(ee.jsx)(Wr.a,{theme:Object(x.a)(Cr),children:Object(ee.jsx)(Vr,Object(o.a)({},e))})},Hr=a(926),Gr=a(541),Ur=a(477),Jr=a(104),Kr=a(189),Zr=a(40),$r=a.n(Zr),Qr=a(819),Xr=Object($.a)((function(e){return{root:{marginBottom:e.spacing(1)},cardContent:{padding:e.spacing(1),display:"flex"},cardText:{marginLeft:e.spacing(1)}}})),Yr=function(e){var t=e.deal,a=e.index,n=Xr(),c=Object(Qr.a)();if(!t)return null;var r=function(){c("/deals/".concat(t.id,"/show"))};return Object(ee.jsx)(Kr.b,{draggableId:String(t.id),index:a,children:function(e,a){return Object(ee.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:n.root},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,onClick:r,children:Object(ee.jsx)(Xt.a,{style:{opacity:a.isDragging?.9:1,transform:a.isDragging?"rotate(-2deg)":""},elevation:a.isDragging?3:1,children:Object(ee.jsxs)(Pe.a,{p:1,display:"flex",children:[Object(ee.jsx)(Re.a,{source:"company_id",record:t,reference:"companies",resource:"deals",basePath:"/deals",children:Object(ee.jsx)(va,{size:"small"})}),Object(ee.jsxs)(Pe.a,{ml:1,children:[Object(ee.jsx)(J.a,{variant:"body2",gutterBottom:!0,children:t.name}),Object(ee.jsxs)(J.a,{variant:"caption",color:"textSecondary",children:[t.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),", ",t.type]})]})]})})}))}})},es=Object($.a)({root:{flex:1,paddingTop:8,paddingBottom:16,backgroundColor:"#eaeaee","&:first-child":{paddingLeft:5,borderTopLeftRadius:5},"&:last-child":{paddingRight:5,borderTopRightRadius:5}},droppable:{display:"flex",flexDirection:"column",borderRadius:5,padding:5,"&.isDraggingOver":{backgroundColor:"#dadadf"}}}),ts=function(e){var t=e.stage,a=e.dealIds,n=e.data,c=es();return Object(ee.jsxs)("div",{className:c.root,children:[Object(ee.jsx)(J.a,{align:"center",variant:"subtitle1",children:Ua[t]}),Object(ee.jsx)(Kr.c,{droppableId:t,children:function(e,t){return Object(ee.jsxs)("div",Object(o.a)(Object(o.a)({ref:e.innerRef},e.droppableProps),{},{className:c.droppable+(t.isDraggingOver?" isDraggingOver":""),children:[a.map((function(e,t){return Object(ee.jsx)(Yr,{index:t,deal:n[e]},e)})),e.placeholder]}))}})]})},as=Ga.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(Q.a)({},t,[]))}),{}),ns=function(e,t){var a=e.reduce((function(e,a){return e[t[a].stage].push(a),e}),Ga.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(Q.a)({},t,[]))}),{}));return Ga.forEach((function(e){a[e]=a[e].sort((function(e,a){return t[e].index-t[a].index}))})),a},cs=function(){var e=Object(De.a)(),t=e.data,a=e.ids,n=e.loaded,r=e.page,s=e.perPage,i=e.currentSort,l=e.filterValues,j=Object(c.useState)(n?ns(a,t):as),d=Object(le.a)(j,2),b=d[0],u=d[1],O=Object(c.useContext)(Ur.a),x=Object(Jr.a)({resource:"deals",type:"getList",payload:{pagination:{page:r,perPage:s},sort:i,filter:l}}),m=Object(le.a)(x,1)[0];if(Object(c.useEffect)((function(){if(n){var e=ns(a,t);$r()(b,e)||u(e)}}),[t,a,n]),!n)return null;var p=function(){var e=Object(f.a)(h.a.mark((function e(a){var n,c,r,s,i,l,j,d,x,p,f,g,v,y,_,w,S;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.destination,c=a.source,r=a.draggableId,n){e.next=3;break}return e.abrupt("return");case 3:if(n.droppableId!==c.droppableId||n.index!==c.index){e.next=5;break}return e.abrupt("return");case 5:if(c.droppableId!==n.droppableId){e.next=27;break}return s=Array.from(b[c.droppableId]),i=t[s[c.index]],l=t[s[n.index]],s.splice(c.index,1),s.splice(n.index,0,Number(r)),u(Object(o.a)(Object(o.a)({},b),{},Object(Q.a)({},c.droppableId,s))),e.next=14,O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:c.droppableId}});case 14:if(j=e.sent,d=j.data,!(c.index>n.index)){e.next=22;break}return e.next=19,Promise.all([].concat(Object(ka.a)(d.filter((function(e){return e.index>=l.index&&e.index<i.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})}))),[O.update("deals",{id:i.id,data:{index:l.index},previousData:i})]));case 19:m(),e.next=25;break;case 22:return e.next=24,Promise.all([].concat(Object(ka.a)(d.filter((function(e){return e.index<=l.index&&e.index>i.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),[O.update("deals",{id:i.id,data:{index:l.index},previousData:i})]));case 24:m();case 25:e.next=43;break;case 27:return p=Array.from(b[c.droppableId]),f=Array.from(b[n.droppableId]),g=t[p[c.index]],v=t[f[n.index]],p.splice(c.index,1),f.splice(n.index,0,r),u(Object(o.a)(Object(o.a)({},b),{},(x={},Object(Q.a)(x,c.droppableId,p),Object(Q.a)(x,n.droppableId,f),x))),e.next=36,Promise.all([O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:c.droppableId}}),O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:n.droppableId}})]);case 36:return y=e.sent,_=Object(le.a)(y,2),w=_[0].data,S=_[1].data,e.next=42,Promise.all([].concat(Object(ka.a)(w.filter((function(e){return e.index>g.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),Object(ka.a)(S.filter((function(e){return!!v&&e.index>=v.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})}))),[O.update("deals",{id:g.id,data:{index:v?v.index:S.pop().index+1,stage:n.droppableId},previousData:g})]));case 42:m();case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsx)(Kr.a,{onDragEnd:p,children:Object(ee.jsx)(Pe.a,{display:"flex",children:Ga.map((function(e){return Object(ee.jsx)(ts,{stage:e,dealIds:b[e],data:t},e)}))})})},rs=a(138),ss=a(925),is=["Other","Copywriting","Print project","UI Design","Website design"].map((function(e){return{id:e,name:e}})),os=Object($.a)({root:{width:500}}),ls=function(e){var t=e.open,a=os(),n=Object(Qr.a)(),c=Object(rs.a)();return Object(ee.jsx)(Da.a,{open:t,onClose:function(){n("/deals")},children:Object(ee.jsx)(Pt.a,{resource:"deals",basePath:"/deals",className:a.root,onSuccess:function(e){var t=e.data;n("/deals"),c.getList("deals",{pagination:{page:1,perPage:50},sort:{field:"id",order:"ASC"},filter:{stage:t.stage}}).then((function(e){var a=e.data;return Promise.all(a.filter((function(e){return e.id!==t.id})).map((function(e){return c.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})})))}))},children:Object(ee.jsxs)(Tt.a,{initialValues:{index:0},children:[Object(ee.jsx)(Dt.a,{source:"name",label:"Deal name",fullWidth:!0,validate:[Object(It.c)()]}),Object(ee.jsx)(Dt.a,{source:"description",multiline:!0,rows:3,fullWidth:!0}),Object(ee.jsx)(Lt.a,{source:"company_id",reference:"companies",fullWidth:!0,validate:[Object(It.c)()],children:Object(ee.jsx)(zt.a,{optionText:"name"})}),Object(ee.jsx)(Wt.a,{source:"stage",choices:Ja,fullWidth:!0,validate:[Object(It.c)()],defaultValue:"opportunity"}),Object(ee.jsx)(Wt.a,{source:"type",choices:is,fullWidth:!0}),Object(ee.jsx)(ss.a,{source:"amount",fullWidth:!0,defaultValue:0}),Object(ee.jsx)(Lt.a,{source:"sales_id",reference:"sales",label:"Account manager",helperText:!1,fullWidth:!0,children:Object(ee.jsx)(Wt.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})})})},js=a(934),ds=Object($.a)({ul:{listStyle:"none",padding:0,margin:0,display:"inline-block"},li:{display:"inline","&:after":{content:'", "'},"&:last-child:after":{content:'""'}}}),bs=function(){var e=Object(De.a)(),t=e.ids,a=e.data,n=e.loaded,c=ds();return n?Object(ee.jsx)("ul",{className:c.ul,children:t.map((function(e){return Object(ee.jsx)("li",{className:c.li,children:Object(ee.jsxs)(Ie.a,{component:Ve.a,to:"/contacts/".concat(e),variant:"subtitle1",children:[a[e].first_name," ",a[e].last_name]})},e)}))}):Object(ee.jsx)("div",{style:{height:"2em"}})},us=Object($.a)({dialog:{position:"absolute",top:50}}),Os=function(e){var t=e.open,a=e.id,n=Object(Qr.a)(),c=us();return Object(ee.jsx)(Da.a,{open:t,onClose:function(){n("/deals")},fullWidth:!0,maxWidth:"md",classes:{paper:c.dialog},children:Object(ee.jsx)(Wa.a,{children:Object(ee.jsx)(Jt.a,{resource:"deals",basePath:"/deals",id:a,children:Object(ee.jsx)(xs,{})})})})},xs=function(){var e=Object(Qt.b)();return e?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(Pe.a,{display:"flex",children:[Object(ee.jsxs)(Pe.a,{width:100,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(ee.jsx)(Re.a,{source:"company_id",reference:"companies",link:"show",children:Object(ee.jsx)(Ze,{})}),Object(ee.jsx)(Re.a,{source:"company_id",reference:"companies",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name",align:"center",component:"div"})})]}),Object(ee.jsxs)(Pe.a,{ml:2,flex:"1",children:[Object(ee.jsx)(J.a,{variant:"h5",children:e.name}),Object(ee.jsxs)(Pe.a,{display:"flex",mt:2,children:[Object(ee.jsxs)(Pe.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ee.jsx)(J.a,{color:"textSecondary",variant:"body2",children:"Start"}),Object(ee.jsx)(J.a,{variant:"subtitle1",children:Object(js.a)(new Date(e.start_at),"PP")})]}),Object(ee.jsxs)(Pe.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ee.jsx)(J.a,{color:"textSecondary",variant:"body2",children:"Budget"}),Object(ee.jsx)(J.a,{variant:"subtitle1",children:e.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),Object(ee.jsxs)(Pe.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ee.jsx)(J.a,{color:"textSecondary",variant:"body2",children:"Type"}),Object(ee.jsx)(J.a,{variant:"subtitle1",children:e.type})]}),Object(ee.jsxs)(Pe.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ee.jsx)(J.a,{color:"textSecondary",variant:"body2",children:"Stage"}),Object(ee.jsx)(J.a,{variant:"subtitle1",children:Ua[e.stage]})]})]}),Object(ee.jsx)(Pe.a,{mt:2,mb:2,children:Object(ee.jsxs)(Pe.a,{display:"flex",mr:5,flexDirection:"column",minHeight:48,children:[Object(ee.jsx)(J.a,{color:"textSecondary",variant:"body2",children:"Contacts"}),Object(ee.jsx)(ua.a,{source:"contact_ids",reference:"contacts",children:Object(ee.jsx)(bs,{})})]})}),Object(ee.jsxs)(Pe.a,{mt:2,mb:2,style:{whiteSpace:"pre-line"},children:[Object(ee.jsx)(J.a,{color:"textSecondary",variant:"body2",children:"Description"}),Object(ee.jsx)(J.a,{children:e.description})]}),Object(ee.jsx)(Rt.a,{}),Object(ee.jsx)(Pe.a,{mt:2,children:Object(ee.jsx)($t.a,{target:"deal_id",reference:"dealNotes",sort:{field:"date",order:"DESC"},children:Object(ee.jsx)(bn,{reference:"deals"})})})]})]})}):null},ms=a(548),ps=a(916),hs=a(917),fs=Object($.a)((function(e){return{root:{marginBottom:e.spacing(1),marginLeft:e.spacing(1)}}})),gs=function(e){e.alwaysOn;var t=Object(ms.a)(),a=t.filterValues,n=t.displayedFilters,c=t.setFilters,r=Object(ye.a)().identity,s=fs();return Object(ee.jsx)("div",{className:s.root,children:Object(ee.jsx)(ps.a,{control:Object(ee.jsx)(hs.a,{checked:"undefined"!==typeof a.sales_id,onChange:function(){var e=Object(o.a)({},a);"undefined"!==typeof a.sales_id?delete e.sales_id:e.sales_id=r&&(null===r||void 0===r?void 0:r.id),c(e,n)},color:"primary",name:"checkedC"}),label:"Only companies I manage"})})};gs.defaultProps={source:"sales_id"};var vs=[Object(ee.jsx)(Hr.a,{source:"q",alwaysOn:!0}),Object(ee.jsx)(gs,{alwaysOn:!0}),Object(ee.jsx)(Wt.a,{source:"type",choices:is})],ys=Object($.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),_s=function(){var e=ys();return Object(ee.jsxs)(Se.a,{children:[Object(ee.jsx)(Gr.a,{}),Object(ee.jsx)(Ce.a,{}),Object(ee.jsx)(Ne.a,{basePath:"/deals",variant:"contained",label:"New Deal",className:e.createButton})]})},ws={list:function(e){var t=Object(ye.a)().identity;return t?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(_e.a,Object(o.a)(Object(o.a)({},e),{},{perPage:100,sort:{field:"index",order:"ASC"},filters:vs,filterDefaultValues:{sales_id:t&&(null===t||void 0===t?void 0:t.id)},actions:Object(ee.jsx)(_s,{}),pagination:!1,component:"div",children:Object(ee.jsx)(cs,{})})),Object(ee.jsx)(Tr.b,{path:"/deals/create",children:function(e){var t=e.match;return Object(ee.jsx)(ls,{open:!!t})}}),Object(ee.jsx)(Tr.b,{path:"/deals/:id/show",children:function(e){var t,a=e.match;return a?Object(ee.jsx)(Os,{open:!!a,id:null===a||void 0===a||null===(t=a.params)||void 0===t?void 0:t.id}):null}})]}):null},icon:Pc.a},Ss=a(927),ks=function(){var e=Object(ye.a)().identity,t=Object(st.a)("contacts",{page:1,perPage:10},{field:"last_seen",order:"DESC"},{status:"hot",sales_id:null===e||void 0===e?void 0:e.id},{enabled:Number.isInteger(null===e||void 0===e?void 0:e.id)}),a=t.data,n=t.ids,c=t.total,r=t.loaded;return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(Pe.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(ee.jsx)(Pe.a,{ml:2,mr:2,display:"flex",children:Object(ee.jsx)(ac.a,{color:"disabled",fontSize:"large"})}),Object(ee.jsx)(Ie.a,{underline:"none",variant:"h5",color:"textSecondary",component:Ve.a,to:"/contacts",children:"Hot contacts"})]}),Object(ee.jsx)(Xt.a,{children:Object(ee.jsx)(Ss.a,{basePath:"/contacts",linkType:"show",ids:n,data:a,total:c,loaded:r,primaryText:function(e){return"".concat(e.first_name," ").concat(e.last_name)},secondaryText:function(e){return Object(oa.a)(new Date(e.last_seen),new Date,{addSuffix:!0})},leftAvatar:function(e){return Object(ee.jsx)(la,{record:e})}})})]})},Cs=Object($.a)((function(e){return{note:{marginBottom:e.spacing(2)},noteText:{backgroundColor:e.palette.grey[200],padding:e.spacing(1),borderRadius:10},noteTextText:{display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical",overflow:"hidden"}}})),Ns=function(){var e=Cs(),t=Object(ye.a)().identity,a=Object(st.a)("contactNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),n=a.data,c=a.ids,r=a.loaded,s=Object(st.a)("dealNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),i=s.data,l=s.ids,j=s.loaded,d=Object(st.a)("companyNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),b=d.data,u=d.ids,O=d.loaded;if(!r||!j||!O)return null;if(!c||!n||!l||!i||!u||!b)return null;var x=[].concat(c.map((function(e){return Object(o.a)(Object(o.a)({},n[e]),{},{type:"contactNote"})})),l.map((function(e){return Object(o.a)(Object(o.a)({},i[e]),{},{type:"dealNote"})})),u.map((function(e){return Object(o.a)(Object(o.a)({},b[e]),{},{type:"companyNote"})}))).sort((function(e,t){return new Date(t.date).valueOf()-new Date(e.date).valueOf()})).slice(0,5);return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(Pe.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(ee.jsx)(Pe.a,{ml:2,mr:2,display:"flex",children:Object(ee.jsx)(ze.a,{color:"disabled",fontSize:"large"})}),Object(ee.jsx)(J.a,{variant:"h5",color:"textSecondary",children:"My Latest Notes"})]}),Object(ee.jsx)(Xt.a,{children:Object(ee.jsx)(Et.a,{children:x.map((function(t){return Object(ee.jsxs)("div",{id:"".concat(t.type,"_").concat(t.id),className:e.note,children:[Object(ee.jsxs)(J.a,{color:"textSecondary",gutterBottom:!0,children:["on"," ",Object(ee.jsx)(Ps,{note:t}),", added"," ",Object(oa.a)(new Date(t.date),new Date,{addSuffix:!0})]}),Object(ee.jsx)("div",{className:e.noteText,children:Object(ee.jsx)(J.a,{className:e.noteTextText,children:t.text})})]},"".concat(t.type,"_").concat(t.id))}))})})]})},Ps=function(e){var t=e.note;return"dealNote"===t.type?Object(ee.jsx)(Ts,{note:t}):"contactNote"===t.type?Object(ee.jsx)(Ds,{note:t}):"companyNote"===t.type?Object(ee.jsx)(Is,{note:t}):null},Ts=function(e){var t=e.note;return Object(ee.jsxs)(ee.Fragment,{children:["Deal"," ",Object(ee.jsx)(Re.a,{record:t,source:"deal_id",reference:"deals",basePath:"/deals",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name",variant:"body1"})})]})},Ds=function(e){var t=e.note;return Object(ee.jsxs)(ee.Fragment,{children:["Contact"," ",Object(ee.jsx)(Re.a,{record:t,source:"contact_id",reference:"contacts",basePath:"/contacts",link:"show",children:Object(ee.jsx)(Sa.a,{variant:"body1",render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]})},Is=function(e){var t=e.note;return Object(ee.jsxs)(ee.Fragment,{children:["Company"," ",Object(ee.jsx)(Re.a,{record:t,source:"company_id",reference:"companies",basePath:"/companies",link:"show",children:Object(ee.jsx)(Zt.a,{source:"name",variant:"body1"})})]})},Ws=function(){var e=Object(ye.a)().identity,t=Object(st.a)("deals",{page:1,perPage:10},{field:"stage",order:"DESC"},{stage:"lost",sales_id:null===e||void 0===e?void 0:e.id},{enabled:Number.isInteger(null===e||void 0===e?void 0:e.id)}),a=t.data,n=t.ids,r=t.total,s=t.loaded,i=Object(c.useState)(n),o=Object(le.a)(i,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){var e=n.map((function(e){return a[e]})),t=[];Ga.filter((function(e){return"won"!==e})).forEach((function(a){return e.filter((function(e){return e.stage===a})).forEach((function(e){return t.push(e.id)}))})),j(t)}),[n,a]),Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(Pe.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(ee.jsx)(Pe.a,{ml:2,mr:2,display:"flex",children:Object(ee.jsx)(Pc.a,{color:"disabled",fontSize:"large"})}),Object(ee.jsx)(Ie.a,{underline:"none",variant:"h5",color:"textSecondary",component:Ve.a,to:"/deals",children:"Deals Pipeline"})]}),Object(ee.jsx)(Xt.a,{children:Object(ee.jsx)(Ss.a,{basePath:"/deals",linkType:"show",ids:l,data:a,total:r,loaded:s,primaryText:function(e){return e.name},secondaryText:function(e){return"".concat(e.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})," , ").concat(Ua[e.stage])},leftAvatar:function(e){return Object(ee.jsx)(Re.a,{source:"company_id",record:e,reference:"companies",resource:"deals",basePath:"/deals",link:!1,children:Object(ee.jsx)(Ze,{size:"small"})})}})})]})},As=a(222),Ls=a(937),Fs=a(375),Bs=a(528),zs=Object(c.memo)((function(e){var t=e.setTooltipContent,a=Object(st.a)("countries",{perPage:1e3,page:1}),n=a.data,c=a.ids;if(!a.loaded)return null;var r=Object(Ls.a)().domain([0,Object(Fs.a)(c.map((function(e){return n[e].nb_companies})))]).range(["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd"]);return Object(ee.jsx)(As.ComposableMap,{"data-tip":"",projection:"geoAzimuthalEqualArea",projectionConfig:{rotate:[-25,-50,0],scale:750},children:Object(ee.jsx)(As.ZoomableGroup,{center:[0,0],zoom:1,children:Object(ee.jsx)(As.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",children:function(e){var a=e.geographies;return Object(ee.jsx)(ee.Fragment,{children:a.map((function(e){var a=e.properties.ISO_A3,s=c.find((function(e){return n[e].iso3===a}));return Object(ee.jsx)(As.Geography,{geography:e,fill:s?r(n[s].nb_companies):"#D6D6DA",stroke:"#EAEAEC",onMouseEnter:function(){var a=e.properties,c=a.NAME,r=(a.POP_EST,s?n[s].nb_companies:0);t("".concat(c," - ").concat(r))},onMouseLeave:function(){t("")}},e.rsmKey)}))})}})})})})),Es=function(){var e=Object(c.useState)(""),t=Object(le.a)(e,2),a=t[0],n=t[1];return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(zs,{setTooltipContent:n}),Object(ee.jsx)(Bs.a,{children:a})]})},Rs=function(){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(Pe.a,{display:"flex",mt:"2em",children:[Object(ee.jsx)(Pe.a,{flex:"3",mr:"1em",children:Object(ee.jsx)(Es,{})}),Object(ee.jsx)(Pe.a,{flex:"1",mr:"1em",children:Object(ee.jsx)(ks,{})})]}),Object(ee.jsxs)(Pe.a,{display:"flex",mt:"2em",children:[Object(ee.jsx)(Pe.a,{flex:"1",mr:"1em",children:Object(ee.jsx)(Ns,{})}),Object(ee.jsxs)(Pe.a,{flex:"1",display:"flex",children:[Object(ee.jsx)(Pe.a,{flex:"1",mr:"1em",children:Object(ee.jsx)(ks,{})}),Object(ee.jsx)(Pe.a,{flex:"1",children:Object(ee.jsx)(Ws,{})})]})]})]})},Ms=a(930),Vs=a(529),qs=a.n(Vs),Hs=a(928),Gs=a(929),Us=a(56),Js=["meta","input"],Ks=Object($.a)((function(e){return{form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},button:{width:"100%"},icon:{marginRight:e.spacing(1)},actions:{padding:"0 1em 1em 1em",display:"flex",flexDirection:"column"}}})),Zs=function(e){var t=e.meta,a=t.touched,n=t.error,c=e.input,r=Object(Nt.a)(e,Js);return Object(ee.jsx)(Aa.a,Object(o.a)(Object(o.a)(Object(o.a)({error:!(!a||!n),helperText:a&&n},c),r),{},{fullWidth:!0}))},$s=function(e){var t=e.redirectTo,a=Object(Us.a)(!1),n=Object(le.a)(a,2),c=n[0],r=n[1],s=Object(q.a)(),i=Object(Fr.a)(),o=Object($a.a)(),l=(Object(Qr.a)(),Ks()),j=function(){var e=Object(f.a)(h.a.mark((function e(a){var n,c,s,l,j,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.first_name,c=a.last_name,s=a.email,l=a.username,j=a.password,a.confirm,r(!0),e.prev=2,e.next=5,v.a.post("".concat("/auth","/register"),{first_name:n,last_name:c,email:s,username:l,password:j});case 5:e.sent,r(!1),i({username:l,password:j},t),e.next=19;break;case 10:if(e.prev=10,e.t0=e.catch(2),r(!1),401!=e.t0.response.status){e.next=18;break}return d=e.t0.response.data.message,o("Error:".concat(d),"warning"),e.abrupt("return",Promise.reject(d));case 18:return e.abrupt("return",Promise.reject(e.t0));case 19:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsx)(Pr.b,{onSubmit:j,validate:function(e){var t=e.first_name,a=e.last_name,n=e.email,c=e.username,r=e.password,i=e.confirm;return{first_name:t?void 0:s("ra.validation.required"),last_name:a?void 0:s("ra.validation.required"),email:n?void 0:s("ra.validation.required"),username:c?void 0:s("ra.validation.required"),password:r?void 0:s("ra.validation.required"),confirm:r!==i?"Confirmation should match password":void 0}},render:function(e){var t=e.handleSubmit;return Object(ee.jsxs)("form",{className:l.form,onSubmit:t,noValidate:!0,children:[Object(ee.jsx)(Et.a,{children:Object(ee.jsx)(Hs.a,{maxWidth:"xs",children:Object(ee.jsxs)(Gs.a,{container:!0,spacing:2,children:[Object(ee.jsx)(Gs.a,{item:!0,xs:12,sm:6,children:Object(ee.jsx)("div",{className:l.input,children:Object(ee.jsx)(Pr.a,{autoFocus:!0,id:"first_name",name:"first_name",component:Zs,label:"First Name",disabled:c,required:!0})})}),Object(ee.jsx)(Gs.a,{item:!0,xs:12,sm:6,children:Object(ee.jsx)("div",{className:l.input,children:Object(ee.jsx)(Pr.a,{autoFocus:!0,id:"last_name",name:"last_name",component:Zs,label:"Last Name",disabled:c,required:!0})})}),Object(ee.jsx)(Gs.a,{item:!0,xs:12,children:Object(ee.jsx)("div",{className:l.input,children:Object(ee.jsx)(Pr.a,{autoFocus:!0,id:"email",name:"email",component:Zs,label:"Email Address",disabled:c,required:!0})})}),Object(ee.jsx)(Gs.a,{item:!0,xs:12,children:Object(ee.jsx)("div",{className:l.input,children:Object(ee.jsx)(Pr.a,{autoFocus:!0,id:"username",name:"username",component:Zs,label:s("ra.auth.username"),disabled:c,required:!0})})}),Object(ee.jsx)(Gs.a,{item:!0,xs:12,children:Object(ee.jsx)("div",{className:l.input,children:Object(ee.jsx)(Pr.a,{id:"password",name:"password",component:Zs,label:s("ra.auth.password"),type:"password",disabled:c,autoComplete:"current-password",required:!0})})}),Object(ee.jsx)(Gs.a,{item:!0,xs:12,children:Object(ee.jsx)("div",{className:l.input,children:Object(ee.jsx)(Pr.a,{id:"confirm",name:"confirm",component:Zs,label:"Confirm Password",type:"password",disabled:c,autoComplete:"current-password",required:!0})})})]})})}),Object(ee.jsxs)(Dr.a,{className:l.actions,children:[Object(ee.jsxs)(ra.a,{variant:"contained",type:"submit",color:"primary",disabled:c,className:l.button,fullWidth:!0,children:[c&&Object(ee.jsx)(Ir.a,{size:25,thickness:2}),"Register"]}),Object(ee.jsx)(J.a,{variant:"body2",children:"Or"}),Object(ee.jsx)(Ie.a,{color:"textSecondary",component:Ve.a,to:"/login",variant:"body1",children:"Login"})]})]})}})},Qs=Object($.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main}}}),{name:"Register"}),Xs=function(){var e=Qs();return Object(ee.jsxs)("div",{className:e.main,children:[Object(ee.jsxs)(Xt.a,{className:e.card,children:[Object(ee.jsx)("div",{className:e.avatar,children:Object(ee.jsx)(He.a,{className:e.icon,children:Object(ee.jsx)(qs.a,{})})}),Object(ee.jsx)($s,{})]}),Object(ee.jsx)(Br.a,{})]})},Ys=function(e){return Object(ee.jsx)(Wr.a,{theme:Object(x.a)(Cr),children:Object(ee.jsx)(Xs,Object(o.a)({},e))})},ei=a(250),ti=a(461),ai=a(86),ni=function(e){return{type:"CHANGE_THEME",payload:e}},ci=Object($.a)({label:{width:"10em",display:"inline-block"},button:{margin:"1em"}}),ri=function(){var e=Object(q.a)(),t=Object(ei.a)(),a=Object(ti.a)(),n=ci(),c=Object(ie.f)((function(e){return e.theme})),r=Object(ie.e)();return Object(ee.jsxs)(Xt.a,{children:[Object(ee.jsx)(ai.b,{title:e("pos.configuration")}),Object(ee.jsxs)(Et.a,{children:[Object(ee.jsx)("div",{className:n.label,children:e("pos.theme.name")}),Object(ee.jsx)(ra.a,{variant:"contained",className:n.button,color:"light"===c?"primary":"default",onClick:function(){return r(ni("light"))},children:e("pos.theme.light")}),Object(ee.jsx)(ra.a,{variant:"contained",className:n.button,color:"dark"===c?"primary":"default",onClick:function(){return r(ni("dark"))},children:e("pos.theme.dark")})]}),Object(ee.jsxs)(Et.a,{children:[Object(ee.jsx)("div",{className:n.label,children:e("pos.language")}),Object(ee.jsx)(ra.a,{variant:"contained",className:n.button,color:"en"===t?"primary":"default",onClick:function(){return a("en")},children:"en"}),Object(ee.jsx)(ra.a,{variant:"contained",className:n.button,color:"fr"===t?"primary":"default",onClick:function(){return a("fr")},children:"fr"}),Object(ee.jsx)(ra.a,{variant:"contained",className:n.button,color:"ja"===t?"primary":"default",onClick:function(){return a("ja")},children:"ja"})]})]})},si=[Object(ee.jsx)(Ms.a,{exact:!0,path:"/register",component:Ys}),Object(ee.jsx)(Tr.b,{exact:!0,path:"/configuration",render:function(){return Object(ee.jsx)(ri,{})}})],ii=a(307),oi=Object(o.a)({},ii.a),li=Object(x.a)(l.a),ji=Object(m.a)((function(e){return"fr"===e?a.e(4).then(a.bind(null,964)).then((function(e){return e.default})):(console.log(e),"ja"===e?a.e(3).then(a.bind(null,962)).then((function(e){return e.default})):oi)}),"en"),di=function(){return Object(ee.jsxs)(j.a,{customRoutes:si,dataProvider:A,authProvider:V,loginPage:qr,layout:Nr,dashboard:Rs,theme:li,i18nProvider:ji,children:[Object(ee.jsx)(d.a,Object(o.a)({name:"deals"},ws)),Object(ee.jsx)(d.a,Object(o.a)({name:"contacts"},nc)),Object(ee.jsx)(d.a,Object(o.a)({name:"companies"},wn)),Object(ee.jsx)(d.a,Object(o.a)({name:"products"},jr)),Object(ee.jsx)(d.a,{name:"productProperties"}),Object(ee.jsx)(d.a,{name:"propertyTypes"}),Object(ee.jsx)(d.a,{name:"contactNotes"}),Object(ee.jsx)(d.a,{name:"companyNotes"}),Object(ee.jsx)(d.a,{name:"productNotes"}),Object(ee.jsx)(d.a,{name:"dealNotes"}),Object(ee.jsx)(d.a,Object(o.a)({name:"productFamilies"},_r)),Object(ee.jsx)(d.a,{name:"familyCategories",list:b.a,edit:u.a,show:O.a}),Object(ee.jsx)(d.a,Object(o.a)({name:"tasks"},kc)),Object(ee.jsx)(d.a,{name:"sales",list:b.a}),Object(ee.jsx)(d.a,{name:"tags",list:b.a}),Object(ee.jsx)(d.a,{name:"countries",list:b.a})]})},bi=function(e){e&&e instanceof Function&&a.e(5).then(a.bind(null,963)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};i.a.render(Object(ee.jsxs)(r.a.StrictMode,{children:[Object(ee.jsx)(n.a,{}),Object(ee.jsx)(di,{})]}),document.getElementById("root")),bi()}},[[801,1,2]]]);
//# sourceMappingURL=main.39ada738.chunk.js.map